import{k as h,l as T,o as c,f as n,t as j,Q as L,T as q,m as z,b as e,a as d,u as l,i as m,p as D,F as y,q as U,g as H,e as C,s as B,w as J,x as E,v as $,y as M}from"./app-KAZvOGBA.js";import{_ as u}from"./TextInput-dHJyIBCY.js";import{M as I}from"./MiniLoader-wzzfs1X1.js";import"./_plugin-vue_export-helper-x3n3nnut.js";const K=["value"],R={key:1,class:"px-3 py-2 transition-all duration-100 border border-gray-300 rounded-md shadow-sm min-h-60 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600"},N={__name:"TextAreaInput",props:{modelValue:{type:String,required:!0},auth:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(b,{expose:f}){const g=h(null);return T(()=>{g.value.hasAttribute("autofocus")&&g.value.focus()}),f({focus:()=>g.value.focus()}),(r,t)=>b.auth?(c(),n("textarea",{key:0,class:"transition-all duration-100 border-gray-300 rounded-md shadow-sm dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600",value:b.modelValue,onInput:t[0]||(t[0]=x=>r.$emit("update:modelValue",x.target.value)),ref_key:"input",ref:g},null,40,K)):(c(),n("div",R,j(b.modelValue),1))}},P={class:"w-full h-full p-4 pb-32"},Q={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},Z={class:"flex flex-col items-start p-4 bg-white rounded-lg shadow-md dark:bg-gray-800 col-span-full"},G=e("label",{for:"name"},"İsim",-1),W={class:"flex flex-col gap-6"},X={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},Y=e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Aspects")],-1),ee={class:"flex flex-col items-start"},te=e("label",{for:"high_concept"},"High Concept",-1),ae={class:"flex flex-col items-start"},se=e("label",{for:"trouble"},"Trouble",-1),le={class:"flex flex-col items-start"},re=e("label",{for:"relationship"},"Relationships",-1),oe={class:"flex flex-col items-start"},de=e("label",{for:"aspect"},"Serbest Aspect",-1),ie={class:"flex flex-col items-start"},ce=e("label",{for:"aspect2"},"Serbest Aspect",-1),ne={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},ue=e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Stunts")],-1),he={class:"flex flex-col items-start"},fe=e("label",{for:"aspect"},"Stuntlar",-1),pe={class:"flex justify-between gap-2"},me={class:"flex flex-col-reverse items-center justify-between md:flex-row"},ge=["disabled"],_e=e("label",{for:"refresh",class:"ml-2 text-3xl"},"Refresh",-1),be={class:"flex flex-col items-center justify-between md:flex-row"},xe=e("label",{for:"fp",class:"mr-2 text-3xl"},"Fate Point",-1),ve=["disabled"],ke={class:"flex flex-col gap-6"},ye={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},we=e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Stress")],-1),Ve={class:"flex flex-col items-start"},De=e("label",null,"Fiziksel",-1),Ue={class:"flex justify-between w-full gap-2 sm:justify-start"},je=["disabled","id","onUpdate:modelValue"],Se=["for"],Ce=e("i",{class:"text-2xl fa-solid fa-check"},null,-1),Be=[Ce],$e={class:"flex flex-col items-start"},Me=e("label",null,"Zihinsel",-1),Ne={class:"flex justify-between w-full gap-2 sm:justify-start"},Oe=["disabled","id","onUpdate:modelValue"],Ae=["for"],Fe=e("i",{class:"text-2xl fa-solid fa-check"},null,-1),Te=[Fe],Le=e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Consequences")],-1),qe={class:"flex flex-col items-start"},ze=e("label",{for:"mild"},"Hafif",-1),He={class:"flex w-full gap-1"},Je=e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"2",-1),Ee={class:"flex flex-col items-start"},Ie=e("label",{for:"moderate"},"Orta",-1),Ke={class:"flex w-full gap-1"},Re=e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"4",-1),Pe={class:"flex flex-col items-start"},Qe=e("label",{for:"severe"},"Ağır",-1),Ze={class:"flex w-full gap-1"},Ge=e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"6",-1),We={class:"flex flex-col items-start"},Xe=e("label",{for:"extreme"},"Kritik",-1),Ye={class:"flex w-full gap-1"},et=e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"8",-1),tt={class:"flex flex-col items-start opacity-50"},at=e("label",{for:"mild2"},"Hafif",-1),st={class:"flex w-full gap-1"},lt=e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"2",-1),rt={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},ot=e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Skills")],-1),dt={class:"flex flex-col items-stretch gap-4"},it=["onUpdate:modelValue"],ct={key:1,class:"flex items-center justify-center w-16 h-16 p-2 text-center bg-transparent border border-gray-300 rounded-full dark:border-gray-600"},nt={key:0,class:"fixed left-0 w-full px-2 bottom-2 z-[1000]"},ut={class:"flex justify-between gap-2 p-4 bg-white border border-gray-300 rounded-lg dark:bg-opacity-10 dark:border-gray-800 backdrop-blur-md"},ht=e("span",null,"Notlar",-1),ft=e("svg",{class:"ms-2 -me-0.5 h-4 w-4 rotate-90",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),pt=[ht,ft],mt={class:"w-1/3 text-green-600 bg-green-100 generalButton",type:"submit"},gt=e("span",null,"Kaydet",-1),_t={class:"absolute top-0 right-0 w-4/5 h-full transition-all duration-300 ease-in bg-white shadow-xl dark:bg-gray-800 lg:w-1/3"},bt={class:"h-full p-4"},xt=e("i",{class:"text-[11px] fa-solid fa-x"},null,-1),vt=[xt],kt={class:"mt-4"},yt=e("label",{for:"notes",class:""},"Notes",-1),jt={__name:"Base",props:{character:{type:Object},skills:{type:Object}},setup(b){const f=b,g=L(),r=h(g.props.auth.user.id==f.character.user_id),t=q({characterData:f.character,skills:f.skills}),x=h([{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1}]),w=h([{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1}]);if(t.characterData.physical_stress!=null)for(let o=0;o<t.characterData.physical_stress;o++)x.value[o].checked=!0;if(t.characterData.mental_stress!=null)for(let o=0;o<t.characterData.mental_stress;o++)w.value[o].checked=!0;const V=h(!1),O=h([]);function S(){t.characterData.physical_stress=x.value.filter(o=>o.checked).length,t.characterData.mental_stress=w.value.filter(o=>o.checked).length,console.log(t.characterData)}const A=h(JSON.parse(f.skills.skills)),k=h(JSON.parse(f.skills.skills_data)),F=async()=>{M.start(),V.value=!0,t.skills.skills_data=JSON.stringify(k.value),t.post("/character-update",{preserveScroll:!0,onSuccess:o=>{},onError:o=>{let s=Object.keys(o);for(let p=0;p<s.length;p++)O.value.push(o[s[p]])},onFinish:()=>{V.value=!1,M.done()}})},_=h(!1);return(o,s)=>{const p=z("mask");return c(),n(y,null,[e("form",{onSubmit:C(F,["prevent"])},[e("div",P,[e("div",Q,[e("div",Z,[G,d(u,{auth:r.value,id:"name",modelValue:l(t).characterData.name,"onUpdate:modelValue":s[0]||(s[0]=a=>l(t).characterData.name=a),class:"w-full"},null,8,["auth","modelValue"])]),e("div",W,[e("div",X,[Y,e("div",ee,[te,d(u,{auth:r.value,id:"high_concept",modelValue:l(t).characterData.high_concept,"onUpdate:modelValue":s[1]||(s[1]=a=>l(t).characterData.high_concept=a),class:"w-full"},null,8,["auth","modelValue"])]),e("div",ae,[se,d(u,{auth:r.value,id:"trouble",modelValue:l(t).characterData.trouble,"onUpdate:modelValue":s[2]||(s[2]=a=>l(t).characterData.trouble=a),class:"w-full"},null,8,["auth","modelValue"])]),e("div",le,[re,d(u,{auth:r.value,id:"relationship",modelValue:l(t).characterData.relationship,"onUpdate:modelValue":s[3]||(s[3]=a=>l(t).characterData.relationship=a),class:"w-full"},null,8,["auth","modelValue"])]),e("div",oe,[de,d(u,{auth:r.value,id:"aspect",modelValue:l(t).characterData.aspect,"onUpdate:modelValue":s[4]||(s[4]=a=>l(t).characterData.aspect=a),class:"w-full"},null,8,["auth","modelValue"])]),e("div",ie,[ce,d(u,{auth:r.value,id:"aspect2",modelValue:l(t).characterData.aspect2,"onUpdate:modelValue":s[5]||(s[5]=a=>l(t).characterData.aspect2=a),class:"w-full"},null,8,["auth","modelValue"])])]),e("div",ne,[ue,e("div",he,[fe,d(N,{auth:r.value,modelValue:l(t).characterData.stunts,"onUpdate:modelValue":s[6]||(s[6]=a=>l(t).characterData.stunts=a),class:"w-full",rows:"15"},null,8,["auth","modelValue"])]),e("div",pe,[e("div",me,[m(e("input",{disabled:!r.value,type:"number",id:"refresh","onUpdate:modelValue":s[7]||(s[7]=a=>l(t).characterData.refresh=a),class:"w-20 h-20 p-4 text-4xl bg-transparent border border-gray-300 rounded-full focus:ring-indigo-500 focus:border-indigo-500 dark:text-gray-300"},null,8,ge),[[p,"#"],[D,l(t).characterData.refresh]]),_e]),e("div",be,[xe,m(e("input",{disabled:!r.value,type:"number",id:"fp","onUpdate:modelValue":s[8]||(s[8]=a=>l(t).characterData.fate_point=a),class:"w-20 h-20 p-4 text-4xl bg-transparent border border-gray-300 rounded-full focus:ring-indigo-500 focus:border-indigo-500 dark:text-gray-300"},null,8,ve),[[p,"#"],[D,l(t).characterData.fate_point]])])])])]),e("div",ke,[e("div",ye,[we,e("div",Ve,[De,e("div",Ue,[(c(!0),n(y,null,U(x.value,(a,i)=>(c(),n("div",{key:i},[m(e("input",{disabled:!r.value,id:"physical-"+(i+1),type:"checkbox","onUpdate:modelValue":v=>a.checked=v,onChange:S,class:"hidden peer"},null,40,je),[[$,a.checked]]),e("label",{for:"physical-"+(i+1),class:"inline-flex items-center justify-center w-10 h-10 text-transparent bg-white border-2 border-gray-300 rounded-lg cursor-pointer sm:w-12 sm:h-12 dark:bg-gray-800 dark:border-gray-700 peer-checked:border-pink-600 dark:peer-checked:text-pink-300 peer-checked:text-pink-600 hover:bg-gray-50 dark:hover:bg-gray-700"},Be,8,Se)]))),128))])]),e("div",$e,[Me,e("div",Ne,[(c(!0),n(y,null,U(w.value,(a,i)=>(c(),n("div",{key:i},[m(e("input",{disabled:!r.value,id:"mental-"+(i+1),type:"checkbox","onUpdate:modelValue":v=>a.checked=v,onChange:S,class:"hidden peer"},null,40,Oe),[[$,a.checked]]),e("label",{for:"mental-"+(i+1),class:"inline-flex items-center justify-center w-10 h-10 text-transparent bg-white border-2 border-gray-300 rounded-lg cursor-pointer sm:w-12 sm:h-12 dark:bg-gray-800 dark:border-gray-700 peer-checked:border-cyan-600 dark:peer-checked:text-cyan-300 peer-checked:text-cyan-600 hover:bg-gray-50 dark:hover:bg-gray-700"},Te,8,Ae)]))),128))])]),Le,e("div",qe,[ze,e("div",He,[Je,d(u,{auth:r.value,id:"mild",modelValue:l(t).characterData.mild,"onUpdate:modelValue":s[9]||(s[9]=a=>l(t).characterData.mild=a),class:"w-full"},null,8,["auth","modelValue"])])]),e("div",Ee,[Ie,e("div",Ke,[Re,d(u,{auth:r.value,id:"moderate",modelValue:l(t).characterData.moderate,"onUpdate:modelValue":s[10]||(s[10]=a=>l(t).characterData.moderate=a),class:"w-full"},null,8,["auth","modelValue"])])]),e("div",Pe,[Qe,e("div",Ze,[Ge,d(u,{auth:r.value,id:"severe",modelValue:l(t).characterData.severe,"onUpdate:modelValue":s[11]||(s[11]=a=>l(t).characterData.severe=a),class:"w-full"},null,8,["auth","modelValue"])])]),e("div",We,[Xe,e("div",Ye,[et,d(u,{auth:r.value,id:"extreme",modelValue:l(t).characterData.extreme,"onUpdate:modelValue":s[12]||(s[12]=a=>l(t).characterData.extreme=a),class:"w-full"},null,8,["auth","modelValue"])])]),e("div",tt,[at,e("div",st,[lt,d(u,{auth:r.value,id:"mild2",modelValue:l(t).characterData.mild2,"onUpdate:modelValue":s[13]||(s[13]=a=>l(t).characterData.mild2=a),class:"w-full"},null,8,["auth","modelValue"])])])]),e("div",rt,[ot,e("div",dt,[(c(!0),n(y,null,U(A.value,(a,i)=>(c(),n("div",{key:i,class:"flex items-center gap-2 text-xl tracking-wide dark:text-gray-100"},[r.value?m((c(),n("input",{key:0,type:"number",min:"0","onUpdate:modelValue":v=>k.value[i]=v,class:"w-16 h-16 p-2 text-center bg-transparent border border-gray-300 rounded-full dark:border-gray-600"},null,8,it)),[[p,"#"],[D,k.value[i]]]):(c(),n("div",ct,j(k.value[i]),1)),e("span",null,j(o.$t(`skills.${a}`)),1)]))),128))])])])])]),r.value?(c(),n("div",nt,[e("div",ut,[e("button",{type:"button",class:"text-amber-600 bg-amber-100 generalButton",onClick:s[14]||(s[14]=a=>_.value=!_.value)},pt),e("button",mt,[gt,d(I,{show:V.value,radius:"4"},null,8,["show"])])])])):H("",!0)],32),m(e("div",{class:"fixed top-0 left-0 w-full h-full bg-gray-800/30 dark:bg-gray-900/50",onClick:s[17]||(s[17]=C(a=>_.value=!1,["self"]))},[d(E,{name:"slide-fade"},{default:J(()=>[m(e("div",_t,[e("div",bt,[e("button",{type:"button",class:"absolute flex items-center justify-center w-6 h-6 rounded-full text-sky-600 bg-sky-100 right-2 top-2",onClick:s[15]||(s[15]=a=>_.value=!1)},vt),e("div",kt,[yt,d(N,{id:"notes",auth:r.value,modelValue:l(t).characterData.notes,"onUpdate:modelValue":s[16]||(s[16]=a=>l(t).characterData.notes=a),class:"w-full",rows:"15"},null,8,["auth","modelValue"])])])],512),[[B,_.value]])]),_:1})],512),[[B,_.value]])],64)}}};export{jt as default};
