import{Q as W,k as u,T,h as X,l as Y,f,b as e,a as n,u as o,c as m,g as p,i as g,m as z,F as S,p as L,t as U,e as I,q as H,w as N,s as ee,o as c,v as K,x as te,y as ae,z as j,O as se}from"./app-SAubKWtj.js";import{_ as D}from"./TextInput-u6CjB5Ry.js";import{_,a as x,M as Z}from"./MiniLoader-Dl10d0p1.js";import{_ as q}from"./Modal-fTnaVdvZ.js";import{_ as le}from"./Roll-5RQqscTJ.js";import{_ as oe}from"./_plugin-vue_export-helper-x3n3nnut.js";const l=b=>(te("data-v-1ef698b4"),b=b(),ae(),b),re={class:"w-full h-full p-4 pb-32"},de={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},ne={class:"flex flex-col items-start p-4 bg-white rounded-lg shadow-md dark:bg-gray-800 col-span-full"},ce=l(()=>e("label",{for:"name"},"Name",-1)),ie={class:"flex flex-col gap-6"},ue={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},he=l(()=>e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Aspects")],-1)),fe={class:"flex flex-col items-start"},pe=l(()=>e("label",{for:"high_concept"},"High Concept",-1)),_e={class:"flex flex-col items-start"},me=l(()=>e("label",{for:"trouble"},"Trouble",-1)),ge={class:"flex flex-col items-start"},xe=l(()=>e("label",{for:"relationship"},"Relationships",-1)),ve={class:"flex flex-col items-start"},be=l(()=>e("label",{for:"aspect"},"Serbest Aspect",-1)),ke={class:"flex flex-col items-start"},ye=l(()=>e("label",{for:"aspect2"},"Serbest Aspect",-1)),we={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},Ve=l(()=>e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Stunts")],-1)),De={class:"flex flex-col items-start"},Se=l(()=>e("label",{for:"aspect"},"Stuntlar",-1)),Ue={class:"flex justify-between gap-2"},je={class:"flex flex-col-reverse items-center justify-between md:flex-row"},Ce=["disabled"],$e=l(()=>e("label",{for:"refresh",class:"ml-2 text-3xl"},"Refresh",-1)),Be={class:"flex flex-col items-center justify-between md:flex-row"},Me=l(()=>e("label",{for:"fp",class:"mr-2 text-3xl"},"Fate Point",-1)),Oe=["disabled"],ze={class:"flex flex-col gap-6"},Le={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},Ne=l(()=>e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Stress")],-1)),Ee={class:"flex flex-col items-start"},Fe=l(()=>e("label",null,"Fiziksel",-1)),Ae={class:"flex justify-between w-full gap-2 sm:justify-start"},Te=["disabled","id","onUpdate:modelValue"],Ie=["for"],He=l(()=>e("i",{class:"text-2xl fa-solid fa-check"},null,-1)),Ke=[He],Ze={class:"flex flex-col items-start"},qe=l(()=>e("label",null,"Zihinsel",-1)),Je={class:"flex justify-between w-full gap-2 sm:justify-start"},Re=["disabled","id","onUpdate:modelValue"],Pe=["for"],Qe=l(()=>e("i",{class:"text-2xl fa-solid fa-check"},null,-1)),Ge=[Qe],We=l(()=>e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Consequences")],-1)),Xe={class:"flex flex-col items-start"},Ye=l(()=>e("label",{for:"mild"},"Hafif",-1)),et={class:"flex w-full gap-1"},tt=l(()=>e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"2",-1)),at={class:"flex flex-col items-start"},st=l(()=>e("label",{for:"moderate"},"Orta",-1)),lt={class:"flex w-full gap-1"},ot=l(()=>e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"4",-1)),rt={class:"flex flex-col items-start"},dt=l(()=>e("label",{for:"severe"},"Ağır",-1)),nt={class:"flex w-full gap-1"},ct=l(()=>e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"6",-1)),it={class:"flex flex-col items-start"},ut=l(()=>e("label",{for:"extreme"},"Kritik",-1)),ht={class:"flex w-full gap-1"},ft=l(()=>e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"8",-1)),pt={class:"flex flex-col items-start opacity-50"},_t=l(()=>e("label",{for:"mild2"},"Hafif",-1)),mt={class:"flex w-full gap-1"},gt=l(()=>e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"2",-1)),xt={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},vt={class:"dark:text-gray-200"},bt=l(()=>e("span",{class:"header"},"Skills",-1)),kt=l(()=>e("span",{class:""},"Total: ",-1)),yt={class:"font-semibold text-pink-600 dark:text-pink-300"},wt={class:"grid grid-cols-1 sm:grid-cols-3 md:grid-cols-2 xl:grid-cols-3 gap-y-4 gap-x-2"},Vt=["onUpdate:modelValue"],Dt={key:1,class:"flex items-center justify-center w-16 h-16 p-2 text-center bg-transparent border border-gray-300 rounded-full dark:border-gray-600"},St={key:0,class:"fixed left-0 z-40 w-full px-2 bottom-2"},Ut={class:"flex flex-col-reverse justify-between gap-2 p-4 bg-white border border-gray-300 rounded-lg sm:flex-row dark:bg-opacity-10 dark:border-gray-800 backdrop-blur-md"},jt={class:"grid w-full grid-cols-6 gap-2 sm:w-1/2"},Ct=l(()=>e("span",null,"Sil",-1)),$t=l(()=>e("i",{class:"text-xs fa-solid fa-trash"},null,-1)),Bt=[Ct,$t],Mt=l(()=>e("span",null,"Notlar",-1)),Ot=l(()=>e("svg",{class:"ms-2 -me-0.5 h-4 w-4 rotate-90",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)),zt=[Mt,Ot],Lt=l(()=>e("span",null,"Zar",-1)),Nt=l(()=>e("i",{class:"text-xs fa-solid fa-dice"},null,-1)),Et=[Lt,Nt],Ft={class:"w-full text-green-600 bg-green-100 sm:w-1/3 generalButton",type:"submit"},At=l(()=>e("span",null,"Kaydet",-1)),Tt={class:"absolute top-0 right-0 w-4/5 h-full overflow-scroll transition-all duration-300 ease-in bg-white shadow-xl dark:bg-gray-800 lg:w-1/3"},It={class:"h-full p-4"},Ht=l(()=>e("i",{class:"text-[11px] fa-solid fa-x"},null,-1)),Kt=[Ht],Zt={class:"h-full mt-4"},qt=l(()=>e("label",{for:"notes",class:""},"Notes",-1)),Jt={class:"p-6"},Rt={class:"relative mb-2"},Pt=l(()=>e("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," Karakteri Sil ",-1)),Qt=l(()=>e("i",{class:"text-sm fa-solid fa-x"},null,-1)),Gt=[Qt],Wt={class:"my-6 dark:text-gray-200"},Xt={class:"flex items-center justify-between"},Yt=l(()=>e("span",null,"Vazgeç",-1)),ea=[Yt],ta=l(()=>e("span",null,"Sil",-1)),aa={class:"p-6"},sa={class:"relative mb-2"},la=l(()=>e("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," Zar At ",-1)),oa=l(()=>e("i",{class:"text-sm fa-solid fa-x"},null,-1)),ra=[oa],da={class:"my-6 dark:text-gray-200"},na={__name:"Base",props:{character:{type:Object},skills:{type:Object},skillLabels:{type:Array}},setup(b){const k=b,J=W(),r=u(J.props.auth.user.id==k.character.user_id),s=T({characterData:k.character,skills:k.skills}),C=u([{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1}]),$=u([{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1}]);if(s.characterData.physical_stress!=null)for(let d=0;d<s.characterData.physical_stress;d++)C.value[d].checked=!0;if(s.characterData.mental_stress!=null)for(let d=0;d<s.characterData.mental_stress;d++)$.value[d].checked=!0;const B=u(!1),E=u([]);function F(){s.characterData.physical_stress=C.value.filter(d=>d.checked).length,s.characterData.mental_stress=$.value.filter(d=>d.checked).length,console.log(s.characterData)}const y=u(JSON.parse(k.skills.skills_data)),R=u(k.skillLabels),P=X(()=>y.value.reduce((d,t)=>d+t,0)),Q=async()=>{j.start(),B.value=!0,s.skills.skills_data=JSON.stringify(y.value),s.post("/character-update",{preserveScroll:!0,onSuccess:d=>{},onError:d=>{let t=Object.keys(d);for(let h=0;h<t.length;h++)E.value.push(d[t[h]])},onFinish:()=>{B.value=!1,j.done()}})},v=u(!1),M=u(!1),w=u(!1),A=T({id:""}),O=u(!1);u(!1);function G(d){j.start(),O.value=!0,A.id=d,A.post("/character-delete",{preserveScroll:!0,onSuccess:t=>{w.value=!1,setTimeout(()=>{se.visit("/dashboard")},100)},onError:t=>{let h=Object.keys(t);for(let a=0;a<h.length;a++)E.value.push(t[h[a]])},onFinish:()=>{O.value=!1,j.done()}})}return(d,t)=>{const h=Y("mask");return c(),f(S,null,[e("form",{onSubmit:I(Q,["prevent"])},[e("div",re,[e("div",de,[e("div",ne,[ce,n(_,{maxlength:"300",rows:"2",auth:r.value,id:"name",modelValue:o(s).characterData.name,"onUpdate:modelValue":t[0]||(t[0]=a=>o(s).characterData.name=a),class:"w-full"},null,8,["auth","modelValue"]),r.value?(c(),m(x,{key:0,maxlength:"300",value:o(s).characterData.name.length},null,8,["value"])):p("",!0)]),e("div",ie,[e("div",ue,[he,e("div",fe,[pe,n(_,{maxlength:"300",rows:"2",auth:r.value,id:"high_concept",modelValue:o(s).characterData.high_concept,"onUpdate:modelValue":t[1]||(t[1]=a=>o(s).characterData.high_concept=a),class:"w-full"},null,8,["auth","modelValue"]),r.value?(c(),m(x,{key:0,maxlength:"300",value:o(s).characterData.high_concept.length},null,8,["value"])):p("",!0)]),e("div",_e,[me,n(_,{maxlength:"300",rows:"2",auth:r.value,id:"trouble",modelValue:o(s).characterData.trouble,"onUpdate:modelValue":t[2]||(t[2]=a=>o(s).characterData.trouble=a),class:"w-full"},null,8,["auth","modelValue"]),r.value?(c(),m(x,{key:0,maxlength:"300",value:o(s).characterData.trouble.length},null,8,["value"])):p("",!0)]),e("div",ge,[xe,n(_,{maxlength:"300",rows:"2",auth:r.value,id:"relationship",modelValue:o(s).characterData.relationship,"onUpdate:modelValue":t[3]||(t[3]=a=>o(s).characterData.relationship=a),class:"w-full"},null,8,["auth","modelValue"]),r.value?(c(),m(x,{key:0,maxlength:"300",value:o(s).characterData.relationship.length},null,8,["value"])):p("",!0)]),e("div",ve,[be,n(_,{maxlength:"300",rows:"2",auth:r.value,id:"aspect",modelValue:o(s).characterData.aspect,"onUpdate:modelValue":t[4]||(t[4]=a=>o(s).characterData.aspect=a),class:"w-full"},null,8,["auth","modelValue"]),r.value?(c(),m(x,{key:0,maxlength:"300",value:o(s).characterData.aspect.length},null,8,["value"])):p("",!0)]),e("div",ke,[ye,n(_,{maxlength:"300",rows:"2",auth:r.value,id:"aspect2",modelValue:o(s).characterData.aspect2,"onUpdate:modelValue":t[5]||(t[5]=a=>o(s).characterData.aspect2=a),class:"w-full"},null,8,["auth","modelValue"]),r.value?(c(),m(x,{key:0,maxlength:"300",value:o(s).characterData.aspect2.length},null,8,["value"])):p("",!0)])]),e("div",we,[Ve,e("div",De,[Se,n(_,{maxlength:"2000",auth:r.value,modelValue:o(s).characterData.stunts,"onUpdate:modelValue":t[6]||(t[6]=a=>o(s).characterData.stunts=a),class:"w-full",rows:"15"},null,8,["auth","modelValue"]),r.value?(c(),m(x,{key:0,maxlength:"2000",value:o(s).characterData.stunts.length},null,8,["value"])):p("",!0)]),e("div",Ue,[e("div",je,[g(e("input",{disabled:!r.value,type:"number",id:"refresh","onUpdate:modelValue":t[7]||(t[7]=a=>o(s).characterData.refresh=a),class:"w-20 h-20 p-4 text-4xl bg-transparent border border-gray-300 rounded-full focus:ring-indigo-500 focus:border-indigo-500 dark:text-gray-300"},null,8,Ce),[[h,"#"],[z,o(s).characterData.refresh]]),$e]),e("div",Be,[Me,g(e("input",{disabled:!r.value,type:"number",id:"fp","onUpdate:modelValue":t[8]||(t[8]=a=>o(s).characterData.fate_point=a),class:"w-20 h-20 p-4 text-4xl bg-transparent border border-gray-300 rounded-full focus:ring-indigo-500 focus:border-indigo-500 dark:text-gray-300"},null,8,Oe),[[h,"#"],[z,o(s).characterData.fate_point]])])])])]),e("div",ze,[e("div",Le,[Ne,e("div",Ee,[Fe,e("div",Ae,[(c(!0),f(S,null,L(C.value,(a,i)=>(c(),f("div",{key:i},[g(e("input",{disabled:!r.value,id:"physical-"+(i+1),type:"checkbox","onUpdate:modelValue":V=>a.checked=V,onChange:F,class:"hidden peer"},null,40,Te),[[K,a.checked]]),e("label",{for:"physical-"+(i+1),class:"inline-flex items-center justify-center w-10 h-10 text-transparent bg-white border-2 border-gray-300 rounded-lg cursor-pointer sm:w-12 sm:h-12 dark:bg-gray-800 dark:border-gray-700 peer-checked:border-pink-600 dark:peer-checked:text-pink-300 peer-checked:text-pink-600 hover:bg-gray-50 dark:hover:bg-gray-700"},Ke,8,Ie)]))),128))])]),e("div",Ze,[qe,e("div",Je,[(c(!0),f(S,null,L($.value,(a,i)=>(c(),f("div",{key:i},[g(e("input",{disabled:!r.value,id:"mental-"+(i+1),type:"checkbox","onUpdate:modelValue":V=>a.checked=V,onChange:F,class:"hidden peer"},null,40,Re),[[K,a.checked]]),e("label",{for:"mental-"+(i+1),class:"inline-flex items-center justify-center w-10 h-10 text-transparent bg-white border-2 border-gray-300 rounded-lg cursor-pointer sm:w-12 sm:h-12 dark:bg-gray-800 dark:border-gray-700 peer-checked:border-cyan-600 dark:peer-checked:text-cyan-300 peer-checked:text-cyan-600 hover:bg-gray-50 dark:hover:bg-gray-700"},Ge,8,Pe)]))),128))])]),We,e("div",Xe,[Ye,e("div",et,[tt,n(D,{auth:r.value,maxlength:"200",id:"mild",modelValue:o(s).characterData.mild,"onUpdate:modelValue":t[9]||(t[9]=a=>o(s).characterData.mild=a),class:"w-full"},null,8,["auth","modelValue"])])]),e("div",at,[st,e("div",lt,[ot,n(D,{auth:r.value,maxlength:"200",id:"moderate",modelValue:o(s).characterData.moderate,"onUpdate:modelValue":t[10]||(t[10]=a=>o(s).characterData.moderate=a),class:"w-full"},null,8,["auth","modelValue"])])]),e("div",rt,[dt,e("div",nt,[ct,n(D,{auth:r.value,maxlength:"200",id:"severe",modelValue:o(s).characterData.severe,"onUpdate:modelValue":t[11]||(t[11]=a=>o(s).characterData.severe=a),class:"w-full"},null,8,["auth","modelValue"])])]),e("div",it,[ut,e("div",ht,[ft,n(D,{auth:r.value,maxlength:"200",id:"extreme",modelValue:o(s).characterData.extreme,"onUpdate:modelValue":t[12]||(t[12]=a=>o(s).characterData.extreme=a),class:"w-full"},null,8,["auth","modelValue"])])]),e("div",pt,[_t,e("div",mt,[gt,n(D,{auth:r.value,maxlength:"200",id:"mild2",modelValue:o(s).characterData.mild2,"onUpdate:modelValue":t[13]||(t[13]=a=>o(s).characterData.mild2=a),class:"w-full"},null,8,["auth","modelValue"])])])]),e("div",xt,[e("div",vt,[bt,e("div",null,[kt,e("span",yt,U(P.value),1)])]),e("div",wt,[(c(!0),f(S,null,L(R.value,(a,i)=>(c(),f("div",{key:i,class:"flex items-center gap-2 text-xl tracking-wide dark:text-gray-100"},[r.value?g((c(),f("input",{key:0,type:"number",min:"0","onUpdate:modelValue":V=>y.value[i]=V,class:"w-16 h-16 p-2 text-center bg-transparent border border-gray-300 rounded-full dark:border-gray-600"},null,8,Vt)),[[h,"##"],[z,y.value[i]]]):(c(),f("div",Dt,U(y.value[i]),1)),e("span",null,U(a)+" ",1)]))),128))])])])])]),r.value?(c(),f("div",St,[e("div",Ut,[e("div",jt,[e("button",{type:"button",class:"text-red-600 bg-red-100 generalButton",onClick:t[14]||(t[14]=a=>{w.value=!0})},Bt),e("button",{type:"button",class:"col-span-2 col-start-3 text-amber-600 bg-amber-100 generalButton",onClick:t[15]||(t[15]=a=>v.value=!v.value)},zt),e("button",{type:"button",class:"col-span-2 col-start-5 text-indigo-600 bg-indigo-100 generalButton",onClick:t[16]||(t[16]=a=>{M.value=!0})},Et)]),e("button",Ft,[At,n(Z,{show:B.value,radius:"4"},null,8,["show"])])])])):p("",!0)],32),g(e("div",{class:"fixed top-0 left-0 w-full h-full bg-gray-800/30 dark:bg-gray-900/50",onClick:t[19]||(t[19]=I(a=>v.value=!1,["self"]))},[n(ee,{name:"slide-fade"},{default:N(()=>[g(e("div",Tt,[e("div",It,[e("button",{type:"button",class:"absolute flex items-center justify-center w-6 h-6 rounded-full text-sky-600 bg-sky-100 right-2 top-2",onClick:t[17]||(t[17]=a=>v.value=!1)},Kt),e("div",Zt,[qt,n(_,{id:"notes",auth:r.value,modelValue:o(s).characterData.notes,"onUpdate:modelValue":t[18]||(t[18]=a=>o(s).characterData.notes=a),class:"w-full h-[calc(100%-124px)]",rows:"15"},null,8,["auth","modelValue"])])])],512),[[H,v.value]])]),_:1})],512),[[H,v.value]]),n(q,{show:w.value},{default:N(()=>[e("div",Jt,[e("div",Rt,[Pt,e("button",{class:"absolute top-0 right-0 flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full dark:bg-gray-900 dark:text-white hoverEffect",onClick:t[20]||(t[20]=a=>{w.value=!1})},Gt)]),e("div",Wt,' "'+U(o(s).characterData.name)+'" karakterini silmek istediğinize emin misiniz? ',1),e("div",Xt,[e("button",{class:"px-4 py-2 rounded bg-sky-200 text-sky-700 hoverEffect h-[42px] flex gap-1 items-center justify-center",onClick:t[21]||(t[21]=a=>{w.value=!1})},ea),e("button",{class:"px-4 py-2 rounded bg-red-200 text-red-700 hoverEffect h-[42px] flex gap-1 items-center justify-center",onClick:t[22]||(t[22]=a=>G(o(s).characterData.character_id))},[ta,n(Z,{show:O.value,radius:"4"},null,8,["show"])])])])]),_:1},8,["show"]),n(q,{show:M.value},{default:N(()=>[e("div",aa,[e("div",sa,[la,e("button",{class:"absolute top-0 right-0 flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full dark:bg-gray-900 dark:text-white hoverEffect",onClick:t[23]||(t[23]=a=>{M.value=!1})},ra)]),e("div",da,[n(le,{type:"2"})])])]),_:1},8,["show"])],64)}}},_a=oe(na,[["__scopeId","data-v-1ef698b4"]]);export{_a as default};
