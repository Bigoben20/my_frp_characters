import{Q as z,k as n,T as V,f as r,a,u as i,w as p,F as b,o as d,Z as L,b as e,d as B,t as h,p as $,g as j,e as O,z as g}from"./app-OyZUWhIN.js";import{a as T}from"./AuthenticatedLayout-LoBn7REp.js";import{_ as S}from"./Modal-OzDS0djI.js";import{_ as H}from"./TextInput-mEMDFUWD.js";import{a as E,_ as U,M as F}from"./MiniLoader-8K6a1AdJ.js";import{_ as I}from"./Roll-Ik6XqqRW.js";import"./ApplicationLogo--vxdaTgj.js";import"./_plugin-vue_export-helper-x3n3nnut.js";const K=e("h2",{class:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200"},"Dashboard",-1),Q={class:"py-12"},Z={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},q={class:"p-4 overflow-hidden bg-white shadow-sm sm:p-6 dark:bg-gray-800 sm:rounded-lg"},A={class:"mb-4 text-xl font-semibold text-gray-900 dark:text-gray-100"},G={class:"text-blue-600 dark:text-blue-400"},J={class:"mb-2"},P={class:"w-full"},R={class:"w-full text-left table-fixed"},W=e("thead",{class:"dark:text-gray-300"},[e("tr",{class:"bg-gray-100 dark:bg-gray-700"},[e("th",{class:"px-3 py-1.5 rounded-l w-10"},"ID"),e("th",{class:"px-3 py-1.5"},"Name"),e("th",{class:"px-3 py-1.5 rounded-r"},"High Concept")])],-1),X={class:"dark:text-gray-100"},Y=["onClick"],ee={class:"px-3 py-1.5"},te={class:"px-3 py-1.5 whitespace-nowrap overflow-hidden text-ellipsis"},se={class:"px-3 py-1.5"},ae={class:"overflow-hidden text-ellipsis whitespace-nowrap"},oe={class:"py-12"},le={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},ne={class:"p-4 bg-white shadow-sm sm:p-6 dark:bg-gray-800 sm:rounded-lg"},re={class:"p-6"},ie=e("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," Create Character ",-1),de=e("i",{class:"text-sm fa-solid fa-x"},null,-1),ce=[de],ue={key:0,class:"flex w-full gap-1"},he={class:"flex flex-col"},_e=e("label",{for:"name",class:"dark:text-gray-200"},"Name:",-1),fe={class:"flex flex-col"},me=e("label",{for:"high_concept",class:"dark:text-gray-200"},"High Concept:",-1),pe=["disabled"],ge=e("span",null,"Create",-1),xe={key:0,class:"text-green-500 fa-solid fa-check-circle"},ve={class:"p-6"},ye={class:"relative mb-2"},be=e("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," Karakteri Sil ",-1),ke=e("i",{class:"text-sm fa-solid fa-x"},null,-1),we=[ke],Ce={class:"my-6 dark:text-gray-200"},Ve={class:"flex items-center justify-between"},$e=e("span",null,"Vazgeç",-1),je=[$e],Se=e("span",null,"Sil",-1),Oe={__name:"Dashboard",props:{characters:{type:Object}},setup(k){z();const f=n(null),x=n(!1),m=n(!1),v=n(!1),c=n([]),_=n(!1),o=V({name:"",high_concept:""}),M=async()=>{g.start(),_.value=!0,c.value=[],o.post("/character-create",{preserveScroll:!0,onSuccess:l=>{C()},onError:l=>{let s=Object.keys(l);for(let t=0;t<s.length;t++)c.value.push(l[s[t]])},onFinish:()=>{_.value=!1,g.done()}})},w=V({id:""}),y=n(!1);n(!1);function N(l){g.start(),y.value=!0,w.id=l,w.post("/character-delete",{preserveScroll:!0,onSuccess:s=>{m.value=!1},onError:s=>{let t=Object.keys(s);for(let u=0;u<t.length;u++)c.value.push(s[t[u]])},onFinish:()=>{y.value=!1,g.done()}})}function C(){o.reset(),_.value=!1,c.value=[],v.value=!1,x.value=!1}function D(l){window.location.href="/character-detail/"+l}return(l,s)=>(d(),r(b,null,[a(i(L),{title:"Dashboard"}),a(T,null,{header:p(()=>[K]),default:p(()=>[e("div",Q,[e("div",Z,[e("div",q,[e("div",A,[B("Characters "),e("span",G,"("+h(k.characters.length)+")",1)]),e("div",J,[e("button",{type:"button",class:"px-4 py-2 rounded bg-sky-200 text-sky-700 hoverEffect",onClick:s[0]||(s[0]=t=>x.value=!0)}," Create ")]),e("div",P,[e("table",R,[W,e("tbody",X,[(d(!0),r(b,null,$(k.characters,t=>(d(),r("tr",{key:t.id,onClick:u=>D(t.id),class:"hover:cursor-pointer hover:bg-gray-100/50 dark:hover:bg-gray-700/20"},[e("td",ee,h(t.id),1),e("td",te,h(t.name),1),e("td",se,[e("div",ae,h(t.high_concept),1)])],8,Y))),128))])])])])])]),e("div",oe,[e("div",le,[e("div",ne,[a(I)])])])]),_:1}),a(S,{show:x.value},{default:p(()=>[e("div",re,[e("div",{class:"relative mb-2"},[ie,e("button",{class:"absolute top-0 right-0 flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full dark:bg-gray-900 dark:text-white hoverEffect",onClick:C},ce)]),c.value.length>0?(d(),r("div",ue,[(d(!0),r(b,null,$(c.value,(t,u)=>(d(),r("div",{key:u,class:"px-3 py-1 text-red-500 border border-red-300 rounded bg-red-50 full"},h(t),1))),128))])):j("",!0),e("form",{onSubmit:O(M,["prevent"]),class:"grid justify-between grid-cols-1 gap-5 mt-4 md:items-end"},[e("div",he,[_e,a(H,{maxlength:"100",id:"name",modelValue:i(o).name,"onUpdate:modelValue":s[1]||(s[1]=t=>i(o).name=t)},null,8,["modelValue"]),a(E,{maxlength:"100",value:i(o).name.length},null,8,["value"])]),e("div",fe,[me,a(U,{maxlength:"300",rows:"2",id:"high_concept",modelValue:i(o).high_concept,"onUpdate:modelValue":s[2]||(s[2]=t=>i(o).high_concept=t)},null,8,["modelValue"]),a(E,{maxlength:"300",value:i(o).high_concept.length},null,8,["value"])]),e("button",{class:"px-4 py-2 rounded bg-indigo-200 text-indigo-700 hoverEffect h-[42px] flex gap-1 items-center justify-center",type:"submit",disabled:_.value||v.value},[ge,a(F,{show:_.value,radius:"4"},null,8,["show"]),v.value?(d(),r("i",xe)):j("",!0)],8,pe)],32)])]),_:1},8,["show"]),a(S,{show:m.value},{default:p(()=>[e("div",ve,[e("div",ye,[be,e("button",{class:"absolute top-0 right-0 flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full dark:bg-gray-900 dark:text-white hoverEffect",onClick:s[3]||(s[3]=t=>{f.value=null,m.value=!1})},we)]),e("div",Ce,' "'+h(f.value.name)+'" karakterini silmek istediğinize emin misiniz? ',1),e("div",Ve,[e("button",{class:"px-4 py-2 rounded bg-sky-200 text-sky-700 hoverEffect h-[42px] flex gap-1 items-center justify-center",onClick:s[4]||(s[4]=t=>{f.value=null,m.value=!1})},je),e("button",{class:"px-4 py-2 rounded bg-red-200 text-red-700 hoverEffect h-[42px] flex gap-1 items-center justify-center",onClick:s[5]||(s[5]=t=>N(f.value.id))},[Se,a(F,{show:y.value,radius:"4"},null,8,["show"])])])])]),_:1},8,["show"])],64))}};export{Oe as default};
