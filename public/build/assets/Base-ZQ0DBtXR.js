import{Q as R,k as n,T as N,h as P,l as Q,f as h,b as e,a as c,u as o,i as _,m as B,F as w,p as $,t as V,g as Z,e as z,q as F,w as E,s as G,o as f,v as T,x as W,y as X,z as D,O as Y}from"./app-7mMjBOfB.js";import{_ as y}from"./TextInput-iddu8WEv.js";import{_ as p,M as A}from"./MiniLoader-PCA-CCXD.js";import{_ as ee}from"./Modal-l8iYvI3u.js";import{_ as te}from"./Roll-gFi67yXf.js";import{_ as se}from"./_plugin-vue_export-helper-x3n3nnut.js";const l=g=>(W("data-v-35408fba"),g=g(),X(),g),ae={class:"w-full h-full p-4 pb-32"},le={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},oe={class:"flex flex-col items-start p-4 bg-white rounded-lg shadow-md dark:bg-gray-800 col-span-full"},re=l(()=>e("label",{for:"name"},"Name",-1)),de={class:"flex flex-col gap-6"},ce={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},ie=l(()=>e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Aspects")],-1)),ne={class:"flex flex-col items-start"},ue=l(()=>e("label",{for:"high_concept"},"High Concept",-1)),he={class:"flex flex-col items-start"},fe=l(()=>e("label",{for:"trouble"},"Trouble",-1)),pe={class:"flex flex-col items-start"},_e=l(()=>e("label",{for:"relationship"},"Relationships",-1)),me={class:"flex flex-col items-start"},ge=l(()=>e("label",{for:"aspect"},"Serbest Aspect",-1)),be={class:"flex flex-col items-start"},xe=l(()=>e("label",{for:"aspect2"},"Serbest Aspect",-1)),ve={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},ke=l(()=>e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Stunts")],-1)),ye={class:"flex flex-col items-start"},we=l(()=>e("label",{for:"aspect"},"Stuntlar",-1)),Ve={class:"flex justify-between gap-2"},De={class:"flex flex-col-reverse items-center justify-between md:flex-row"},Se=["disabled"],Ue=l(()=>e("label",{for:"refresh",class:"ml-2 text-3xl"},"Refresh",-1)),je={class:"flex flex-col items-center justify-between md:flex-row"},Ce=l(()=>e("label",{for:"fp",class:"mr-2 text-3xl"},"Fate Point",-1)),Be=["disabled"],$e={class:"flex flex-col gap-6"},Oe={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},Le=l(()=>e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Stress")],-1)),Me={class:"flex flex-col items-start"},Ne=l(()=>e("label",null,"Fiziksel",-1)),ze={class:"flex justify-between w-full gap-2 sm:justify-start"},Fe=["disabled","id","onUpdate:modelValue"],Ee=["for"],Te=l(()=>e("i",{class:"text-2xl fa-solid fa-check"},null,-1)),Ae=[Te],Ie={class:"flex flex-col items-start"},He=l(()=>e("label",null,"Zihinsel",-1)),Ke={class:"flex justify-between w-full gap-2 sm:justify-start"},qe=["disabled","id","onUpdate:modelValue"],Je=["for"],Re=l(()=>e("i",{class:"text-2xl fa-solid fa-check"},null,-1)),Pe=[Re],Qe=l(()=>e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Consequences")],-1)),Ze={class:"flex flex-col items-start"},Ge=l(()=>e("label",{for:"mild"},"Hafif",-1)),We={class:"flex w-full gap-1"},Xe=l(()=>e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"2",-1)),Ye={class:"flex flex-col items-start"},et=l(()=>e("label",{for:"moderate"},"Orta",-1)),tt={class:"flex w-full gap-1"},st=l(()=>e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"4",-1)),at={class:"flex flex-col items-start"},lt=l(()=>e("label",{for:"severe"},"Ağır",-1)),ot={class:"flex w-full gap-1"},rt=l(()=>e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"6",-1)),dt={class:"flex flex-col items-start"},ct=l(()=>e("label",{for:"extreme"},"Kritik",-1)),it={class:"flex w-full gap-1"},nt=l(()=>e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"8",-1)),ut={class:"flex flex-col items-start opacity-50"},ht=l(()=>e("label",{for:"mild2"},"Hafif",-1)),ft={class:"flex w-full gap-1"},pt=l(()=>e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"2",-1)),_t={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},mt={class:"dark:text-gray-200"},gt=l(()=>e("span",{class:"header"},"Skills",-1)),bt=l(()=>e("span",{class:""},"Total: ",-1)),xt={class:"font-semibold text-pink-600 dark:text-pink-300"},vt={class:"grid grid-cols-1 sm:grid-cols-3 md:grid-cols-2 xl:grid-cols-3 gap-y-4 gap-x-2"},kt=["onUpdate:modelValue"],yt={key:1,class:"flex items-center justify-center w-16 h-16 p-2 text-center bg-transparent border border-gray-300 rounded-full dark:border-gray-600"},wt={key:0,class:"fixed left-0 z-40 w-full px-2 bottom-2"},Vt={class:"flex justify-between gap-2 p-4 bg-white border border-gray-300 rounded-lg dark:bg-opacity-10 dark:border-gray-800 backdrop-blur-md"},Dt={class:"flex gap-2"},St=l(()=>e("span",null,"Notlar",-1)),Ut=l(()=>e("svg",{class:"ms-2 -me-0.5 h-4 w-4 rotate-90",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)),jt=[St,Ut],Ct=l(()=>e("span",null,"Sil",-1)),Bt=l(()=>e("i",{class:"text-xs fa-solid fa-trash"},null,-1)),$t=[Ct,Bt],Ot={class:"w-1/3 text-green-600 bg-green-100 generalButton",type:"submit"},Lt=l(()=>e("span",null,"Kaydet",-1)),Mt={class:"absolute top-0 right-0 w-4/5 h-full overflow-scroll transition-all duration-300 ease-in bg-white shadow-xl dark:bg-gray-800 lg:w-1/3"},Nt={class:"h-full p-4"},zt=l(()=>e("i",{class:"text-[11px] fa-solid fa-x"},null,-1)),Ft=[zt],Et={class:"mt-4"},Tt=l(()=>e("label",{for:"notes",class:""},"Notes",-1)),At={class:"pb-40 mt-6"},It={class:"p-6"},Ht={class:"relative mb-2"},Kt=l(()=>e("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," Karakteri Sil ",-1)),qt=l(()=>e("i",{class:"text-sm fa-solid fa-x"},null,-1)),Jt=[qt],Rt={class:"my-6 dark:text-gray-200"},Pt={class:"flex items-center justify-between"},Qt=l(()=>e("span",null,"Vazgeç",-1)),Zt=[Qt],Gt=l(()=>e("span",null,"Sil",-1)),Wt={__name:"Base",props:{character:{type:Object},skills:{type:Object},skillLabels:{type:Array}},setup(g){const b=g,I=R(),d=n(I.props.auth.user.id==b.character.user_id),a=N({characterData:b.character,skills:b.skills}),S=n([{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1}]),U=n([{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1}]);if(a.characterData.physical_stress!=null)for(let r=0;r<a.characterData.physical_stress;r++)S.value[r].checked=!0;if(a.characterData.mental_stress!=null)for(let r=0;r<a.characterData.mental_stress;r++)U.value[r].checked=!0;const j=n(!1),O=n([]);function L(){a.characterData.physical_stress=S.value.filter(r=>r.checked).length,a.characterData.mental_stress=U.value.filter(r=>r.checked).length,console.log(a.characterData)}const x=n(JSON.parse(b.skills.skills_data)),H=n(b.skillLabels),K=P(()=>x.value.reduce((r,t)=>r+t,0)),q=async()=>{D.start(),j.value=!0,a.skills.skills_data=JSON.stringify(x.value),a.post("/character-update",{preserveScroll:!0,onSuccess:r=>{},onError:r=>{let t=Object.keys(r);for(let u=0;u<t.length;u++)O.value.push(r[t[u]])},onFinish:()=>{j.value=!1,D.done()}})},m=n(!1),v=n(!1),M=N({id:""}),C=n(!1);n(!1);function J(r){D.start(),C.value=!0,M.id=r,M.post("/character-delete",{preserveScroll:!0,onSuccess:t=>{v.value=!1,setTimeout(()=>{Y.visit("/dashboard")},100)},onError:t=>{let u=Object.keys(t);for(let s=0;s<u.length;s++)O.value.push(t[u[s]])},onFinish:()=>{C.value=!1,D.done()}})}return(r,t)=>{const u=Q("mask");return f(),h(w,null,[e("form",{onSubmit:z(q,["prevent"])},[e("div",ae,[e("div",le,[e("div",oe,[re,c(p,{rows:"2",auth:d.value,id:"name",modelValue:o(a).characterData.name,"onUpdate:modelValue":t[0]||(t[0]=s=>o(a).characterData.name=s),class:"w-full"},null,8,["auth","modelValue"])]),e("div",de,[e("div",ce,[ie,e("div",ne,[ue,c(p,{rows:"2",auth:d.value,id:"high_concept",modelValue:o(a).characterData.high_concept,"onUpdate:modelValue":t[1]||(t[1]=s=>o(a).characterData.high_concept=s),class:"w-full"},null,8,["auth","modelValue"])]),e("div",he,[fe,c(p,{rows:"2",auth:d.value,id:"trouble",modelValue:o(a).characterData.trouble,"onUpdate:modelValue":t[2]||(t[2]=s=>o(a).characterData.trouble=s),class:"w-full"},null,8,["auth","modelValue"])]),e("div",pe,[_e,c(p,{rows:"2",auth:d.value,id:"relationship",modelValue:o(a).characterData.relationship,"onUpdate:modelValue":t[3]||(t[3]=s=>o(a).characterData.relationship=s),class:"w-full"},null,8,["auth","modelValue"])]),e("div",me,[ge,c(p,{rows:"2",auth:d.value,id:"aspect",modelValue:o(a).characterData.aspect,"onUpdate:modelValue":t[4]||(t[4]=s=>o(a).characterData.aspect=s),class:"w-full"},null,8,["auth","modelValue"])]),e("div",be,[xe,c(p,{rows:"2",auth:d.value,id:"aspect2",modelValue:o(a).characterData.aspect2,"onUpdate:modelValue":t[5]||(t[5]=s=>o(a).characterData.aspect2=s),class:"w-full"},null,8,["auth","modelValue"])])]),e("div",ve,[ke,e("div",ye,[we,c(p,{auth:d.value,modelValue:o(a).characterData.stunts,"onUpdate:modelValue":t[6]||(t[6]=s=>o(a).characterData.stunts=s),class:"w-full",rows:"15"},null,8,["auth","modelValue"])]),e("div",Ve,[e("div",De,[_(e("input",{disabled:!d.value,type:"number",id:"refresh","onUpdate:modelValue":t[7]||(t[7]=s=>o(a).characterData.refresh=s),class:"w-20 h-20 p-4 text-4xl bg-transparent border border-gray-300 rounded-full focus:ring-indigo-500 focus:border-indigo-500 dark:text-gray-300"},null,8,Se),[[u,"#"],[B,o(a).characterData.refresh]]),Ue]),e("div",je,[Ce,_(e("input",{disabled:!d.value,type:"number",id:"fp","onUpdate:modelValue":t[8]||(t[8]=s=>o(a).characterData.fate_point=s),class:"w-20 h-20 p-4 text-4xl bg-transparent border border-gray-300 rounded-full focus:ring-indigo-500 focus:border-indigo-500 dark:text-gray-300"},null,8,Be),[[u,"#"],[B,o(a).characterData.fate_point]])])])])]),e("div",$e,[e("div",Oe,[Le,e("div",Me,[Ne,e("div",ze,[(f(!0),h(w,null,$(S.value,(s,i)=>(f(),h("div",{key:i},[_(e("input",{disabled:!d.value,id:"physical-"+(i+1),type:"checkbox","onUpdate:modelValue":k=>s.checked=k,onChange:L,class:"hidden peer"},null,40,Fe),[[T,s.checked]]),e("label",{for:"physical-"+(i+1),class:"inline-flex items-center justify-center w-10 h-10 text-transparent bg-white border-2 border-gray-300 rounded-lg cursor-pointer sm:w-12 sm:h-12 dark:bg-gray-800 dark:border-gray-700 peer-checked:border-pink-600 dark:peer-checked:text-pink-300 peer-checked:text-pink-600 hover:bg-gray-50 dark:hover:bg-gray-700"},Ae,8,Ee)]))),128))])]),e("div",Ie,[He,e("div",Ke,[(f(!0),h(w,null,$(U.value,(s,i)=>(f(),h("div",{key:i},[_(e("input",{disabled:!d.value,id:"mental-"+(i+1),type:"checkbox","onUpdate:modelValue":k=>s.checked=k,onChange:L,class:"hidden peer"},null,40,qe),[[T,s.checked]]),e("label",{for:"mental-"+(i+1),class:"inline-flex items-center justify-center w-10 h-10 text-transparent bg-white border-2 border-gray-300 rounded-lg cursor-pointer sm:w-12 sm:h-12 dark:bg-gray-800 dark:border-gray-700 peer-checked:border-cyan-600 dark:peer-checked:text-cyan-300 peer-checked:text-cyan-600 hover:bg-gray-50 dark:hover:bg-gray-700"},Pe,8,Je)]))),128))])]),Qe,e("div",Ze,[Ge,e("div",We,[Xe,c(y,{auth:d.value,id:"mild",modelValue:o(a).characterData.mild,"onUpdate:modelValue":t[9]||(t[9]=s=>o(a).characterData.mild=s),class:"w-full"},null,8,["auth","modelValue"])])]),e("div",Ye,[et,e("div",tt,[st,c(y,{auth:d.value,id:"moderate",modelValue:o(a).characterData.moderate,"onUpdate:modelValue":t[10]||(t[10]=s=>o(a).characterData.moderate=s),class:"w-full"},null,8,["auth","modelValue"])])]),e("div",at,[lt,e("div",ot,[rt,c(y,{auth:d.value,id:"severe",modelValue:o(a).characterData.severe,"onUpdate:modelValue":t[11]||(t[11]=s=>o(a).characterData.severe=s),class:"w-full"},null,8,["auth","modelValue"])])]),e("div",dt,[ct,e("div",it,[nt,c(y,{auth:d.value,id:"extreme",modelValue:o(a).characterData.extreme,"onUpdate:modelValue":t[12]||(t[12]=s=>o(a).characterData.extreme=s),class:"w-full"},null,8,["auth","modelValue"])])]),e("div",ut,[ht,e("div",ft,[pt,c(y,{auth:d.value,id:"mild2",modelValue:o(a).characterData.mild2,"onUpdate:modelValue":t[13]||(t[13]=s=>o(a).characterData.mild2=s),class:"w-full"},null,8,["auth","modelValue"])])])]),e("div",_t,[e("div",mt,[gt,e("div",null,[bt,e("span",xt,V(K.value),1)])]),e("div",vt,[(f(!0),h(w,null,$(H.value,(s,i)=>(f(),h("div",{key:i,class:"flex items-center gap-2 text-xl tracking-wide dark:text-gray-100"},[d.value?_((f(),h("input",{key:0,type:"number",min:"0","onUpdate:modelValue":k=>x.value[i]=k,class:"w-16 h-16 p-2 text-center bg-transparent border border-gray-300 rounded-full dark:border-gray-600"},null,8,kt)),[[u,"##"],[B,x.value[i]]]):(f(),h("div",yt,V(x.value[i]),1)),e("span",null,V(s)+" ",1)]))),128))])])])])]),d.value?(f(),h("div",wt,[e("div",Vt,[e("div",Dt,[e("button",{type:"button",class:"text-amber-600 bg-amber-100 generalButton",onClick:t[14]||(t[14]=s=>m.value=!m.value)},jt),e("button",{type:"button",class:"text-red-600 bg-red-100 generalButton",onClick:t[15]||(t[15]=s=>{v.value=!0})},$t)]),e("button",Ot,[Lt,c(A,{show:j.value,radius:"4"},null,8,["show"])])])])):Z("",!0)],32),_(e("div",{class:"fixed top-0 left-0 w-full h-full bg-gray-800/30 dark:bg-gray-900/50",onClick:t[18]||(t[18]=z(s=>m.value=!1,["self"]))},[c(G,{name:"slide-fade"},{default:E(()=>[_(e("div",Mt,[e("div",Nt,[e("button",{type:"button",class:"absolute flex items-center justify-center w-6 h-6 rounded-full text-sky-600 bg-sky-100 right-2 top-2",onClick:t[16]||(t[16]=s=>m.value=!1)},Ft),e("div",Et,[Tt,c(p,{id:"notes",auth:d.value,modelValue:o(a).characterData.notes,"onUpdate:modelValue":t[17]||(t[17]=s=>o(a).characterData.notes=s),class:"w-full",rows:"15"},null,8,["auth","modelValue"])]),e("div",At,[c(te)])])],512),[[F,m.value]])]),_:1})],512),[[F,m.value]]),c(ee,{show:v.value},{default:E(()=>[e("div",It,[e("div",Ht,[Kt,e("button",{class:"absolute top-0 right-0 flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full dark:bg-gray-900 dark:text-white hoverEffect",onClick:t[19]||(t[19]=s=>{v.value=!1})},Jt)]),e("div",Rt,' "'+V(o(a).characterData.name)+'" karakterini silmek istediğinize emin misiniz? ',1),e("div",Pt,[e("button",{class:"px-4 py-2 rounded bg-sky-200 text-sky-700 hoverEffect h-[42px] flex gap-1 items-center justify-center",onClick:t[20]||(t[20]=s=>{v.value=!1})},Zt),e("button",{class:"px-4 py-2 rounded bg-red-200 text-red-700 hoverEffect h-[42px] flex gap-1 items-center justify-center",onClick:t[21]||(t[21]=s=>J(o(a).characterData.character_id))},[Gt,c(A,{show:C.value,radius:"4"},null,8,["show"])])])])]),_:1},8,["show"])],64)}}},ls=se(Wt,[["__scopeId","data-v-35408fba"]]);export{ls as default};
