import{k as g,h as de,A as ee,o as d,f as c,b as e,a as u,F as C,q as U,t as p,g as T,d as J,n as Z,e as X,i as _,v as R,B as We,C as P,y as te,z as ae,Q as ie,D as je,w as Q,T as he,m as Ae,E as Me,s as L,x as Oe,l as Y,u as r,c as z,G as Pe,p as E,O as Le}from"./app-C6HSHSCD.js";import{t as N}from"./toast-CjPgm9xu.js";import{_ as f}from"./TextInput-CzS7vW1W.js";import{_ as B}from"./TextAreaInput-DuEaqS12.js";import{_ as se}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as ne}from"./Modal-Daz9dAFO.js";import{M as ge,_ as K}from"./MiniLoader-CPb-Y7_s.js";import{_ as ze}from"./Roll-CEj5qd9P.js";const le=b=>(te("data-v-6c8e254c"),b=b(),ae(),b),Re={class:"flex flex-col p-4 bg-white rounded-lg dark:bg-gray-800"},Be={class:"flex flex-col items-start"},qe=le(()=>e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"Search Weapons",-1)),Ee={class:"relative w-full md:w-1/2"},Je={key:0,class:"absolute z-10 w-full mt-1 bg-white border rounded shadow-lg dark:bg-gray-700 dark:border-gray-600"},He=["onClick"],Ke={class:"mt-4"},Qe={class:"col-span-full"},Ge=le(()=>e("h4",{class:"font-semibold text-gray-900 text-md dark:text-gray-100"},"Properties",-1)),Ye={class:"grid w-full grid-cols-2 gap-2 md:w-1/2"},Ze=["value"],Xe={class:"col-span-full"},et=le(()=>e("h4",{class:"font-semibold text-gray-900 text-md dark:text-gray-100"},"Mastery",-1)),tt={class:"grid w-full grid-cols-2 gap-2 md:w-1/2"},at=["value"],st=le(()=>e("button",{type:"submit",class:"col-span-2 px-4 py-2 text-white bg-indigo-500 rounded md:col-span-1 hover:bg-indigo-600"},"Create Weapon",-1)),lt={__name:"DndWeapons",emits:["weaponSelected"],setup(b,{emit:S}){const A=S,V=g({name:"",damage_and_type:"",notes:"",weight:"",cost:"",properties:[],mastery:null}),j=g([]),y=g([]),k=g(""),l=g([]),w=g(!1),h=async()=>{try{const i=await P.get("/dnd/weapons");j.value=i.data,l.value=j.value}catch{N.add({type:"error",message:"Failed to fetch weapons"})}},a=async()=>{try{const i=await P.get("/dnd/weapon-properties");y.value=i.data}catch{N.add({type:"error",message:"Failed to fetch properties"})}},F=async()=>{try{let i={...V.value};i.properties=JSON.stringify(i.properties),await P.post("/dnd/weapons",i),N.add({type:"success",message:"Weapon added successfully"}),h()}catch{N.add({type:"error",message:"Failed to add weapon"})}},x=de(()=>y.value.filter(i=>!i.mastery)),$=de(()=>y.value.filter(i=>i.mastery)),M=()=>{l.value=j.value.filter(i=>i.name.toLowerCase().includes(k.value.toLowerCase()))},W=i=>{k.value=i.name,l.value=[],A("weaponSelected",i)};return ee(()=>{h(),a()}),(i,n)=>(d(),c("div",Re,[e("div",Be,[qe,e("div",Ee,[u(f,{modelValue:k.value,"onUpdate:modelValue":n[0]||(n[0]=v=>k.value=v),placeholder:"Search by name",onInput:M,class:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600"},null,8,["modelValue"]),k.value&&l.value.length?(d(),c("ul",Je,[(d(!0),c(C,null,U(l.value,v=>(d(),c("li",{key:v.id,onClick:q=>W(v),class:"px-4 py-2 overflow-hidden cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600 text-ellipsis"},p(v.name)+", "+p(v.damage_and_type),9,He))),128))])):T("",!0)])]),e("div",Ke,[e("button",{type:"button",class:"text-lg font-semibold text-gray-900 hover:text-indigo-500 dark:text-gray-100",onClick:n[1]||(n[1]=v=>w.value=!w.value)},[J("Create Weapon "),e("i",{class:Z(["transition-all duration-100 ease-out fa-solid fa-chevron-down",{"rotate-180":w.value}])},null,2)]),w.value?(d(),c("form",{key:0,onSubmit:X(F,["prevent"]),class:"grid items-start grid-cols-2 gap-4 md:grid-cols-5"},[u(f,{modelValue:V.value.name,"onUpdate:modelValue":n[2]||(n[2]=v=>V.value.name=v),placeholder:"Weapon Name",required:"",class:"w-full col-span-2 p-2 border rounded md:col-span-1 dark:bg-gray-700 dark:border-gray-600"},null,8,["modelValue"]),u(f,{modelValue:V.value.damage_and_type,"onUpdate:modelValue":n[3]||(n[3]=v=>V.value.damage_and_type=v),placeholder:"Damage and Type",required:"",class:"w-full col-span-2 p-2 border rounded md:col-span-1 dark:bg-gray-700 dark:border-gray-600"},null,8,["modelValue"]),u(f,{modelValue:V.value.weight,"onUpdate:modelValue":n[4]||(n[4]=v=>V.value.weight=v),placeholder:"Weight",class:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600"},null,8,["modelValue"]),u(f,{modelValue:V.value.cost,"onUpdate:modelValue":n[5]||(n[5]=v=>V.value.cost=v),placeholder:"Cost",class:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600"},null,8,["modelValue"]),u(B,{maxlength:"255",modelValue:V.value.notes,"onUpdate:modelValue":n[6]||(n[6]=v=>V.value.notes=v),placeholder:"Notes",class:"w-full col-span-2 p-2 border rounded md:col-span-1 dark:bg-gray-700 dark:border-gray-600"},null,8,["modelValue"]),e("div",Qe,[Ge,e("div",Ye,[(d(!0),c(C,null,U(x.value,v=>(d(),c("div",{key:v.id},[e("label",null,[_(e("input",{type:"checkbox","onUpdate:modelValue":n[7]||(n[7]=q=>V.value.properties=q),value:v.id},null,8,Ze),[[R,V.value.properties]]),J(" "+p(v.name),1)])]))),128))])]),e("div",Xe,[et,e("div",tt,[(d(!0),c(C,null,U($.value,v=>(d(),c("div",{key:v.id},[e("label",null,[_(e("input",{type:"radio","onUpdate:modelValue":n[8]||(n[8]=q=>V.value.mastery=q),value:v.id},null,8,at),[[We,V.value.mastery]]),J(" "+p(v.name),1)])]))),128))])]),st],32)):T("",!0)])]))}},ot=se(lt,[["__scopeId","data-v-6c8e254c"]]),ce=b=>(te("data-v-a14ce339"),b=b(),ae(),b),rt={class:"p-4 bg-white rounded-lg dark:bg-gray-800 col-span-full"},dt=ce(()=>e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"Character Weapons",-1)),nt={class:"overflow-x-auto whitespace-nowrap"},it={class:"w-full mt-4 text-sm text-left table-auto"},ct=ce(()=>e("thead",{class:"bg-gray-100 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-2 py-1"},"Weapon Name"),e("th",{class:"px-2 py-1"},"Damage and Type"),e("th",{class:"px-2 py-1"},"Weight"),e("th",{class:"px-2 py-1"},"Cost"),e("th",{class:"px-2 py-1"},"Properties"),e("th",{class:"px-2 py-1"},"Mastery"),e("th",{class:"px-2 py-1"},"Notes"),e("th",{class:"px-2 py-1"},"Remove")])],-1)),ut={class:"px-2 py-1"},pt={class:"px-2 py-1"},ht={class:"px-2 py-1"},gt={class:"px-2 py-1"},mt={class:"px-2 py-1 overflow-hidden text-ellipsis"},_t={class:"px-2 py-1"},ft={class:"px-2 py-1"},vt={class:"px-2 py-1"},xt=["onClick"],yt=ce(()=>e("i",{class:"text-xs fa-solid fa-x"},null,-1)),bt=[yt],kt={__name:"DndCharacterWeapons",props:{weapons:Array,characterId:Number},emits:["weaponRemoved"],setup(b,{emit:S}){const A=b,V=S,j=g([]),y=async()=>{try{const w=await P.get("/dnd/weapon-properties");j.value=w.data}catch{N.add({type:"error",message:"Failed to fetch properties"})}},k=w=>j.value.find(h=>h.id===w)||{},l=async w=>{try{await P.post("/dnd/character-weapon-delete",{character_id:A.characterId,weapon_id:w}),N.add({type:"success",message:"Weapon removed successfully"}),V("weaponRemoved",w)}catch{N.add({type:"error",message:"Failed to remove weapon"})}};return ee(()=>{y()}),(w,h)=>(d(),c("div",rt,[dt,e("div",nt,[e("table",it,[ct,e("tbody",null,[(d(!0),c(C,null,U(b.weapons,a=>{var F;return d(),c("tr",{key:a.id},[e("td",ut,p(a.name),1),e("td",pt,p(a.damage_and_type),1),e("td",ht,p(a.weight),1),e("td",gt,p(a.cost),1),e("td",mt,[(d(!0),c(C,null,U(JSON.parse(a.properties),x=>(d(),c("span",{key:x},p(k(x).name)+", ",1))),128))]),e("td",_t,p(((F=k(a.mastery))==null?void 0:F.name)||""),1),e("td",ft,p(a.notes),1),e("td",vt,[e("button",{type:"button",onClick:x=>l(a.id),class:"w-6 h-6 text-red-600 rounded-full hover:bg-red-100"},bt,8,xt)])])}),128))])])])]))}},wt=se(kt,[["__scopeId","data-v-a14ce339"]]),G=b=>(te("data-v-661e2752"),b=b(),ae(),b),Vt={class:"flex flex-col p-4 bg-white rounded-lg dark:bg-gray-800"},$t={class:"flex flex-col items-start"},Dt=G(()=>e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"Search Spells",-1)),St={class:"relative w-full md:w-1/2"},Ct={key:0,class:"absolute z-10 w-full mt-1 bg-white border rounded shadow-lg dark:bg-gray-700 dark:border-gray-600"},Ut=["onClick"],Nt={class:"mt-4"},Ft={class:"flex gap-4 col-span-full"},It={class:"flex items-center col-span-2 md:col-span-1"},Tt=G(()=>e("label",{class:"mr-1"},"Concentration",-1)),Wt={class:"flex items-center col-span-2 md:col-span-1"},jt=G(()=>e("label",{class:"mr-1"},"Ritual",-1)),At={class:"flex flex-col col-span-full"},Mt=G(()=>e("div",{class:""},"Classes",-1)),Ot={class:"flex flex-wrap text-xs gap-x-6 gap-y-2"},Pt=["for"],Lt=["value","id"],zt=G(()=>e("button",{type:"submit",class:"col-span-2 px-4 py-2 text-white bg-indigo-500 rounded md:col-span-1 hover:bg-indigo-600"},"Create Spell",-1)),Rt={__name:"DndSpells",emits:["spellSelected"],setup(b,{emit:S}){const A=S,V=ie(),j=g(V.props.classes),y=g([]),k=g(""),l=g([]),w=g(!1),h=g({name:"",level:"",school:"",casting_time:"",range:"",duration:"",components:"",concentration:!1,ritual:!1,classes:"",description:"",higher_levels:"",img_url:""}),a=g([]);je(a,()=>{console.log(a.value),h.value.classes=JSON.stringify(a.value)});const F=async()=>{try{const W=await P.get("/dnd/spells");y.value=W.data,l.value=y.value}catch{N.add({type:"error",message:"Failed to fetch spells"})}},x=async()=>{try{await P.post("/dnd/spells",h.value),N.add({type:"success",message:"Spell added successfully"}),F()}catch{N.add({type:"error",message:"Failed to add spell"})}},$=()=>{l.value=y.value.filter(W=>W.name.toLowerCase().includes(k.value.toLowerCase()))},M=W=>{k.value=W.name,l.value=[],A("spellSelected",W)};return ee(()=>{F()}),(W,i)=>(d(),c("div",Vt,[e("div",$t,[Dt,e("div",St,[u(f,{modelValue:k.value,"onUpdate:modelValue":i[0]||(i[0]=n=>k.value=n),placeholder:"Search by name",onInput:$,class:"w-full"},null,8,["modelValue"]),k.value&&l.value.length?(d(),c("ul",Ct,[(d(!0),c(C,null,U(l.value,n=>(d(),c("li",{key:n.id,onClick:v=>M(n),class:"px-4 py-2 overflow-hidden cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600 text-ellipsis"},p(n.name)+", "+p(n.level==0?"Cantrip":"Level "+n.level),9,Ut))),128))])):T("",!0)])]),e("div",Nt,[e("button",{type:"button",class:"text-lg font-semibold text-gray-900 hover:text-indigo-500 dark:text-gray-100",onClick:i[1]||(i[1]=n=>w.value=!w.value)},[J("Create Spell "),e("i",{class:Z(["transition-all duration-100 ease-out fa-solid fa-chevron-down",{"rotate-180":w.value}])},null,2)]),w.value?(d(),c("form",{key:0,onSubmit:X(x,["prevent"]),class:"grid grid-cols-2 gap-4 md:grid-cols-5"},[u(f,{modelValue:h.value.name,"onUpdate:modelValue":i[2]||(i[2]=n=>h.value.name=n),placeholder:"Spell Name",required:"",class:"w-full col-span-2"},null,8,["modelValue"]),u(f,{modelValue:h.value.level,"onUpdate:modelValue":i[3]||(i[3]=n=>h.value.level=n),type:"number",min:"0",placeholder:"Level",required:"",class:"w-full"},null,8,["modelValue"]),u(f,{modelValue:h.value.school,"onUpdate:modelValue":i[4]||(i[4]=n=>h.value.school=n),placeholder:"School",required:"",class:"w-full"},null,8,["modelValue"]),u(f,{modelValue:h.value.casting_time,"onUpdate:modelValue":i[5]||(i[5]=n=>h.value.casting_time=n),placeholder:"Casting Time",required:"",class:"w-full"},null,8,["modelValue"]),u(f,{modelValue:h.value.range,"onUpdate:modelValue":i[6]||(i[6]=n=>h.value.range=n),placeholder:"Range",required:"",class:"w-full"},null,8,["modelValue"]),u(f,{modelValue:h.value.duration,"onUpdate:modelValue":i[7]||(i[7]=n=>h.value.duration=n),placeholder:"Duration",required:"",class:"w-full"},null,8,["modelValue"]),u(f,{modelValue:h.value.components,"onUpdate:modelValue":i[8]||(i[8]=n=>h.value.components=n),placeholder:"Components",required:"",class:"w-full"},null,8,["modelValue"]),u(B,{modelValue:h.value.description,"onUpdate:modelValue":i[9]||(i[9]=n=>h.value.description=n),placeholder:"Description",required:"",class:"w-full col-span-2"},null,8,["modelValue"]),u(B,{modelValue:h.value.higher_levels,"onUpdate:modelValue":i[10]||(i[10]=n=>h.value.higher_levels=n),placeholder:"Higher Levels",class:"w-full col-span-2"},null,8,["modelValue"]),e("div",Ft,[e("div",It,[Tt,_(e("input",{type:"checkbox","onUpdate:modelValue":i[11]||(i[11]=n=>h.value.concentration=n),class:"w-4 h-4"},null,512),[[R,h.value.concentration]])]),e("div",Wt,[jt,_(e("input",{type:"checkbox","onUpdate:modelValue":i[12]||(i[12]=n=>h.value.ritual=n),class:"w-4 h-4"},null,512),[[R,h.value.ritual]])])]),e("div",At,[Mt,e("div",Ot,[(d(!0),c(C,null,U(j.value,n=>(d(),c("div",{key:n.id,class:"flex items-center col-span-2 md:col-span-1"},[e("label",{class:"mr-1",for:n.name},p(n.name),9,Pt),_(e("input",{type:"checkbox",class:"w-3 h-3 generalInput","onUpdate:modelValue":i[13]||(i[13]=v=>a.value=v),value:n.id,id:n.name},null,8,Lt),[[R,a.value]])]))),128))])]),zt],32)):T("",!0)])]))}},Bt=se(Rt,[["__scopeId","data-v-661e2752"]]),I=b=>(te("data-v-18b0d5f5"),b=b(),ae(),b),qt={class:"p-4 bg-white rounded-lg dark:bg-gray-800 col-span-full"},Et=I(()=>e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"Character Spells",-1)),Jt={class:"overflow-x-auto whitespace-nowrap"},Ht={class:"w-full mt-4 text-sm text-left table-auto"},Kt=I(()=>e("thead",{class:"bg-gray-100 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-2 py-1"},"Spell Name"),e("th",{class:"px-2 py-1"},"Level"),e("th",{class:"px-2 py-1"},"School"),e("th",{class:"px-2 py-1"},"Casting Time"),e("th",{class:"px-2 py-1"},"Range"),e("th",{class:"px-2 py-1"},"Duration"),e("th",{class:"px-2 py-1"},"Actions")])],-1)),Qt={class:"px-2 py-1"},Gt={class:"px-2 py-1"},Yt={class:"px-2 py-1"},Zt={class:"px-2 py-1"},Xt={class:"px-2 py-1"},ea={class:"px-2 py-1"},ta={class:"px-2 py-1"},aa={class:"flex items-center gap-2"},sa=["onClick"],la=I(()=>e("i",{class:"text-xs fa-solid fa-info"},null,-1)),oa=[la],ra=["onClick"],da=I(()=>e("i",{class:"text-xs fa-solid fa-x"},null,-1)),na=[da],ia={class:"p-6"},ca={class:"relative mb-2"},ua=I(()=>e("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," Spell Details ",-1)),pa=I(()=>e("i",{class:"text-sm fa-solid fa-x"},null,-1)),ha=[pa],ga={class:"grid grid-cols-2 gap-4 py-6 overflow-y-auto max-h-[calc(60vh-24px)] dark:text-gray-200"},ma={class:"flex flex-col"},_a=I(()=>e("strong",{class:"text-sm text-gray-700 dark:text-gray-300"},"Name:",-1)),fa={class:"flex flex-col"},va=I(()=>e("strong",{class:"text-sm text-gray-700 dark:text-gray-300"},"Level:",-1)),xa={class:"flex flex-col"},ya=I(()=>e("strong",{class:"text-sm text-gray-700 dark:text-gray-300"},"School:",-1)),ba={class:"flex flex-col"},ka=I(()=>e("strong",{class:"text-sm text-gray-700 dark:text-gray-300"},"Casting Time:",-1)),wa={class:"flex flex-col"},Va=I(()=>e("strong",{class:"text-sm text-gray-700 dark:text-gray-300"},"Range:",-1)),$a={class:"flex flex-col"},Da=I(()=>e("strong",{class:"text-sm text-gray-700 dark:text-gray-300"},"Duration:",-1)),Sa={class:"flex flex-col"},Ca=I(()=>e("strong",{class:"text-sm text-gray-700 dark:text-gray-300"},"Components:",-1)),Ua={class:"flex flex-col"},Na=I(()=>e("strong",{class:"text-sm text-gray-700 dark:text-gray-300"},"Concentration:",-1)),Fa={class:"flex flex-col"},Ia=I(()=>e("strong",{class:"text-sm text-gray-700 dark:text-gray-300"},"Ritual:",-1)),Ta={class:"flex flex-col"},Wa=I(()=>e("strong",{class:"text-sm text-gray-700 dark:text-gray-300"},"Classes:",-1)),ja={class:"flex flex-col col-span-2"},Aa=I(()=>e("strong",{class:"text-sm text-gray-700 dark:text-gray-300"},"Description:",-1)),Ma={key:0,class:"flex flex-col col-span-2"},Oa=I(()=>e("strong",{class:"text-sm text-gray-700 dark:text-gray-300"},"Higher Levels:",-1)),Pa={__name:"DndCharacterSpells",props:{spells:Array,characterId:Number},emits:["spellRemoved"],setup(b,{emit:S}){const A=b,V=ie(),j=S,y=g(V.props.classes),k=g(!1),l=g({}),w=F=>{l.value=F,k.value=!0},h=async F=>{try{await P.post("/dnd/character-spell-delete",{character_id:A.characterId,spell_id:F}),N.add({type:"success",message:"Spell removed successfully"}),j("spellRemoved",F)}catch{N.add({type:"error",message:"Failed to remove spell"})}};function a(F){return y.value.find(x=>x.id==F).name}return(F,x)=>(d(),c("div",qt,[Et,e("div",Jt,[e("table",Ht,[Kt,e("tbody",null,[(d(!0),c(C,null,U(b.spells,$=>(d(),c("tr",{key:$.id},[e("td",Qt,p($.name),1),e("td",Gt,p($.level),1),e("td",Yt,p($.school),1),e("td",Zt,p($.casting_time),1),e("td",Xt,p($.range),1),e("td",ea,p($.duration),1),e("td",ta,[e("div",aa,[e("button",{type:"button",onClick:M=>w($),class:"w-6 h-6 text-blue-600 rounded-full hover:bg-blue-100"},oa,8,sa),e("button",{type:"button",onClick:M=>h($.id),class:"w-6 h-6 text-red-600 rounded-full hover:bg-red-100"},na,8,ra)])])]))),128))])])]),u(ne,{show:k.value,onClose:x[1]||(x[1]=$=>k.value=!1)},{default:Q(()=>[e("div",ia,[e("div",ca,[ua,e("button",{type:"button",class:"absolute top-0 right-0 flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full dark:bg-gray-900 dark:text-white hoverEffect",onClick:x[0]||(x[0]=$=>{k.value=!1})},ha)]),e("div",ga,[e("div",ma,[_a,e("span",null,p(l.value.name),1)]),e("div",fa,[va,e("span",null,p(l.value.level),1)]),e("div",xa,[ya,e("span",null,p(l.value.school),1)]),e("div",ba,[ka,e("span",null,p(l.value.casting_time),1)]),e("div",wa,[Va,e("span",null,p(l.value.range),1)]),e("div",$a,[Da,e("span",null,p(l.value.duration),1)]),e("div",Sa,[Ca,e("span",null,p(l.value.components),1)]),e("div",Ua,[Na,e("span",null,p(l.value.concentration?"Yes":"No"),1)]),e("div",Fa,[Ia,e("span",null,p(l.value.ritual?"Yes":"No"),1)]),e("div",Ta,[Wa,(d(!0),c(C,null,U(JSON.parse(l.value.classes),$=>(d(),c("span",{class:"text-xs",key:$},p(a($)),1))),128))]),e("div",ja,[Aa,e("span",null,p(l.value.description),1)]),l.value.higher_levels?(d(),c("div",Ma,[Oa,e("span",null,p(l.value.higher_levels),1)])):T("",!0)])])]),_:1},8,["show"])]))}},La=se(Pa,[["__scopeId","data-v-18b0d5f5"]]),za={class:"flex flex-col gap-1 -mb-4 col-span-full"},Ra=e("span",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"}," Tabs ",-1),Ba={class:"flex gap-2 overflow-x-auto"},qa=["onClick"],Ea={class:"grid grid-cols-2 p-4 bg-white rounded-lg gap-y-1 gap-x-4 dark:bg-gray-800"},Ja={class:"flex flex-col items-start w-full col-span-full"},Ha=e("label",{for:"name",class:"ml-1"},"Name",-1),Ka={class:"flex flex-col items-start w-full"},Qa=e("label",{for:"background",class:"ml-1"},"Background",-1),Ga={class:"flex flex-col items-start w-full"},Ya=e("label",{for:"class",class:"ml-1"},"Class",-1),Za=["disabled"],Xa=e("option",{value:"",disabled:"",selected:""},"Select Class",-1),es=["value"],ts={class:"flex flex-col items-start w-full"},as=e("label",{for:"species",class:"ml-1"},"Species",-1),ss={class:"flex flex-col items-start w-full"},ls=e("label",{for:"subclass",class:"ml-1"},"Subclass",-1),os={class:"grid grid-cols-2 gap-4 md:grid-cols-6"},rs={class:"flex flex-col justify-end p-4 bg-white rounded-lg dark:bg-gray-800"},ds={class:"flex flex-col items-start w-full gap-2"},ns=e("label",{for:"level",class:"ml-1"},"Level",-1),is={class:"flex flex-col items-start w-full"},cs=e("label",{for:"xp",class:"ml-1"},"XP",-1),us={class:"flex flex-col justify-end gap-2 p-4 bg-white rounded-lg dark:bg-gray-800"},ps={class:"flex flex-col items-start w-full"},hs=e("label",{for:"ac",class:"ml-1"},"Armor Class",-1),gs={class:"flex flex-col items-start w-full"},ms=e("label",{for:"shield",class:"ml-1"},"Shield",-1),_s={class:"grid grid-cols-2 col-span-2 gap-2 p-4 bg-white rounded-lg dark:bg-gray-800"},fs=e("div",{class:"-mb-2 font-semibold tracking-wide text-center col-span-full"},[e("span",null,"Hit Points")],-1),vs={class:"flex flex-col items-start w-full col-span-full"},xs=e("label",{for:"current_hp",class:"ml-1"},"Current HP",-1),ys={class:"flex flex-col items-start w-full"},bs=e("label",{for:"max_hp",class:"ml-1"},"Max HP",-1),ks={class:"flex flex-col items-start w-full"},ws=e("label",{for:"temp_hp",class:"ml-1"},"Temp HP",-1),Vs={class:"grid grid-cols-1 gap-2 p-4 bg-white rounded-lg dark:bg-gray-800"},$s=e("div",{class:"-mb-2 font-semibold tracking-wide text-center col-span-full"},[e("span",null,"Hit Dice")],-1),Ds={class:"flex flex-col items-start w-full"},Ss=e("label",{for:"spent_hit_dice",class:"ml-1"},"Spent",-1),Cs={class:"flex flex-col items-start w-full"},Us=e("label",{for:"max_hit_dice",class:"ml-1"},"Max",-1),Ns={class:"grid grid-cols-1 gap-2 p-4 bg-white rounded-lg dark:bg-gray-800"},Fs=e("div",{class:"-mb-2 font-semibold tracking-wide text-center col-span-full"},[e("span",null,"Death Saves")],-1),Is=e("div",{class:""},[e("span",null,"Successes")],-1),Ts={class:"flex justify-between w-full gap-4 sm:justify-start"},Ws=["disabled","id","onUpdate:modelValue"],js=["for"],As=e("i",{class:"text-2xl -rotate-45 fa-solid fa-x"},null,-1),Ms=[As],Os=e("div",{class:""},[e("span",null,"Failures")],-1),Ps={class:"flex justify-between w-full gap-4 sm:justify-start"},Ls=["disabled","id","onUpdate:modelValue"],zs=["for"],Rs=e("i",{class:"text-2xl -rotate-45 fa-solid fa-x"},null,-1),Bs=[Rs],qs={class:"grid grid-cols-2 gap-2 md:grid-cols-4"},Es={class:"flex flex-col items-start w-full p-4 bg-white rounded-lg dark:bg-gray-800"},Js=e("label",{for:"initiative",class:"w-full ml-1 font-semibold tracking-wide text-center"},"Initiative",-1),Hs={class:"flex flex-col items-start w-full p-4 bg-white rounded-lg dark:bg-gray-800"},Ks=e("label",{for:"speed",class:"w-full ml-1 font-semibold tracking-wide text-center"},"Speed",-1),Qs={class:"flex flex-col items-start w-full p-4 bg-white rounded-lg dark:bg-gray-800"},Gs=e("label",{for:"size",class:"w-full ml-1 font-semibold tracking-wide text-center"},"Size",-1),Ys={class:"flex flex-col items-start w-full p-4 bg-white rounded-lg dark:bg-gray-800"},Zs=e("label",{for:"passive_perception",class:"w-full ml-1 font-semibold tracking-wide text-center"},"Passive Perception",-1),Xs={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},el={class:"grid grid-cols-1 gap-2 p-4 bg-white rounded-lg dark:bg-gray-800"},tl=e("label",{for:"appearance",class:"w-full ml-1 font-semibold tracking-wide text-center"},"Appearance",-1),al={class:"grid grid-cols-1 gap-2 p-4 bg-white rounded-lg dark:bg-gray-800"},sl=e("label",{for:"backstory",class:"w-full ml-1 font-semibold tracking-wide text-center"},"Backstory",-1),ll={class:"grid grid-cols-1 gap-2 p-4 bg-white rounded-lg dark:bg-gray-800"},ol=e("label",{for:"alignment",class:"w-full ml-1 font-semibold tracking-wide text-center"},"Alignment",-1),rl={class:"grid grid-cols-1 gap-2 p-4 bg-white rounded-lg dark:bg-gray-800"},dl=e("label",{for:"languages",class:"w-full ml-1 font-semibold tracking-wide text-center"},"Languages",-1),nl={class:"flex flex-wrap gap-4 col-span-full"},il={class:"flex flex-col items-center gap-1 p-4 bg-white rounded-lg dark:bg-gray-800 h-fit"},cl=e("span",{class:"text-sm font-semibold"},"Proficiency Bonus",-1),ul={class:"flex flex-col items-center gap-1 p-4 bg-white rounded-lg dark:bg-gray-800 h-fit"},pl=e("span",{class:"text-sm font-semibold"},"Heroic Inspiration",-1),hl=["disabled"],gl=e("label",{for:"heroic_inspiration",class:"inline-flex items-center justify-center w-10 h-10 text-transparent rotate-45 bg-white border border-gray-300 rounded-full cursor-pointer dark:border-gray-700 peer-checked:border-green-600 dark:peer-checked:text-green-300 peer-checked:text-green-600 hover:bg-gray-50 dark:hover:bg-gray-800 dark:bg-gray-900"},[e("i",{class:"text-xl -rotate-45 fa-solid fa-star"})],-1),ml={class:"flex flex-col items-start gap-1 p-4 bg-white rounded-lg dark:bg-gray-800"},_l=e("span",{class:"text-sm font-semibold"},"Equipment Trainng & Proficiencies",-1),fl={class:"flex items-center gap-4"},vl=e("span",{for:"armor_training",class:"text-xs"},"Armor Training",-1),xl=["for"],yl=["disabled","id","onUpdate:modelValue"],bl={class:"text-xs capitalize"},kl={class:"grid grid-cols-2 gap-2"},wl=e("label",{for:"weapons_profs",class:"text-xs"},"Weapons",-1),Vl=e("label",{for:"tools_profs",class:"text-xs"},"Tools",-1),$l={class:"flex flex-col justify-center p-4 text-center border-b border-gray-300 dark:border-gray-700"},Dl={class:"text-sm font-semibold"},Sl={class:"flex items-center justify-center gap-2 mt-2"},Cl={class:"flex items-center justify-center h-10 px-2 border border-gray-300 rounded-full min-w-10 dark:border-gray-700 dark:bg-gray-900"},Ul={class:"flex gap-2 px-4 py-2 border-b dark:border-gray-700"},Nl=["disabled","id","onUpdate:modelValue"],Fl=["for"],Il=e("i",{class:"text-xl -rotate-45 fa-solid fa-x"},null,-1),Tl=[Il],Wl=e("span",{class:"text-xs"},"Saving Throw",-1),jl={class:"flex flex-col gap-1 px-4 py-2"},Al=["disabled","id","onUpdate:modelValue"],Ml=["for"],Ol=e("i",{class:"text-xl -rotate-45 fa-solid fa-x"},null,-1),Pl=[Ol],Ll=["disabled","onUpdate:modelValue"],zl={class:"text-[11px] whitespace-nowrap"},Rl={class:"flex flex-col items-start gap-1 p-4 bg-white rounded-lg dark:bg-gray-800"},Bl=e("span",{class:"text-sm font-semibold"},"Feats",-1),ql={class:"w-full text-sm text-left"},El=e("thead",{class:"bg-gray-100 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-2 py-1"},"Feat Name"),e("th",{class:"px-2 py-1"},"Description"),e("th",{class:"px-2 py-1"},"Actions")])],-1),Jl={class:""},Hl={class:"px-2 py-1"},Kl={class:"flex items-end h-[42px]"},Ql=["onUpdate:modelValue"],Gl={class:"px-2 py-1"},Yl={class:"flex items-end h-[42px]"},Zl=["onUpdate:modelValue"],Xl={class:"px-2 py-1"},eo={class:"flex items-end h-[42px]"},to=["onClick"],ao=e("i",{class:"fa-solid fa-trash"},null,-1),so=[ao],lo=e("i",{class:"fa-solid fa-plus"},null,-1),oo={class:"flex flex-col items-start gap-1 p-4 bg-white rounded-lg dark:bg-gray-800"},ro=e("span",{class:"text-sm font-semibold"},"Class Features",-1),no={class:"w-full text-sm text-left"},io=e("thead",{class:"bg-gray-100 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-2 py-1"},"Feature Name"),e("th",{class:"px-2 py-1"},"Description"),e("th",{class:"px-2 py-1"},"Actions")])],-1),co={class:""},uo={class:"px-2 py-1"},po={class:"flex items-end h-[42px]"},ho=["onUpdate:modelValue"],go={class:"px-2 py-1"},mo={class:"flex items-end h-[42px]"},_o=["onUpdate:modelValue"],fo={class:"px-2 py-1"},vo={class:"flex items-end h-[42px]"},xo=["onClick"],yo=e("i",{class:"fa-solid fa-trash"},null,-1),bo=[yo],ko=e("i",{class:"fa-solid fa-plus"},null,-1),wo={class:"flex flex-col items-start gap-1 p-4 bg-white rounded-lg dark:bg-gray-800"},Vo=e("span",{class:"text-sm font-semibold"},"Species Traits",-1),$o={class:"w-full text-sm text-left"},Do=e("thead",{class:"bg-gray-100 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-2 py-1"},"Trait Name"),e("th",{class:"px-2 py-1"},"Description"),e("th",{class:"px-2 py-1"},"Actions")])],-1),So={class:""},Co={class:"px-2 py-1"},Uo={class:"flex items-end h-[42px]"},No=["onUpdate:modelValue"],Fo={class:"px-2 py-1"},Io={class:"flex items-end h-[42px]"},To=["onUpdate:modelValue"],Wo={class:"px-2 py-1"},jo={class:"flex items-end h-[42px]"},Ao=["onClick"],Mo=e("i",{class:"fa-solid fa-trash"},null,-1),Oo=[Mo],Po=e("i",{class:"fa-solid fa-plus"},null,-1),Lo={key:0,class:"fixed left-0 z-40 w-full px-2 bottom-2"},zo={class:"flex gap-2 p-4 bg-white bg-opacity-50 border border-gray-300 rounded-lg dark:bg-opacity-10 dark:border-gray-800 backdrop-blur-md"},Ro={class:"grid w-full grid-cols-6 gap-2 sm:grid-cols-12"},Bo=e("i",{class:"text-xs fa-solid fa-trash"},null,-1),qo=e("span",{class:"hidden sm:block"},"Sil",-1),Eo=[Bo,qo],Jo=e("i",{class:"text-xs fa-solid fa-dice"},null,-1),Ho=e("span",{class:"hidden sm:block"},"Zar",-1),Ko=[Jo,Ho],Qo={class:"text-xs fa-solid fa-share"},Go={class:"text-xs fa-solid fa-check"},Yo={class:"w-full col-span-6 col-start-1 row-start-1 text-green-600 bg-green-100 sm:col-start-9 sm:col-span-4 generalButton",type:"submit"},Zo={class:"fa-solid fa-save"},Xo=e("span",{class:"hidden sm:block"},"Kaydet",-1),er={class:"absolute top-0 right-0 w-4/5 h-full overflow-scroll transition-all duration-300 ease-in bg-white shadow-xl dark:bg-gray-800 lg:w-1/3"},tr={class:"h-full p-4"},ar=e("i",{class:"text-[11px] fa-solid fa-x"},null,-1),sr=[ar],lr={class:"h-full mt-4"},or=e("label",{for:"notes",class:""},"Notes",-1),rr={class:""},dr={class:"relative px-6 pt-6 mb-2"},nr=e("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," Karakteri Sil ",-1),ir=e("i",{class:"text-sm fa-solid fa-x"},null,-1),cr=[ir],ur={class:"px-6 my-6 dark:text-gray-200"},pr={class:"flex items-center justify-between px-6 py-4 bg-gray-100 dark:bg-gray-800"},hr=e("span",null,"Vazgeç",-1),gr=[hr],mr=e("span",null,"Sil",-1),_r={class:"p-6"},fr={class:"relative mb-2"},vr=e("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," Zar At ",-1),xr=e("i",{class:"text-sm fa-solid fa-x"},null,-1),yr=[xr],br={class:"my-6 dark:text-gray-200"},Nr={__name:"DndBase",props:{character:{type:Object}},setup(b){const S=b,A=ie(),V=g(A.props.classes);console.log(V.value);const j=g([]),y=g({armor:{},weapons:{},tools:{}}),k=g({light:!1,medium:!1,heavy:!1,shield:!1});console.log(S.character),ee(()=>{j.value=JSON.parse(S.character.abilities.abilities);const o=JSON.parse(S.character.abilities.proficiencies);if(y.value.armor=o.find(s=>s.name=="Armor"),y.value.weapons=o.find(s=>s.name=="Weapons"),y.value.tools=o.find(s=>s.name=="Tools"),console.log(j.value),console.log(y.value),k.value={light:y.value.armor.proficiencies.includes("light"),medium:y.value.armor.proficiencies.includes("medium"),heavy:y.value.armor.proficiencies.includes("heavy"),shield:y.value.armor.proficiencies.includes("shield")},a.characterData.abilities.heroic_inspiration=S.character.abilities.heroic_inspiration==1,S.character.success_death_save>0)for(let s=0;s<S.character.success_death_save;s++)v.value[s].checked=!0;if(S.character.fail_death_save>0)for(let s=0;s<S.character.fail_death_save;s++)q.value[s].checked=!0;Te()});const l=de(()=>A.props.auth.user&&A.props.auth.user.id==S.character.user_id),w=g(!1),h=g(!1),a=he({characterData:S.character,abilities:JSON.parse(S.character.abilities.abilities),proficiencies:JSON.parse(S.character.abilities.proficiencies)}),F=async()=>{Y.start(),w.value=!0,_e(),a.post("/dnd/character-update",{preserveScroll:!0,onSuccess:o=>{},onError:o=>{let s=Object.keys(o);for(let O=0;O<s.length;O++)n.value.push(o[s[O]])},onFinish:()=>{w.value=!1,Y.done()}})};setInterval(()=>{N.add({type:"warning",message:"Kardeş bayadır kaydete basmadın!"})},3e5),setInterval(()=>{F()},5e5);const x=g([{id:0,name:"Character Info",active:!0},{id:1,name:"Abilities",active:!1},{id:2,name:"Feats",active:!1},{id:3,name:"Equipment",active:!1},{id:4,name:"Spells",active:!1},{id:5,name:"Notes",active:!1},{id:6,name:"Settings",active:!1}]),$=g(!1),M=g(!1),W=g(!1),i=g(!1);g(!1);const n=g([]),v=g([{checked:!1},{checked:!1},{checked:!1}]),q=g([{checked:!1},{checked:!1},{checked:!1}]);function ue(){a.characterData.success_death_save=v.value.filter(o=>o.checked).length,a.characterData.fail_death_save=q.value.filter(o=>o.checked).length}function me(o){switch(!0){case o==3:return"-4";case(o>=4&&o<=5):return"-3";case(o>=6&&o<=7):return"-2";case(o>=8&&o<=9):return"-1";case(o>=10&&o<=11):return"0";case(o>=12&&o<=13):return"+1";case(o>=14&&o<=15):return"+2";case(o>=16&&o<=17):return"+3";case(o>=18&&o<=19):return"+4";case(o>=20&&o<=21):return"+5";case(o>=22&&o<=23):return"+6";case(o>=24&&o<=25):return"+7";case(o>=26&&o<=27):return"+8";case(o>=28&&o<=29):return"+9";case o>=30:return"+10";default:return"+0"}}function _e(){y.value.armor.proficiencies=Object.keys(k.value).filter(o=>k.value[o]).join(", "),a.proficiencies=JSON.stringify(Object.values(y.value))}function H(o){return o==null?"0":o.length.toString()}const fe=async()=>{try{const o=window.location.href;await navigator.clipboard.writeText(o),h.value=!0,N.add({type:"success",message:"Panoya Kopyalandı!"}),setTimeout(()=>{h.value=!1},2e3)}catch(o){console.error("Failed to copy: ",o)}},pe=he({id:""});function ve(o){Y.start(),i.value=!0,pe.id=o,pe.post("/dnd/character-delete",{preserveScroll:!0,onSuccess:s=>{M.value=!1,setTimeout(()=>{Le.visit("/dashboard")},100)},onError:s=>{let O=Object.keys(s);for(let t=0;t<O.length;t++)n.value.push(s[O[t]])},onFinish:()=>{i.value=!1,Y.done()}})}const xe=g(1),ye=g(1),be=g(1),ke=()=>{a.characterData.features.feats.push({id:xe.value++,name:"",description:""})},we=o=>{a.characterData.features.feats.splice(o,1)},Ve=()=>{a.characterData.features.class_features.push({id:ye.value++,name:"",description:""})},$e=o=>{a.characterData.features.class_features.splice(o,1)},De=()=>{a.characterData.features.species_traits.push({id:be.value++,name:"",description:""})},Se=o=>{a.characterData.features.species_traits.splice(o,1)},Ce=async o=>{try{await P.post("/dnd/character-weapon-add",{character_id:a.characterData.id,weapon_id:o.id}),N.add({type:"success",message:"Weapon added successfully"}),a.characterData.weapons.push(o)}catch{N.add({type:"error",message:"Failed to add weapon"})}},Ue=o=>{a.characterData.weapons=a.characterData.weapons.filter(s=>s.id!==o)},Ne=async o=>{try{await P.post("/dnd/character-spell-add",{character_id:a.characterData.id,spell_id:o.id}),N.add({type:"success",message:"Spell added successfully"}),a.characterData.spells.push(o)}catch{N.add({type:"error",message:"Failed to add spell"})}},Fe=o=>{a.characterData.spells=a.characterData.spells.filter(s=>s.id!==o)},Ie=g([]),Te=async()=>{try{const o=await P.get("/dnd/weapon-properties");Ie.value=o.data}catch{N.add({type:"error",message:"Failed to fetch properties"})}};return(o,s)=>{const O=Ae("mask");return d(),c(C,null,[e("form",{onSubmit:X(F,["prevent"]),class:"grid grid-cols-1 gap-8 px-2 pt-6 pb-32 md:px-6 dark:text-gray-100"},[e("div",za,[Ra,e("div",Ba,[e("button",{type:"button",onClick:s[0]||(s[0]=t=>x.value.forEach(D=>D.active=!0)),class:Z([x.value.every(t=>t.active==!0)?"bg-indigo-500 dark:bg-indigo-200 text-white dark:text-indigo-600":"bg-gray-200 text-gray-800","px-4 py-1 rounded-full whitespace-nowrap"])}," All ",2),(d(!0),c(C,null,U(x.value,t=>(d(),c("button",{key:t.id,type:"button",onClick:D=>x.value.forEach(m=>m.active=m.id==t.id),class:Z([t.active?"bg-indigo-500 dark:bg-indigo-200 text-white dark:text-indigo-600":"bg-gray-200 text-gray-800","px-4 py-1 rounded-full whitespace-nowrap"])},p(t.name),11,qa))),128))])]),u(Me,{name:"tab-fade"},{default:Q(()=>[_((d(),c("div",{class:"flex flex-col gap-8",key:x.value[0].id},[e("div",Ea,[e("div",Ja,[Ha,u(f,{maxlength:"255",auth:l.value,id:"name",modelValue:r(a).characterData.name,"onUpdate:modelValue":s[1]||(s[1]=t=>r(a).characterData.name=t),class:"w-full col-span-full"},null,8,["auth","modelValue"]),l.value?(d(),z(K,{key:0,maxlength:"300",value:H(r(a).characterData.name)},null,8,["value"])):T("",!0)]),e("div",Ka,[Qa,u(f,{maxlength:"100",auth:l.value,id:"background",modelValue:r(a).characterData.background,"onUpdate:modelValue":s[2]||(s[2]=t=>r(a).characterData.background=t),class:"w-full col-span-full"},null,8,["auth","modelValue"]),l.value?(d(),z(K,{key:0,maxlength:"100",value:H(r(a).characterData.background)},null,8,["value"])):T("",!0)]),e("div",Ga,[Ya,_(e("select",{disabled:!l.value,id:"class","onUpdate:modelValue":s[3]||(s[3]=t=>r(a).characterData.class=t),class:"w-full col-span-full generalInput"},[Xa,(d(!0),c(C,null,U(V.value,t=>(d(),c("option",{key:t.id,value:t.id},p(t.name),9,es))),128))],8,Za),[[Pe,r(a).characterData.class]])]),e("div",ts,[as,u(f,{maxlength:"100",auth:l.value,id:"species",modelValue:r(a).characterData.species,"onUpdate:modelValue":s[4]||(s[4]=t=>r(a).characterData.species=t),class:"w-full col-span-full"},null,8,["auth","modelValue"]),l.value?(d(),z(K,{key:0,maxlength:"100",value:H(r(a).characterData.species)},null,8,["value"])):T("",!0)]),e("div",ss,[ls,u(f,{maxlength:"100",auth:l.value,id:"subclass",modelValue:r(a).characterData.subclass,"onUpdate:modelValue":s[5]||(s[5]=t=>r(a).characterData.subclass=t),class:"w-full col-span-full"},null,8,["auth","modelValue"]),l.value?(d(),z(K,{key:0,maxlength:"100",value:H(r(a).characterData.subclass)},null,8,["value"])):T("",!0)])]),e("div",os,[e("div",rs,[e("div",ds,[ns,_(u(f,{maxlength:"3",type:"tel",auth:l.value,id:"level",modelValue:r(a).characterData.level,"onUpdate:modelValue":s[6]||(s[6]=t=>r(a).characterData.level=t),class:"w-full"},null,8,["auth","modelValue"]),[[O,"###"]])]),e("div",is,[cs,_(u(f,{maxlength:"10",type:"tel",auth:l.value,id:"level",modelValue:r(a).characterData.xp,"onUpdate:modelValue":s[7]||(s[7]=t=>r(a).characterData.xp=t),class:"w-full"},null,8,["auth","modelValue"]),[[O,"##########"]])])]),e("div",us,[e("div",ps,[hs,u(f,{maxlength:"10",auth:l.value,id:"ac",modelValue:r(a).characterData.ac,"onUpdate:modelValue":s[8]||(s[8]=t=>r(a).characterData.ac=t),class:"w-full"},null,8,["auth","modelValue"])]),e("div",gs,[ms,u(f,{maxlength:"3",auth:l.value,id:"shield",modelValue:r(a).characterData.shield,"onUpdate:modelValue":s[9]||(s[9]=t=>r(a).characterData.shield=t),class:"w-full"},null,8,["auth","modelValue"])])]),e("div",_s,[fs,e("div",vs,[xs,u(f,{maxlength:"10",auth:l.value,id:"current_hp",modelValue:r(a).characterData.current_hp,"onUpdate:modelValue":s[10]||(s[10]=t=>r(a).characterData.current_hp=t),class:"w-full"},null,8,["auth","modelValue"])]),e("div",ys,[bs,u(f,{maxlength:"10",auth:l.value,id:"max_hp",modelValue:r(a).characterData.max_hp,"onUpdate:modelValue":s[11]||(s[11]=t=>r(a).characterData.max_hp=t),class:"w-full"},null,8,["auth","modelValue"])]),e("div",ks,[ws,u(f,{maxlength:"10",auth:l.value,id:"temp_hp",modelValue:r(a).characterData.temp_hp,"onUpdate:modelValue":s[12]||(s[12]=t=>r(a).characterData.temp_hp=t),class:"w-full"},null,8,["auth","modelValue"])])]),e("div",Vs,[$s,e("div",Ds,[Ss,u(f,{maxlength:"10",auth:l.value,id:"spent_hit_dice",modelValue:r(a).characterData.spent_hit_dice,"onUpdate:modelValue":s[13]||(s[13]=t=>r(a).characterData.spent_hit_dice=t),class:"w-full"},null,8,["auth","modelValue"])]),e("div",Cs,[Us,u(f,{maxlength:"10",auth:l.value,id:"max_hit_dice",modelValue:r(a).characterData.max_hit_dice,"onUpdate:modelValue":s[14]||(s[14]=t=>r(a).characterData.max_hit_dice=t),class:"w-full"},null,8,["auth","modelValue"])])]),e("div",Ns,[Fs,e("div",null,[Is,e("div",Ts,[(d(!0),c(C,null,U(v.value,(t,D)=>(d(),c("div",{key:D},[_(e("input",{disabled:!l.value,id:"success-"+(D+1),type:"checkbox","onUpdate:modelValue":m=>t.checked=m,onChange:ue,class:"hidden peer"},null,40,Ws),[[R,t.checked]]),e("label",{for:"success-"+(D+1),class:"inline-flex items-center justify-center w-5 h-5 text-transparent rotate-45 bg-white border border-gray-300 cursor-pointer dark:bg-gray-800 dark:border-gray-700 peer-checked:border-green-600 dark:peer-checked:text-green-300 peer-checked:text-green-600 hover:bg-gray-50 dark:hover:bg-gray-700"},Ms,8,js)]))),128))])]),e("div",null,[Os,e("div",Ps,[(d(!0),c(C,null,U(q.value,(t,D)=>(d(),c("div",{key:D},[_(e("input",{disabled:!l.value,id:"fail-"+(D+1),type:"checkbox","onUpdate:modelValue":m=>t.checked=m,onChange:ue,class:"hidden peer"},null,40,Ls),[[R,t.checked]]),e("label",{for:"fail-"+(D+1),class:"inline-flex items-center justify-center w-5 h-5 text-transparent rotate-45 bg-white border border-gray-300 cursor-pointer dark:bg-gray-800 dark:border-gray-700 peer-checked:border-red-600 dark:peer-checked:text-red-300 peer-checked:text-red-600 hover:bg-gray-50 dark:hover:bg-gray-700"},Bs,8,zs)]))),128))])])])]),e("div",qs,[e("div",Es,[Js,u(f,{maxlength:"5",auth:l.value,id:"initiative",modelValue:r(a).characterData.initiative,"onUpdate:modelValue":s[15]||(s[15]=t=>r(a).characterData.initiative=t),class:"w-full"},null,8,["auth","modelValue"])]),e("div",Hs,[Ks,u(f,{maxlength:"5",auth:l.value,id:"speed",modelValue:r(a).characterData.speed,"onUpdate:modelValue":s[16]||(s[16]=t=>r(a).characterData.speed=t),class:"w-full"},null,8,["auth","modelValue"])]),e("div",Qs,[Gs,u(f,{maxlength:"10",auth:l.value,id:"size",modelValue:r(a).characterData.size,"onUpdate:modelValue":s[17]||(s[17]=t=>r(a).characterData.size=t),class:"w-full capitalize"},null,8,["auth","modelValue"])]),e("div",Ys,[Zs,u(f,{maxlength:"3",auth:l.value,id:"passive_perception",modelValue:r(a).characterData.passive_perception,"onUpdate:modelValue":s[18]||(s[18]=t=>r(a).characterData.passive_perception=t),class:"w-full"},null,8,["auth","modelValue"])])]),e("div",Xs,[e("div",el,[tl,u(B,{row:"10",maxlength:"1000",auth:l.value,id:"appearance",modelValue:r(a).characterData.appearance,"onUpdate:modelValue":s[19]||(s[19]=t=>r(a).characterData.appearance=t),class:"w-full"},null,8,["auth","modelValue"]),l.value?(d(),z(K,{key:0,maxlength:"300",value:H(r(a).characterData.appearance)},null,8,["value"])):T("",!0)]),e("div",al,[sl,u(B,{row:"10",maxlength:"1000",auth:l.value,id:"backstory",modelValue:r(a).characterData.backstory,"onUpdate:modelValue":s[20]||(s[20]=t=>r(a).characterData.backstory=t),class:"w-full"},null,8,["auth","modelValue"]),l.value?(d(),z(K,{key:0,maxlength:"300",value:H(r(a).characterData.backstory)},null,8,["value"])):T("",!0)]),e("div",ll,[ol,u(f,{maxlength:"20",auth:l.value,id:"alignment",modelValue:r(a).characterData.alignment,"onUpdate:modelValue":s[21]||(s[21]=t=>r(a).characterData.alignment=t),class:"w-full"},null,8,["auth","modelValue"])]),e("div",rl,[dl,u(B,{maxlength:"255",auth:l.value,id:"languages",modelValue:r(a).characterData.languages,"onUpdate:modelValue":s[22]||(s[22]=t=>r(a).characterData.languages=t),class:"w-full"},null,8,["auth","modelValue"])])])])),[[L,x.value[0].active]]),_((d(),c("div",{class:"grid grid-cols-2 gap-4 sm:grid-cols-3 lg:grid-cols-6",key:x.value[1].id},[e("div",nl,[e("div",il,[cl,_(u(f,{maxlength:"3",type:"tel",auth:l.value,id:"proficiency_bonus",modelValue:r(a).characterData.abilities.proficiency_bonus,"onUpdate:modelValue":s[23]||(s[23]=t=>r(a).characterData.abilities.proficiency_bonus=t),class:"w-12"},null,8,["auth","modelValue"]),[[O,"+#"]])]),e("div",ul,[pl,e("div",null,[_(e("input",{disabled:!l.value,id:"heroic_inspiration",type:"checkbox","onUpdate:modelValue":s[24]||(s[24]=t=>r(a).characterData.abilities.heroic_inspiration=t),class:"hidden peer"},null,8,hl),[[R,r(a).characterData.abilities.heroic_inspiration]]),gl])]),e("div",ml,[_l,e("div",fl,[vl,(d(),c(C,null,U(["light","medium","heavy","shield"],(t,D)=>e("div",{key:D},[e("label",{for:t},[_(e("input",{disabled:!l.value,id:t,type:"checkbox","onUpdate:modelValue":m=>k.value[t]=m,class:"inline-flex items-center justify-center w-3 h-3 mr-1 text-indigo-500 bg-white border border-gray-300 rounded-[2px] cursor-pointer dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800 dark:bg-gray-900"},null,8,yl),[[R,k.value[t]]]),e("span",bl,p(t),1)],8,xl)])),64))]),e("div",kl,[e("div",null,[wl,u(B,{placeholder:"Weapons",maxlength:"1000",auth:l.value,id:"weapons_profs",modelValue:y.value.weapons.proficiencies,"onUpdate:modelValue":s[25]||(s[25]=t=>y.value.weapons.proficiencies=t),class:"w-full text-sm col-span-full"},null,8,["auth","modelValue"])]),e("div",null,[Vl,u(B,{placeholder:"Tools",maxlength:"1000",auth:l.value,id:"tools_profs",modelValue:y.value.tools.proficiencies,"onUpdate:modelValue":s[26]||(s[26]=t=>y.value.tools.proficiencies=t),class:"w-full text-sm col-span-full"},null,8,["auth","modelValue"])])])])]),(d(!0),c(C,null,U(r(a).abilities,(t,D)=>(d(),c("div",{class:"bg-white rounded-lg dark:bg-gray-800",key:D},[e("div",$l,[e("span",Dl,p(t.ability_name),1),e("div",Sl,[e("div",Cl,p(t.ability_modifier),1),e("div",null,[_(u(f,{maxlength:"3",type:"tel",auth:l.value,id:"ability_score",modelValue:t.ability_score,"onUpdate:modelValue":m=>t.ability_score=m,onInput:m=>t.ability_modifier=me(t.ability_score),class:"w-full",placeholder:"Score"},null,8,["auth","modelValue","onUpdate:modelValue","onInput"]),[[O,"###"]])])])]),e("div",Ul,[e("div",null,[_(e("input",{disabled:!l.value,id:t.ability_name+"_savingthrow",type:"checkbox","onUpdate:modelValue":m=>t.saving_throw=m,class:"hidden peer"},null,8,Nl),[[R,t.saving_throw]]),e("label",{for:t.ability_name+"_savingthrow",class:"inline-flex items-center justify-center w-5 h-5 text-transparent rotate-45 bg-white border border-gray-300 rounded-full cursor-pointer dark:bg-gray-800 dark:border-gray-700 peer-checked:border-green-600 dark:peer-checked:text-green-300 peer-checked:text-green-600 hover:bg-gray-50 dark:hover:bg-gray-700"},Tl,8,Fl)]),Wl]),e("div",jl,[(d(!0),c(C,null,U(t.sub_abilities,(m,oe)=>(d(),c("div",{class:"flex items-center gap-2",key:oe},[e("div",null,[_(e("input",{disabled:!l.value,id:m.name+"_savingthrow",type:"checkbox","onUpdate:modelValue":re=>t.sub_abilities[oe].saving_throw_check=re,class:"hidden peer"},null,8,Al),[[R,t.sub_abilities[oe].saving_throw_check]]),e("label",{for:m.name+"_savingthrow",class:"inline-flex items-center justify-center w-4 h-4 text-transparent rotate-45 bg-white border border-gray-300 rounded-full cursor-pointer dark:bg-gray-800 dark:border-gray-700 peer-checked:border-green-600 dark:peer-checked:text-green-300 peer-checked:text-green-600 hover:bg-gray-50 dark:hover:bg-gray-700"},Pl,8,Ml)]),_(e("input",{class:"text-sm lineInput",maxlength:"3",disabled:!l.value,id:"sub_ability_modifier","onUpdate:modelValue":re=>m.sub_ability_modifier=re,placeholder:"Mod"},null,8,Ll),[[E,m.sub_ability_modifier]]),e("span",zl,p(m.name),1)]))),128))])]))),128))])),[[L,x.value[1].active]]),_((d(),c("div",{class:"grid grid-cols-1 gap-4 lg:grid-cols-3",key:x.value[2].id},[e("div",Rl,[Bl,e("table",ql,[El,e("tbody",Jl,[(d(!0),c(C,null,U(r(a).characterData.features.feats,(t,D)=>(d(),c("tr",{key:D},[e("td",Hl,[e("div",Kl,[_(e("input",{maxlength:"20","onUpdate:modelValue":m=>t.name=m,placeholder:"Feat Name",class:"text-sm lineInput"},null,8,Ql),[[E,t.name]])])]),e("td",Gl,[e("div",Yl,[_(e("textarea",{row:"3",maxlength:"255","onUpdate:modelValue":m=>t.description=m,placeholder:"Description",class:"text-[11px] lineInput"},null,8,Zl),[[E,t.description]])])]),e("td",Xl,[e("div",eo,[e("button",{type:"button",onClick:m=>we(D),class:"text-red-600"},so,8,to)])])]))),128))])]),e("button",{type:"button",onClick:ke,class:"mt-2 text-green-600"},[lo,J(" Add Feat ")])]),e("div",oo,[ro,e("table",no,[io,e("tbody",co,[(d(!0),c(C,null,U(r(a).characterData.features.class_features,(t,D)=>(d(),c("tr",{key:D},[e("td",uo,[e("div",po,[_(e("input",{maxlength:"20","onUpdate:modelValue":m=>t.name=m,placeholder:"Feature Name",class:"text-sm lineInput"},null,8,ho),[[E,t.name]])])]),e("td",go,[e("div",mo,[_(e("textarea",{row:"3",maxlength:"255","onUpdate:modelValue":m=>t.description=m,placeholder:"Description",class:"text-[11px] lineInput"},null,8,_o),[[E,t.description]])])]),e("td",fo,[e("div",vo,[e("button",{type:"button",onClick:m=>$e(D),class:"text-red-600"},bo,8,xo)])])]))),128))])]),e("button",{type:"button",onClick:Ve,class:"mt-2 text-green-600"},[ko,J(" Add Feature ")])]),e("div",wo,[Vo,e("table",$o,[Do,e("tbody",So,[(d(!0),c(C,null,U(r(a).characterData.features.species_traits,(t,D)=>(d(),c("tr",{key:D},[e("td",Co,[e("div",Uo,[_(e("input",{maxlength:"20","onUpdate:modelValue":m=>t.name=m,placeholder:"Trait Name",class:"text-sm lineInput"},null,8,No),[[E,t.name]])])]),e("td",Fo,[e("div",Io,[_(e("textarea",{row:"3",maxlength:"255","onUpdate:modelValue":m=>t.description=m,placeholder:"Description",class:"text-[11px] lineInput"},null,8,To),[[E,t.description]])])]),e("td",Wo,[e("div",jo,[e("button",{type:"button",onClick:m=>Se(D),class:"text-red-600"},Oo,8,Ao)])])]))),128))])]),e("button",{type:"button",onClick:De,class:"mt-2 text-green-600"},[Po,J(" Add Trait ")])])])),[[L,x.value[2].active]]),_((d(),c("div",{class:"grid grid-cols-1 gap-4 lg:grid-cols-2",key:x.value[3].id},[l.value?(d(),z(ot,{key:0,onWeaponSelected:Ce,class:"col-span-full"})):T("",!0),l.value?(d(),z(wt,{key:1,weapons:r(a).characterData.weapons,"character-id":r(a).characterData.id,onWeaponRemoved:Ue,class:"col-span-full"},null,8,["weapons","character-id"])):T("",!0)])),[[L,x.value[3].active]]),_((d(),c("div",{class:"grid grid-cols-1 gap-4 lg:grid-cols-2",key:x.value[4].id},[l.value?(d(),z(Bt,{key:0,onSpellSelected:Ne,class:"col-span-full"})):T("",!0),l.value?(d(),z(La,{key:1,spells:r(a).characterData.spells,"character-id":r(a).characterData.id,onSpellRemoved:Fe,class:"col-span-full"},null,8,["spells","character-id"])):T("",!0)])),[[L,x.value[4].active]])]),_:1}),l.value?(d(),c("div",Lo,[e("div",zo,[e("div",Ro,[e("button",{type:"button",class:"text-red-600 bg-red-100 generalButton",onClick:s[27]||(s[27]=t=>{M.value=!0})},Eo),e("button",{type:"button",class:"col-span-2 col-start-5 text-indigo-600 bg-indigo-100 generalButton",onClick:s[28]||(s[28]=t=>{W.value=!0})},Ko),e("button",{type:"button",class:"col-start-2 row-start-2 sm:row-start-1 sm:col-start-8 text-neutral-600 bg-neutral-100 generalButton",onClick:fe},[_(e("i",Qo,null,512),[[L,!h.value]]),_(e("i",Go,null,512),[[L,h.value]])]),e("button",Yo,[u(ge,{show:w.value,radius:"4"},null,8,["show"]),_(e("i",Zo,null,512),[[L,!w.value]]),Xo])])])])):T("",!0)],32),_(e("div",{class:"fixed top-0 left-0 w-full h-full bg-gray-800/30 dark:bg-gray-900/50",onClick:s[31]||(s[31]=X(t=>$.value=!1,["self"]))},[u(Oe,{name:"slide-fade"},{default:Q(()=>[_(e("div",er,[e("div",tr,[e("button",{type:"button",class:"absolute flex items-center justify-center w-6 h-6 rounded-full text-sky-600 bg-sky-100 right-2 top-2",onClick:s[29]||(s[29]=t=>$.value=!1)},sr),e("div",lr,[or,u(B,{id:"notes",auth:l.value,modelValue:r(a).characterData.notes,"onUpdate:modelValue":s[30]||(s[30]=t=>r(a).characterData.notes=t),class:"w-full h-[calc(100%-124px)]",rows:"15"},null,8,["auth","modelValue"])])])],512),[[L,$.value]])]),_:1})],512),[[L,$.value]]),u(ne,{show:M.value},{default:Q(()=>[e("div",rr,[e("div",dr,[nr,e("button",{type:"button",class:"absolute flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full top-6 right-6 dark:bg-gray-900 dark:text-white hoverEffect",onClick:s[32]||(s[32]=t=>{M.value=!1})},cr)]),e("div",ur,' "'+p(r(a).characterData.name)+'" karakterini silmek istediğinize emin misiniz? ',1),e("div",pr,[e("button",{type:"button",class:"px-4 py-2 rounded bg-sky-200 text-sky-700 hoverEffect h-[42px] flex gap-1 items-center justify-center",onClick:s[33]||(s[33]=t=>{M.value=!1})},gr),e("button",{type:"button",class:"px-4 py-2 rounded bg-red-200 text-red-700 hoverEffect h-[42px] flex gap-1 items-center justify-center",onClickOnce:s[34]||(s[34]=t=>ve(r(a).characterData.id))},[mr,u(ge,{show:i.value,radius:"4"},null,8,["show"])],32)])])]),_:1},8,["show"]),u(ne,{show:W.value},{default:Q(()=>[e("div",_r,[e("div",fr,[vr,e("button",{type:"button",class:"absolute top-0 right-0 flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full dark:bg-gray-900 dark:text-white hoverEffect",onClick:s[35]||(s[35]=t=>{W.value=!1})},yr)]),e("div",br,[u(ze,{type:"2"})])])]),_:1},8,["show"])],64)}}};export{Nr as default};
