import{Q as X,k as u,T as I,h as Y,l as ee,f,b as e,a as n,u as o,c as g,g as p,i as x,m as z,F as U,p as N,t as j,e as H,q as K,w as E,s as te,o as c,v as Z,x as ae,y as se,z as C,O as le}from"./app-OyZUWhIN.js";import{_ as S}from"./TextInput-mEMDFUWD.js";import{_,a as v,M as q}from"./MiniLoader-8K6a1AdJ.js";import{_ as J}from"./Modal-OzDS0djI.js";import{_ as oe}from"./Roll-Ik6XqqRW.js";import{_ as re}from"./_plugin-vue_export-helper-x3n3nnut.js";const l=k=>(ae("data-v-a5384728"),k=k(),se(),k),de={class:"w-full h-full p-4 pb-32"},ne={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},ce={class:"flex flex-col items-start p-4 bg-white rounded-lg shadow-md dark:bg-gray-800 col-span-full"},ie=l(()=>e("label",{for:"name"},"Name",-1)),ue={class:"flex flex-col gap-6"},he={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},fe=l(()=>e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Aspects")],-1)),pe={class:"flex flex-col items-start"},_e=l(()=>e("label",{for:"high_concept"},"High Concept",-1)),me={class:"flex flex-col items-start"},ge=l(()=>e("label",{for:"trouble"},"Trouble",-1)),xe={class:"flex flex-col items-start"},ve=l(()=>e("label",{for:"relationship"},"Relationships",-1)),be={class:"flex flex-col items-start"},ke=l(()=>e("label",{for:"aspect"},"Serbest Aspect",-1)),ye={class:"flex flex-col items-start"},we=l(()=>e("label",{for:"aspect2"},"Serbest Aspect",-1)),Ve={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},De=l(()=>e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Stunts")],-1)),Se={class:"flex flex-col items-start"},Ue=l(()=>e("label",{for:"aspect"},"Stuntlar",-1)),je={class:"flex justify-between gap-2"},Ce={class:"flex flex-col-reverse items-center justify-between md:flex-row"},$e=["disabled"],Be=l(()=>e("label",{for:"refresh",class:"ml-2 text-3xl"},"Refresh",-1)),Le={class:"flex flex-col items-center justify-between md:flex-row"},Me=l(()=>e("label",{for:"fp",class:"mr-2 text-3xl"},"Fate Point",-1)),Oe=["disabled"],ze={class:"flex flex-col gap-6"},Ne={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},Ee=l(()=>e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Stress")],-1)),Fe={class:"flex flex-col items-start"},Ae=l(()=>e("label",null,"Fiziksel",-1)),Te={class:"flex justify-between w-full gap-2 sm:justify-start"},Ie=["disabled","id","onUpdate:modelValue"],He=["for"],Ke=l(()=>e("i",{class:"text-2xl fa-solid fa-check"},null,-1)),Ze=[Ke],qe={class:"flex flex-col items-start"},Je=l(()=>e("label",null,"Zihinsel",-1)),Re={class:"flex justify-between w-full gap-2 sm:justify-start"},Pe=["disabled","id","onUpdate:modelValue"],Qe=["for"],Ge=l(()=>e("i",{class:"text-2xl fa-solid fa-check"},null,-1)),We=[Ge],Xe=l(()=>e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Consequences")],-1)),Ye={class:"flex flex-col items-start"},et=l(()=>e("label",{for:"mild"},"Hafif",-1)),tt={class:"flex w-full gap-1"},at=l(()=>e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"2",-1)),st={class:"flex flex-col items-start"},lt=l(()=>e("label",{for:"moderate"},"Orta",-1)),ot={class:"flex w-full gap-1"},rt=l(()=>e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"4",-1)),dt={class:"flex flex-col items-start"},nt=l(()=>e("label",{for:"severe"},"Ağır",-1)),ct={class:"flex w-full gap-1"},it=l(()=>e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"6",-1)),ut={class:"flex flex-col items-start"},ht=l(()=>e("label",{for:"extreme"},"Kritik",-1)),ft={class:"flex w-full gap-1"},pt=l(()=>e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"8",-1)),_t={class:"flex flex-col items-start opacity-50"},mt=l(()=>e("label",{for:"mild2"},"Hafif",-1)),gt={class:"flex w-full gap-1"},xt=l(()=>e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"2",-1)),vt={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},bt={class:"dark:text-gray-200"},kt=l(()=>e("span",{class:"header"},"Skills",-1)),yt=l(()=>e("span",{class:""},"Total: ",-1)),wt={class:"font-semibold text-pink-600 dark:text-pink-300"},Vt={class:"grid grid-cols-1 sm:grid-cols-3 md:grid-cols-2 xl:grid-cols-3 gap-y-4 gap-x-2"},Dt=["onUpdate:modelValue"],St={key:1,class:"flex items-center justify-center w-16 h-16 p-2 text-center bg-transparent border border-gray-300 rounded-full dark:border-gray-600"},Ut={key:0,class:"fixed left-0 z-40 w-full px-2 bottom-2"},jt={class:"flex flex-col-reverse justify-between gap-2 p-4 bg-white border border-gray-300 rounded-lg sm:flex-row dark:bg-opacity-10 dark:border-gray-800 backdrop-blur-md"},Ct={class:"grid w-full grid-cols-6 gap-2 sm:w-1/2"},$t=l(()=>e("span",null,"Sil",-1)),Bt=l(()=>e("i",{class:"text-xs fa-solid fa-trash"},null,-1)),Lt=[$t,Bt],Mt=l(()=>e("span",null,"Notlar",-1)),Ot=l(()=>e("svg",{class:"ms-2 -me-0.5 h-4 w-4 rotate-90",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)),zt=[Mt,Ot],Nt=l(()=>e("span",null,"Zar",-1)),Et=l(()=>e("i",{class:"text-xs fa-solid fa-dice"},null,-1)),Ft=[Nt,Et],At={class:"w-full text-green-600 bg-green-100 sm:w-1/3 generalButton",type:"submit"},Tt=l(()=>e("span",null,"Kaydet",-1)),It={class:"absolute top-0 right-0 w-4/5 h-full overflow-scroll transition-all duration-300 ease-in bg-white shadow-xl dark:bg-gray-800 lg:w-1/3"},Ht={class:"h-full p-4"},Kt=l(()=>e("i",{class:"text-[11px] fa-solid fa-x"},null,-1)),Zt=[Kt],qt={class:"h-full mt-4"},Jt=l(()=>e("label",{for:"notes",class:""},"Notes",-1)),Rt={class:"p-6"},Pt={class:"relative mb-2"},Qt=l(()=>e("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," Karakteri Sil ",-1)),Gt=l(()=>e("i",{class:"text-sm fa-solid fa-x"},null,-1)),Wt=[Gt],Xt={class:"my-6 dark:text-gray-200"},Yt={class:"flex items-center justify-between"},ea=l(()=>e("span",null,"Vazgeç",-1)),ta=[ea],aa=l(()=>e("span",null,"Sil",-1)),sa={class:"p-6"},la={class:"relative mb-2"},oa=l(()=>e("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," Zar At ",-1)),ra=l(()=>e("i",{class:"text-sm fa-solid fa-x"},null,-1)),da=[ra],na={class:"my-6 dark:text-gray-200"},ca={__name:"Base",props:{character:{type:Object},skills:{type:Object},skillLabels:{type:Array}},setup(k){const y=k,R=X(),r=u(R.props.auth.user.id==y.character.user_id),s=I({characterData:y.character,skills:y.skills}),$=u([{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1}]),B=u([{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1}]);if(s.characterData.physical_stress!=null)for(let d=0;d<s.characterData.physical_stress;d++)$.value[d].checked=!0;if(s.characterData.mental_stress!=null)for(let d=0;d<s.characterData.mental_stress;d++)B.value[d].checked=!0;const L=u(!1),F=u([]);function A(){s.characterData.physical_stress=$.value.filter(d=>d.checked).length,s.characterData.mental_stress=B.value.filter(d=>d.checked).length,console.log(s.characterData)}const w=u(JSON.parse(y.skills.skills_data)),P=u(y.skillLabels),Q=Y(()=>w.value.reduce((d,t)=>d+t,0)),G=async()=>{C.start(),L.value=!0,s.skills.skills_data=JSON.stringify(w.value),s.post("/character-update",{preserveScroll:!0,onSuccess:d=>{},onError:d=>{let t=Object.keys(d);for(let h=0;h<t.length;h++)F.value.push(d[t[h]])},onFinish:()=>{L.value=!1,C.done()}})},b=u(!1),M=u(!1),V=u(!1),T=I({id:""}),O=u(!1);u(!1);function W(d){C.start(),O.value=!0,T.id=d,T.post("/character-delete",{preserveScroll:!0,onSuccess:t=>{V.value=!1,setTimeout(()=>{le.visit("/dashboard")},100)},onError:t=>{let h=Object.keys(t);for(let a=0;a<h.length;a++)F.value.push(t[h[a]])},onFinish:()=>{O.value=!1,C.done()}})}function m(d){return d==null?0:d.length}return(d,t)=>{const h=ee("mask");return c(),f(U,null,[e("form",{onSubmit:H(G,["prevent"])},[e("div",de,[e("div",ne,[e("div",ce,[ie,n(_,{maxlength:"300",rows:"2",auth:r.value,id:"name",modelValue:o(s).characterData.name,"onUpdate:modelValue":t[0]||(t[0]=a=>o(s).characterData.name=a),class:"w-full"},null,8,["auth","modelValue"]),r.value?(c(),g(v,{key:0,maxlength:"300",value:m(o(s).characterData.name)},null,8,["value"])):p("",!0)]),e("div",ue,[e("div",he,[fe,e("div",pe,[_e,n(_,{maxlength:"300",rows:"2",auth:r.value,id:"high_concept",modelValue:o(s).characterData.high_concept,"onUpdate:modelValue":t[1]||(t[1]=a=>o(s).characterData.high_concept=a),class:"w-full"},null,8,["auth","modelValue"]),r.value?(c(),g(v,{key:0,maxlength:"300",value:m(o(s).characterData.high_concept)},null,8,["value"])):p("",!0)]),e("div",me,[ge,n(_,{maxlength:"300",rows:"2",auth:r.value,id:"trouble",modelValue:o(s).characterData.trouble,"onUpdate:modelValue":t[2]||(t[2]=a=>o(s).characterData.trouble=a),class:"w-full"},null,8,["auth","modelValue"]),r.value?(c(),g(v,{key:0,maxlength:"300",value:m(o(s).characterData.trouble)},null,8,["value"])):p("",!0)]),e("div",xe,[ve,n(_,{maxlength:"300",rows:"2",auth:r.value,id:"relationship",modelValue:o(s).characterData.relationship,"onUpdate:modelValue":t[3]||(t[3]=a=>o(s).characterData.relationship=a),class:"w-full"},null,8,["auth","modelValue"]),r.value?(c(),g(v,{key:0,maxlength:"300",value:m(o(s).characterData.relationship)},null,8,["value"])):p("",!0)]),e("div",be,[ke,n(_,{maxlength:"300",rows:"2",auth:r.value,id:"aspect",modelValue:o(s).characterData.aspect,"onUpdate:modelValue":t[4]||(t[4]=a=>o(s).characterData.aspect=a),class:"w-full"},null,8,["auth","modelValue"]),r.value?(c(),g(v,{key:0,maxlength:"300",value:m(o(s).characterData.aspect)},null,8,["value"])):p("",!0)]),e("div",ye,[we,n(_,{maxlength:"300",rows:"2",auth:r.value,id:"aspect2",modelValue:o(s).characterData.aspect2,"onUpdate:modelValue":t[5]||(t[5]=a=>o(s).characterData.aspect2=a),class:"w-full"},null,8,["auth","modelValue"]),r.value?(c(),g(v,{key:0,maxlength:"300",value:m(o(s).characterData.aspect2)},null,8,["value"])):p("",!0)])]),e("div",Ve,[De,e("div",Se,[Ue,n(_,{maxlength:"2000",auth:r.value,modelValue:o(s).characterData.stunts,"onUpdate:modelValue":t[6]||(t[6]=a=>o(s).characterData.stunts=a),class:"w-full",rows:"15"},null,8,["auth","modelValue"]),r.value?(c(),g(v,{key:0,maxlength:"2000",value:m(o(s).characterData.stunts)},null,8,["value"])):p("",!0)]),e("div",je,[e("div",Ce,[x(e("input",{disabled:!r.value,type:"number",id:"refresh","onUpdate:modelValue":t[7]||(t[7]=a=>o(s).characterData.refresh=a),class:"w-20 h-20 p-4 text-4xl bg-transparent border border-gray-300 rounded-full focus:ring-indigo-500 focus:border-indigo-500 dark:text-gray-300"},null,8,$e),[[h,"#"],[z,o(s).characterData.refresh]]),Be]),e("div",Le,[Me,x(e("input",{disabled:!r.value,type:"number",id:"fp","onUpdate:modelValue":t[8]||(t[8]=a=>o(s).characterData.fate_point=a),class:"w-20 h-20 p-4 text-4xl bg-transparent border border-gray-300 rounded-full focus:ring-indigo-500 focus:border-indigo-500 dark:text-gray-300"},null,8,Oe),[[h,"#"],[z,o(s).characterData.fate_point]])])])])]),e("div",ze,[e("div",Ne,[Ee,e("div",Fe,[Ae,e("div",Te,[(c(!0),f(U,null,N($.value,(a,i)=>(c(),f("div",{key:i},[x(e("input",{disabled:!r.value,id:"physical-"+(i+1),type:"checkbox","onUpdate:modelValue":D=>a.checked=D,onChange:A,class:"hidden peer"},null,40,Ie),[[Z,a.checked]]),e("label",{for:"physical-"+(i+1),class:"inline-flex items-center justify-center w-10 h-10 text-transparent bg-white border-2 border-gray-300 rounded-lg cursor-pointer sm:w-12 sm:h-12 dark:bg-gray-800 dark:border-gray-700 peer-checked:border-pink-600 dark:peer-checked:text-pink-300 peer-checked:text-pink-600 hover:bg-gray-50 dark:hover:bg-gray-700"},Ze,8,He)]))),128))])]),e("div",qe,[Je,e("div",Re,[(c(!0),f(U,null,N(B.value,(a,i)=>(c(),f("div",{key:i},[x(e("input",{disabled:!r.value,id:"mental-"+(i+1),type:"checkbox","onUpdate:modelValue":D=>a.checked=D,onChange:A,class:"hidden peer"},null,40,Pe),[[Z,a.checked]]),e("label",{for:"mental-"+(i+1),class:"inline-flex items-center justify-center w-10 h-10 text-transparent bg-white border-2 border-gray-300 rounded-lg cursor-pointer sm:w-12 sm:h-12 dark:bg-gray-800 dark:border-gray-700 peer-checked:border-cyan-600 dark:peer-checked:text-cyan-300 peer-checked:text-cyan-600 hover:bg-gray-50 dark:hover:bg-gray-700"},We,8,Qe)]))),128))])]),Xe,e("div",Ye,[et,e("div",tt,[at,n(S,{auth:r.value,maxlength:"200",id:"mild",modelValue:o(s).characterData.mild,"onUpdate:modelValue":t[9]||(t[9]=a=>o(s).characterData.mild=a),class:"w-full"},null,8,["auth","modelValue"])])]),e("div",st,[lt,e("div",ot,[rt,n(S,{auth:r.value,maxlength:"200",id:"moderate",modelValue:o(s).characterData.moderate,"onUpdate:modelValue":t[10]||(t[10]=a=>o(s).characterData.moderate=a),class:"w-full"},null,8,["auth","modelValue"])])]),e("div",dt,[nt,e("div",ct,[it,n(S,{auth:r.value,maxlength:"200",id:"severe",modelValue:o(s).characterData.severe,"onUpdate:modelValue":t[11]||(t[11]=a=>o(s).characterData.severe=a),class:"w-full"},null,8,["auth","modelValue"])])]),e("div",ut,[ht,e("div",ft,[pt,n(S,{auth:r.value,maxlength:"200",id:"extreme",modelValue:o(s).characterData.extreme,"onUpdate:modelValue":t[12]||(t[12]=a=>o(s).characterData.extreme=a),class:"w-full"},null,8,["auth","modelValue"])])]),e("div",_t,[mt,e("div",gt,[xt,n(S,{auth:r.value,maxlength:"200",id:"mild2",modelValue:o(s).characterData.mild2,"onUpdate:modelValue":t[13]||(t[13]=a=>o(s).characterData.mild2=a),class:"w-full"},null,8,["auth","modelValue"])])])]),e("div",vt,[e("div",bt,[kt,e("div",null,[yt,e("span",wt,j(Q.value),1)])]),e("div",Vt,[(c(!0),f(U,null,N(P.value,(a,i)=>(c(),f("div",{key:i,class:"flex items-center gap-2 text-xl tracking-wide dark:text-gray-100"},[r.value?x((c(),f("input",{key:0,type:"number",min:"0","onUpdate:modelValue":D=>w.value[i]=D,class:"w-16 h-16 p-2 text-center bg-transparent border border-gray-300 rounded-full dark:border-gray-600"},null,8,Dt)),[[h,"##"],[z,w.value[i]]]):(c(),f("div",St,j(w.value[i]),1)),e("span",null,j(a)+" ",1)]))),128))])])])])]),r.value?(c(),f("div",Ut,[e("div",jt,[e("div",Ct,[e("button",{type:"button",class:"text-red-600 bg-red-100 generalButton",onClick:t[14]||(t[14]=a=>{V.value=!0})},Lt),e("button",{type:"button",class:"col-span-2 col-start-3 text-amber-600 bg-amber-100 generalButton",onClick:t[15]||(t[15]=a=>b.value=!b.value)},zt),e("button",{type:"button",class:"col-span-2 col-start-5 text-indigo-600 bg-indigo-100 generalButton",onClick:t[16]||(t[16]=a=>{M.value=!0})},Ft)]),e("button",At,[Tt,n(q,{show:L.value,radius:"4"},null,8,["show"])])])])):p("",!0)],32),x(e("div",{class:"fixed top-0 left-0 w-full h-full bg-gray-800/30 dark:bg-gray-900/50",onClick:t[19]||(t[19]=H(a=>b.value=!1,["self"]))},[n(te,{name:"slide-fade"},{default:E(()=>[x(e("div",It,[e("div",Ht,[e("button",{type:"button",class:"absolute flex items-center justify-center w-6 h-6 rounded-full text-sky-600 bg-sky-100 right-2 top-2",onClick:t[17]||(t[17]=a=>b.value=!1)},Zt),e("div",qt,[Jt,n(_,{id:"notes",auth:r.value,modelValue:o(s).characterData.notes,"onUpdate:modelValue":t[18]||(t[18]=a=>o(s).characterData.notes=a),class:"w-full h-[calc(100%-124px)]",rows:"15"},null,8,["auth","modelValue"])])])],512),[[K,b.value]])]),_:1})],512),[[K,b.value]]),n(J,{show:V.value},{default:E(()=>[e("div",Rt,[e("div",Pt,[Qt,e("button",{class:"absolute top-0 right-0 flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full dark:bg-gray-900 dark:text-white hoverEffect",onClick:t[20]||(t[20]=a=>{V.value=!1})},Wt)]),e("div",Xt,' "'+j(o(s).characterData.name)+'" karakterini silmek istediğinize emin misiniz? ',1),e("div",Yt,[e("button",{class:"px-4 py-2 rounded bg-sky-200 text-sky-700 hoverEffect h-[42px] flex gap-1 items-center justify-center",onClick:t[21]||(t[21]=a=>{V.value=!1})},ta),e("button",{class:"px-4 py-2 rounded bg-red-200 text-red-700 hoverEffect h-[42px] flex gap-1 items-center justify-center",onClick:t[22]||(t[22]=a=>W(o(s).characterData.character_id))},[aa,n(q,{show:O.value,radius:"4"},null,8,["show"])])])])]),_:1},8,["show"]),n(J,{show:M.value},{default:E(()=>[e("div",sa,[e("div",la,[oa,e("button",{class:"absolute top-0 right-0 flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full dark:bg-gray-900 dark:text-white hoverEffect",onClick:t[23]||(t[23]=a=>{M.value=!1})},da)]),e("div",na,[n(oe,{type:"2"})])])]),_:1},8,["show"])],64)}}},ma=re(ca,[["__scopeId","data-v-a5384728"]]);export{ma as default};
