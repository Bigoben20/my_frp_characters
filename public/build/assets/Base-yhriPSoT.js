import{k as u,l as O,o as n,f as c,T as A,m as F,b as e,a as o,u as r,i as f,p as w,F as v,q as V,g as T,e as $,s as U,w as J,x as L,v as S,t as q,y as j}from"./app-q-EbabGI.js";import{_ as i}from"./TextInput-6fUa8Gs7.js";import{M as z}from"./MiniLoader-IVC8JRya.js";import"./_plugin-vue_export-helper-x3n3nnut.js";const H=["value"],C={__name:"TextAreaInput",props:{modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup(k,{expose:p}){const s=u(null);return O(()=>{s.value.hasAttribute("autofocus")&&s.value.focus()}),p({focus:()=>s.value.focus()}),(m,g)=>(n(),c("textarea",{class:"transition-all duration-100 border-gray-300 rounded-md shadow-sm dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600",value:k.modelValue,onInput:g[0]||(g[0]=_=>m.$emit("update:modelValue",_.target.value)),ref_key:"input",ref:s},null,40,H))}},E={class:"w-full h-full p-4 pb-32"},I={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},K={class:"flex flex-col items-start p-4 bg-white rounded-lg shadow-md dark:bg-gray-800 col-span-full"},R=e("label",{for:"name"},"İsim",-1),P={class:"flex flex-col gap-6"},Z={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},G=e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Aspects")],-1),Q={class:"flex flex-col items-start"},W=e("label",{for:"high_concept"},"High Concept",-1),X={class:"flex flex-col items-start"},Y=e("label",{for:"trouble"},"Trouble",-1),ee={class:"flex flex-col items-start"},se=e("label",{for:"relationship"},"Relationships",-1),ae={class:"flex flex-col items-start"},te=e("label",{for:"aspect"},"Serbest Aspect",-1),le={class:"flex flex-col items-start"},re=e("label",{for:"aspect2"},"Serbest Aspect",-1),oe={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},de=e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Stunts")],-1),ie={class:"flex flex-col items-start"},ne=e("label",{for:"aspect"},"Stuntlar",-1),ce={class:"flex justify-between gap-2"},ue={class:"flex flex-col-reverse items-center justify-between md:flex-row"},pe=["disabled"],he=e("label",{for:"refresh",class:"ml-2 text-3xl"},"Refresh",-1),fe={class:"flex flex-col items-center justify-between md:flex-row"},ge=e("label",{for:"fp",class:"mr-2 text-3xl"},"Fate Point",-1),be=["disabled"],me={class:"flex flex-col gap-6"},_e={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},xe=e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Stress")],-1),ve={class:"flex flex-col items-start"},ke=e("label",null,"Fiziksel",-1),ye={class:"flex justify-between w-full gap-2 sm:justify-start"},we=["disabled","id","onUpdate:modelValue"],Ve=["for"],De=e("i",{class:"text-2xl fa-solid fa-check"},null,-1),$e=[De],Ue={class:"flex flex-col items-start"},Se=e("label",null,"Zihinsel",-1),je={class:"flex justify-between w-full gap-2 sm:justify-start"},Ce=["disabled","id","onUpdate:modelValue"],Be=["for"],Ne=e("i",{class:"text-2xl fa-solid fa-check"},null,-1),Me=[Ne],Oe=e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Consequences")],-1),Ae={class:"flex flex-col items-start"},Fe=e("label",{for:"mild"},"Hafif",-1),Te={class:"flex w-full gap-1"},Je=e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"2",-1),Le={class:"flex flex-col items-start"},qe=e("label",{for:"moderate"},"Orta",-1),ze={class:"flex w-full gap-1"},He=e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"4",-1),Ee={class:"flex flex-col items-start"},Ie=e("label",{for:"severe"},"Ağır",-1),Ke={class:"flex w-full gap-1"},Re=e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"6",-1),Pe={class:"flex flex-col items-start"},Ze=e("label",{for:"extreme"},"Kritik",-1),Ge={class:"flex w-full gap-1"},Qe=e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"8",-1),We={class:"flex flex-col items-start opacity-50"},Xe=e("label",{for:"mild2"},"Hafif",-1),Ye={class:"flex w-full gap-1"},es=e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"2",-1),ss={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},as=e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Stunts")],-1),ts={class:"flex flex-col items-stretch gap-4"},ls=["disabled","onUpdate:modelValue"],rs={key:0,class:"fixed left-0 w-full px-2 bottom-2 z-[1000]"},os={class:"flex justify-between gap-2 p-4 bg-white border border-gray-300 rounded-lg dark:bg-opacity-10 dark:border-gray-800 backdrop-blur-md"},ds=e("span",null,"Notlar",-1),is=e("svg",{class:"ms-2 -me-0.5 h-4 w-4 rotate-90",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),ns=[ds,is],cs={class:"w-1/3 text-green-600 bg-green-100 generalButton",type:"submit"},us=e("span",null,"Kaydet",-1),ps={class:"absolute top-0 right-0 w-4/5 h-full transition-all duration-300 ease-in bg-white shadow-xl dark:bg-gray-800 lg:w-1/3"},hs={class:"h-full p-4"},fs=e("i",{class:"text-[11px] fa-solid fa-x"},null,-1),gs=[fs],bs={class:"mt-4"},ms=e("label",{for:"notes",class:""},"Notes",-1),ys={__name:"Base",props:{character:{type:Object},skills:{type:Object}},setup(k){const p=k,s=A({characterData:p.character,skills:p.skills});console.log(s);const m=u([{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1}]),g=u([{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1}]);if(s.characterData.physical_stress!=null)for(let l=0;l<s.characterData.physical_stress;l++)m.value[l].checked=!0;if(s.characterData.mental_stress!=null)for(let l=0;l<s.characterData.mental_stress;l++)g.value[l].checked=!0;const _=u(!1),B=u([]);function D(){s.characterData.physical_stress=m.value.filter(l=>l.checked).length,s.characterData.mental_stress=g.value.filter(l=>l.checked).length,console.log(s.characterData)}const N=u(JSON.parse(p.skills.skills)),y=u(JSON.parse(p.skills.skills_data));console.log(JSON.parse(p.skills.skills));const M=async()=>{j.start(),_.value=!0,s.skills.skills_data=JSON.stringify(y.value),s.post("/character-update",{preserveScroll:!0,onSuccess:l=>{},onError:l=>{let t=Object.keys(l);for(let h=0;h<t.length;h++)B.value.push(l[t[h]])},onFinish:()=>{_.value=!1,j.done()}})},b=u(!1);return(l,t)=>{const h=F("mask");return n(),c(v,null,[e("form",{onSubmit:$(M,["prevent"])},[e("div",E,[e("div",I,[e("div",K,[R,o(i,{disabled:!l.$page.props.auth.user,id:"name",modelValue:r(s).characterData.name,"onUpdate:modelValue":t[0]||(t[0]=a=>r(s).characterData.name=a),class:"w-full"},null,8,["disabled","modelValue"])]),e("div",P,[e("div",Z,[G,e("div",Q,[W,o(i,{disabled:!l.$page.props.auth.user,id:"high_concept",modelValue:r(s).characterData.high_concept,"onUpdate:modelValue":t[1]||(t[1]=a=>r(s).characterData.high_concept=a),class:"w-full"},null,8,["disabled","modelValue"])]),e("div",X,[Y,o(i,{disabled:!l.$page.props.auth.user,id:"trouble",modelValue:r(s).characterData.trouble,"onUpdate:modelValue":t[2]||(t[2]=a=>r(s).characterData.trouble=a),class:"w-full"},null,8,["disabled","modelValue"])]),e("div",ee,[se,o(i,{disabled:!l.$page.props.auth.user,id:"relationship",modelValue:r(s).characterData.relationship,"onUpdate:modelValue":t[3]||(t[3]=a=>r(s).characterData.relationship=a),class:"w-full"},null,8,["disabled","modelValue"])]),e("div",ae,[te,o(i,{disabled:!l.$page.props.auth.user,id:"aspect",modelValue:r(s).characterData.aspect,"onUpdate:modelValue":t[4]||(t[4]=a=>r(s).characterData.aspect=a),class:"w-full"},null,8,["disabled","modelValue"])]),e("div",le,[re,o(i,{disabled:!l.$page.props.auth.user,id:"aspect2",modelValue:r(s).characterData.aspect2,"onUpdate:modelValue":t[5]||(t[5]=a=>r(s).characterData.aspect2=a),class:"w-full"},null,8,["disabled","modelValue"])])]),e("div",oe,[de,e("div",ie,[ne,o(C,{disabled:!l.$page.props.auth.user,modelValue:r(s).characterData.stunts,"onUpdate:modelValue":t[6]||(t[6]=a=>r(s).characterData.stunts=a),class:"w-full",rows:"15"},null,8,["disabled","modelValue"])]),e("div",ce,[e("div",ue,[f(e("input",{disabled:!l.$page.props.auth.user,type:"number",id:"refresh","onUpdate:modelValue":t[7]||(t[7]=a=>r(s).characterData.refresh=a),class:"w-20 h-20 p-4 text-4xl bg-transparent border border-gray-300 rounded-full focus:ring-indigo-500 focus:border-indigo-500 dark:text-gray-300"},null,8,pe),[[h,"#"],[w,r(s).characterData.refresh]]),he]),e("div",fe,[ge,f(e("input",{disabled:!l.$page.props.auth.user,type:"number",id:"fp","onUpdate:modelValue":t[8]||(t[8]=a=>r(s).characterData.fate_point=a),class:"w-20 h-20 p-4 text-4xl bg-transparent border border-gray-300 rounded-full focus:ring-indigo-500 focus:border-indigo-500 dark:text-gray-300"},null,8,be),[[h,"#"],[w,r(s).characterData.fate_point]])])])])]),e("div",me,[e("div",_e,[xe,e("div",ve,[ke,e("div",ye,[(n(!0),c(v,null,V(m.value,(a,d)=>(n(),c("div",{key:d},[f(e("input",{disabled:!l.$page.props.auth.user,id:"physical-"+(d+1),type:"checkbox","onUpdate:modelValue":x=>a.checked=x,onChange:D,class:"hidden peer"},null,40,we),[[S,a.checked]]),e("label",{for:"physical-"+(d+1),class:"inline-flex items-center justify-center w-10 h-10 text-transparent bg-white border-2 border-gray-300 rounded-lg cursor-pointer sm:w-12 sm:h-12 dark:bg-gray-800 dark:border-gray-700 peer-checked:border-pink-600 dark:peer-checked:text-pink-300 peer-checked:text-pink-600 hover:bg-gray-50 dark:hover:bg-gray-700"},$e,8,Ve)]))),128))])]),e("div",Ue,[Se,e("div",je,[(n(!0),c(v,null,V(g.value,(a,d)=>(n(),c("div",{key:d},[f(e("input",{disabled:!l.$page.props.auth.user,id:"mental-"+(d+1),type:"checkbox","onUpdate:modelValue":x=>a.checked=x,onChange:D,class:"hidden peer"},null,40,Ce),[[S,a.checked]]),e("label",{for:"mental-"+(d+1),class:"inline-flex items-center justify-center w-10 h-10 text-transparent bg-white border-2 border-gray-300 rounded-lg cursor-pointer sm:w-12 sm:h-12 dark:bg-gray-800 dark:border-gray-700 peer-checked:border-cyan-600 dark:peer-checked:text-cyan-300 peer-checked:text-cyan-600 hover:bg-gray-50 dark:hover:bg-gray-700"},Me,8,Be)]))),128))])]),Oe,e("div",Ae,[Fe,e("div",Te,[Je,o(i,{disabled:!l.$page.props.auth.user,id:"mild",modelValue:r(s).characterData.mild,"onUpdate:modelValue":t[9]||(t[9]=a=>r(s).characterData.mild=a),class:"w-full"},null,8,["disabled","modelValue"])])]),e("div",Le,[qe,e("div",ze,[He,o(i,{disabled:!l.$page.props.auth.user,id:"moderate",modelValue:r(s).characterData.moderate,"onUpdate:modelValue":t[10]||(t[10]=a=>r(s).characterData.moderate=a),class:"w-full"},null,8,["disabled","modelValue"])])]),e("div",Ee,[Ie,e("div",Ke,[Re,o(i,{disabled:!l.$page.props.auth.user,id:"severe",modelValue:r(s).characterData.severe,"onUpdate:modelValue":t[11]||(t[11]=a=>r(s).characterData.severe=a),class:"w-full"},null,8,["disabled","modelValue"])])]),e("div",Pe,[Ze,e("div",Ge,[Qe,o(i,{disabled:!l.$page.props.auth.user,id:"extreme",modelValue:r(s).characterData.extreme,"onUpdate:modelValue":t[12]||(t[12]=a=>r(s).characterData.extreme=a),class:"w-full"},null,8,["disabled","modelValue"])])]),e("div",We,[Xe,e("div",Ye,[es,o(i,{disabled:!l.$page.props.auth.user,id:"mild2",modelValue:r(s).characterData.mild2,"onUpdate:modelValue":t[13]||(t[13]=a=>r(s).characterData.mild2=a),class:"w-full"},null,8,["disabled","modelValue"])])])]),e("div",ss,[as,e("div",ts,[(n(!0),c(v,null,V(N.value,(a,d)=>(n(),c("div",{key:d,class:"flex items-center gap-2 text-xl tracking-wide dark:text-gray-100"},[f(e("input",{disabled:!l.$page.props.auth.user,type:"number",min:"0","onUpdate:modelValue":x=>y.value[d]=x,class:"w-16 h-16 p-2 text-center bg-transparent border border-gray-300 rounded-full dark:border-gray-600"},null,8,ls),[[h,"#"],[w,y.value[d]]]),e("span",null,q(l.$t(`skills.${a}`)),1)]))),128))])])])])]),l.$page.props.auth.user?(n(),c("div",rs,[e("div",os,[e("button",{type:"button",class:"text-amber-600 bg-amber-100 generalButton",onClick:t[14]||(t[14]=a=>b.value=!b.value)},ns),e("button",cs,[us,o(z,{show:_.value,radius:"4"},null,8,["show"])])])])):T("",!0)],32),f(e("div",{class:"fixed top-0 left-0 w-full h-full bg-gray-800/30 dark:bg-gray-900/50",onClick:t[17]||(t[17]=$(a=>b.value=!1,["self"]))},[o(L,{name:"slide-fade"},{default:J(()=>[f(e("div",ps,[e("div",hs,[e("button",{type:"button",class:"absolute flex items-center justify-center w-6 h-6 rounded-full text-sky-600 bg-sky-100 right-2 top-2",onClick:t[15]||(t[15]=a=>b.value=!1)},gs),e("div",bs,[ms,o(C,{id:"notes",disabled:!l.$page.props.auth.user,modelValue:r(s).characterData.notes,"onUpdate:modelValue":t[16]||(t[16]=a=>r(s).characterData.notes=a),class:"w-full",rows:"15"},null,8,["disabled","modelValue"])])])],512),[[U,b.value]])]),_:1})],512),[[U,b.value]])],64)}}};export{ys as default};
