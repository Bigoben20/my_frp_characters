import{Q as R,k as c,T as N,h as P,l as Q,f as u,b as e,a as d,u as l,i as p,m as S,F as k,p as C,t as y,g as Z,e as M,q as F,w as z,s as G,o as h,v as E,x as w,O as I}from"./app-kOMhi58c.js";import{_ as v}from"./TextInput-zsKMcpbX.js";import{_ as f,M as T}from"./MiniLoader-ytzRQPvy.js";import{_ as W}from"./Modal-8zyG6AYn.js";import{_ as X}from"./Roll-EAS36_1v.js";import"./_plugin-vue_export-helper-x3n3nnut.js";const Y={class:"w-full h-full p-4 pb-32"},ee={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},te={class:"flex flex-col items-start p-4 bg-white rounded-lg shadow-md dark:bg-gray-800 col-span-full"},se=e("label",{for:"name"},"Name",-1),ae={class:"flex flex-col gap-6"},le={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},oe=e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Aspects")],-1),re={class:"flex flex-col items-start"},de=e("label",{for:"high_concept"},"High Concept",-1),ie={class:"flex flex-col items-start"},ce=e("label",{for:"trouble"},"Trouble",-1),ne={class:"flex flex-col items-start"},ue=e("label",{for:"relationship"},"Relationships",-1),he={class:"flex flex-col items-start"},fe=e("label",{for:"aspect"},"Serbest Aspect",-1),pe={class:"flex flex-col items-start"},_e=e("label",{for:"aspect2"},"Serbest Aspect",-1),me={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},ge=e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Stunts")],-1),xe={class:"flex flex-col items-start"},be=e("label",{for:"aspect"},"Stuntlar",-1),ve={class:"flex justify-between gap-2"},ke={class:"flex flex-col-reverse items-center justify-between md:flex-row"},ye=["disabled"],we=e("label",{for:"refresh",class:"ml-2 text-3xl"},"Refresh",-1),Ve={class:"flex flex-col items-center justify-between md:flex-row"},De=e("label",{for:"fp",class:"mr-2 text-3xl"},"Fate Point",-1),Ue=["disabled"],je={class:"flex flex-col gap-6"},Se={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},Ce=e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Stress")],-1),$e={class:"flex flex-col items-start"},Be=e("label",null,"Fiziksel",-1),Oe={class:"flex justify-between w-full gap-2 sm:justify-start"},Ne=["disabled","id","onUpdate:modelValue"],Me=["for"],Fe=e("i",{class:"text-2xl fa-solid fa-check"},null,-1),ze=[Fe],Ee={class:"flex flex-col items-start"},Te=e("label",null,"Zihinsel",-1),Le={class:"flex justify-between w-full gap-2 sm:justify-start"},Ae=["disabled","id","onUpdate:modelValue"],He=["for"],Je=e("i",{class:"text-2xl fa-solid fa-check"},null,-1),Ke=[Je],qe=e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Consequences")],-1),Re={class:"flex flex-col items-start"},Pe=e("label",{for:"mild"},"Hafif",-1),Qe={class:"flex w-full gap-1"},Ze=e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"2",-1),Ge={class:"flex flex-col items-start"},Ie=e("label",{for:"moderate"},"Orta",-1),We={class:"flex w-full gap-1"},Xe=e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"4",-1),Ye={class:"flex flex-col items-start"},et=e("label",{for:"severe"},"Ağır",-1),tt={class:"flex w-full gap-1"},st=e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"6",-1),at={class:"flex flex-col items-start"},lt=e("label",{for:"extreme"},"Kritik",-1),ot={class:"flex w-full gap-1"},rt=e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"8",-1),dt={class:"flex flex-col items-start opacity-50"},it=e("label",{for:"mild2"},"Hafif",-1),ct={class:"flex w-full gap-1"},nt=e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"2",-1),ut={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},ht={class:"dark:text-gray-200"},ft=e("span",{class:"header"},"Skills",-1),pt=e("span",{class:""},"Total: ",-1),_t={class:"font-semibold text-pink-600 dark:text-pink-300"},mt={class:"grid grid-cols-1 sm:grid-cols-3 md:grid-cols-2 xl:grid-cols-3 gap-y-4 gap-x-2"},gt=["onUpdate:modelValue"],xt={key:1,class:"flex items-center justify-center w-16 h-16 p-2 text-center bg-transparent border border-gray-300 rounded-full dark:border-gray-600"},bt={key:0,class:"fixed left-0 z-40 w-full px-2 bottom-2"},vt={class:"flex justify-between gap-2 p-4 bg-white border border-gray-300 rounded-lg dark:bg-opacity-10 dark:border-gray-800 backdrop-blur-md"},kt={class:"flex gap-2"},yt=e("span",null,"Notlar",-1),wt=e("svg",{class:"ms-2 -me-0.5 h-4 w-4 rotate-90",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),Vt=[yt,wt],Dt=e("span",null,"Sil",-1),Ut=e("i",{class:"text-xs fa-solid fa-trash"},null,-1),jt=[Dt,Ut],St={class:"w-1/3 text-green-600 bg-green-100 generalButton",type:"submit"},Ct=e("span",null,"Kaydet",-1),$t={class:"absolute top-0 right-0 w-4/5 h-full overflow-scroll transition-all duration-300 ease-in bg-white shadow-xl dark:bg-gray-800 lg:w-1/3"},Bt={class:"h-full p-4"},Ot=e("i",{class:"text-[11px] fa-solid fa-x"},null,-1),Nt=[Ot],Mt={class:"mt-4"},Ft=e("label",{for:"notes",class:""},"Notes",-1),zt={class:"pb-40 mt-6"},Et={class:"p-6"},Tt={class:"relative mb-2"},Lt=e("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," Karakteri Sil ",-1),At=e("i",{class:"text-sm fa-solid fa-x"},null,-1),Ht=[At],Jt={class:"my-6 dark:text-gray-200"},Kt={class:"flex items-center justify-between"},qt=e("span",null,"Vazgeç",-1),Rt=[qt],Pt=e("span",null,"Sil",-1),Yt={__name:"Base",props:{character:{type:Object},skills:{type:Object}},setup(L){const m=L,A=R(),r=c(A.props.auth.user.id==m.character.user_id),a=N({characterData:m.character,skills:m.skills}),V=c([{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1}]),D=c([{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1}]);if(a.characterData.physical_stress!=null)for(let o=0;o<a.characterData.physical_stress;o++)V.value[o].checked=!0;if(a.characterData.mental_stress!=null)for(let o=0;o<a.characterData.mental_stress;o++)D.value[o].checked=!0;const U=c(!1),$=c([]);function B(){a.characterData.physical_stress=V.value.filter(o=>o.checked).length,a.characterData.mental_stress=D.value.filter(o=>o.checked).length,console.log(a.characterData)}const H=c(JSON.parse(m.skills.skills)),g=c(JSON.parse(m.skills.skills_data)),J=P(()=>g.value.reduce((o,t)=>o+t,0)),K=async()=>{w.start(),U.value=!0,a.skills.skills_data=JSON.stringify(g.value),a.post("/character-update",{preserveScroll:!0,onSuccess:o=>{},onError:o=>{let t=Object.keys(o);for(let n=0;n<t.length;n++)$.value.push(o[t[n]])},onFinish:()=>{U.value=!1,w.done()}})},_=c(!1),x=c(!1),O=N({id:""}),j=c(!1);c(!1);function q(o){w.start(),j.value=!0,O.id=o,O.post("/character-delete",{preserveScroll:!0,onSuccess:t=>{x.value=!1,setTimeout(()=>{I.visit("/dashboard")},100)},onError:t=>{let n=Object.keys(t);for(let s=0;s<n.length;s++)$.value.push(t[n[s]])},onFinish:()=>{j.value=!1,w.done()}})}return(o,t)=>{const n=Q("mask");return h(),u(k,null,[e("form",{onSubmit:M(K,["prevent"])},[e("div",Y,[e("div",ee,[e("div",te,[se,d(f,{rows:"2",auth:r.value,id:"name",modelValue:l(a).characterData.name,"onUpdate:modelValue":t[0]||(t[0]=s=>l(a).characterData.name=s),class:"w-full"},null,8,["auth","modelValue"])]),e("div",ae,[e("div",le,[oe,e("div",re,[de,d(f,{rows:"2",auth:r.value,id:"high_concept",modelValue:l(a).characterData.high_concept,"onUpdate:modelValue":t[1]||(t[1]=s=>l(a).characterData.high_concept=s),class:"w-full"},null,8,["auth","modelValue"])]),e("div",ie,[ce,d(f,{rows:"2",auth:r.value,id:"trouble",modelValue:l(a).characterData.trouble,"onUpdate:modelValue":t[2]||(t[2]=s=>l(a).characterData.trouble=s),class:"w-full"},null,8,["auth","modelValue"])]),e("div",ne,[ue,d(f,{rows:"2",auth:r.value,id:"relationship",modelValue:l(a).characterData.relationship,"onUpdate:modelValue":t[3]||(t[3]=s=>l(a).characterData.relationship=s),class:"w-full"},null,8,["auth","modelValue"])]),e("div",he,[fe,d(f,{rows:"2",auth:r.value,id:"aspect",modelValue:l(a).characterData.aspect,"onUpdate:modelValue":t[4]||(t[4]=s=>l(a).characterData.aspect=s),class:"w-full"},null,8,["auth","modelValue"])]),e("div",pe,[_e,d(f,{rows:"2",auth:r.value,id:"aspect2",modelValue:l(a).characterData.aspect2,"onUpdate:modelValue":t[5]||(t[5]=s=>l(a).characterData.aspect2=s),class:"w-full"},null,8,["auth","modelValue"])])]),e("div",me,[ge,e("div",xe,[be,d(f,{auth:r.value,modelValue:l(a).characterData.stunts,"onUpdate:modelValue":t[6]||(t[6]=s=>l(a).characterData.stunts=s),class:"w-full",rows:"15"},null,8,["auth","modelValue"])]),e("div",ve,[e("div",ke,[p(e("input",{disabled:!r.value,type:"number",id:"refresh","onUpdate:modelValue":t[7]||(t[7]=s=>l(a).characterData.refresh=s),class:"w-20 h-20 p-4 text-4xl bg-transparent border border-gray-300 rounded-full focus:ring-indigo-500 focus:border-indigo-500 dark:text-gray-300"},null,8,ye),[[n,"#"],[S,l(a).characterData.refresh]]),we]),e("div",Ve,[De,p(e("input",{disabled:!r.value,type:"number",id:"fp","onUpdate:modelValue":t[8]||(t[8]=s=>l(a).characterData.fate_point=s),class:"w-20 h-20 p-4 text-4xl bg-transparent border border-gray-300 rounded-full focus:ring-indigo-500 focus:border-indigo-500 dark:text-gray-300"},null,8,Ue),[[n,"#"],[S,l(a).characterData.fate_point]])])])])]),e("div",je,[e("div",Se,[Ce,e("div",$e,[Be,e("div",Oe,[(h(!0),u(k,null,C(V.value,(s,i)=>(h(),u("div",{key:i},[p(e("input",{disabled:!r.value,id:"physical-"+(i+1),type:"checkbox","onUpdate:modelValue":b=>s.checked=b,onChange:B,class:"hidden peer"},null,40,Ne),[[E,s.checked]]),e("label",{for:"physical-"+(i+1),class:"inline-flex items-center justify-center w-10 h-10 text-transparent bg-white border-2 border-gray-300 rounded-lg cursor-pointer sm:w-12 sm:h-12 dark:bg-gray-800 dark:border-gray-700 peer-checked:border-pink-600 dark:peer-checked:text-pink-300 peer-checked:text-pink-600 hover:bg-gray-50 dark:hover:bg-gray-700"},ze,8,Me)]))),128))])]),e("div",Ee,[Te,e("div",Le,[(h(!0),u(k,null,C(D.value,(s,i)=>(h(),u("div",{key:i},[p(e("input",{disabled:!r.value,id:"mental-"+(i+1),type:"checkbox","onUpdate:modelValue":b=>s.checked=b,onChange:B,class:"hidden peer"},null,40,Ae),[[E,s.checked]]),e("label",{for:"mental-"+(i+1),class:"inline-flex items-center justify-center w-10 h-10 text-transparent bg-white border-2 border-gray-300 rounded-lg cursor-pointer sm:w-12 sm:h-12 dark:bg-gray-800 dark:border-gray-700 peer-checked:border-cyan-600 dark:peer-checked:text-cyan-300 peer-checked:text-cyan-600 hover:bg-gray-50 dark:hover:bg-gray-700"},Ke,8,He)]))),128))])]),qe,e("div",Re,[Pe,e("div",Qe,[Ze,d(v,{auth:r.value,id:"mild",modelValue:l(a).characterData.mild,"onUpdate:modelValue":t[9]||(t[9]=s=>l(a).characterData.mild=s),class:"w-full"},null,8,["auth","modelValue"])])]),e("div",Ge,[Ie,e("div",We,[Xe,d(v,{auth:r.value,id:"moderate",modelValue:l(a).characterData.moderate,"onUpdate:modelValue":t[10]||(t[10]=s=>l(a).characterData.moderate=s),class:"w-full"},null,8,["auth","modelValue"])])]),e("div",Ye,[et,e("div",tt,[st,d(v,{auth:r.value,id:"severe",modelValue:l(a).characterData.severe,"onUpdate:modelValue":t[11]||(t[11]=s=>l(a).characterData.severe=s),class:"w-full"},null,8,["auth","modelValue"])])]),e("div",at,[lt,e("div",ot,[rt,d(v,{auth:r.value,id:"extreme",modelValue:l(a).characterData.extreme,"onUpdate:modelValue":t[12]||(t[12]=s=>l(a).characterData.extreme=s),class:"w-full"},null,8,["auth","modelValue"])])]),e("div",dt,[it,e("div",ct,[nt,d(v,{auth:r.value,id:"mild2",modelValue:l(a).characterData.mild2,"onUpdate:modelValue":t[13]||(t[13]=s=>l(a).characterData.mild2=s),class:"w-full"},null,8,["auth","modelValue"])])])]),e("div",ut,[e("div",ht,[ft,e("div",null,[pt,e("span",_t,y(J.value),1)])]),e("div",mt,[(h(!0),u(k,null,C(H.value,(s,i)=>(h(),u("div",{key:i,class:"flex items-center gap-2 text-xl tracking-wide dark:text-gray-100"},[r.value?p((h(),u("input",{key:0,type:"number",min:"0","onUpdate:modelValue":b=>g.value[i]=b,class:"w-16 h-16 p-2 text-center bg-transparent border border-gray-300 rounded-full dark:border-gray-600"},null,8,gt)),[[n,"##"],[S,g.value[i]]]):(h(),u("div",xt,y(g.value[i]),1)),e("span",null,y(o.$t(`skills.${s}`)),1)]))),128))])])])])]),r.value?(h(),u("div",bt,[e("div",vt,[e("div",kt,[e("button",{type:"button",class:"text-amber-600 bg-amber-100 generalButton",onClick:t[14]||(t[14]=s=>_.value=!_.value)},Vt),e("button",{type:"button",class:"text-red-600 bg-red-100 generalButton",onClick:t[15]||(t[15]=s=>{x.value=!0})},jt)]),e("button",St,[Ct,d(T,{show:U.value,radius:"4"},null,8,["show"])])])])):Z("",!0)],32),p(e("div",{class:"fixed top-0 left-0 w-full h-full bg-gray-800/30 dark:bg-gray-900/50",onClick:t[18]||(t[18]=M(s=>_.value=!1,["self"]))},[d(G,{name:"slide-fade"},{default:z(()=>[p(e("div",$t,[e("div",Bt,[e("button",{type:"button",class:"absolute flex items-center justify-center w-6 h-6 rounded-full text-sky-600 bg-sky-100 right-2 top-2",onClick:t[16]||(t[16]=s=>_.value=!1)},Nt),e("div",Mt,[Ft,d(f,{id:"notes",auth:r.value,modelValue:l(a).characterData.notes,"onUpdate:modelValue":t[17]||(t[17]=s=>l(a).characterData.notes=s),class:"w-full",rows:"15"},null,8,["auth","modelValue"])]),e("div",zt,[d(X)])])],512),[[F,_.value]])]),_:1})],512),[[F,_.value]]),d(W,{show:x.value},{default:z(()=>[e("div",Et,[e("div",Tt,[Lt,e("button",{class:"absolute top-0 right-0 flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full dark:bg-gray-900 dark:text-white hoverEffect",onClick:t[19]||(t[19]=s=>{x.value=!1})},Ht)]),e("div",Jt,' "'+y(l(a).characterData.name)+'" karakterini silmek istediğinize emin misiniz? ',1),e("div",Kt,[e("button",{class:"px-4 py-2 rounded bg-sky-200 text-sky-700 hoverEffect h-[42px] flex gap-1 items-center justify-center",onClick:t[20]||(t[20]=s=>{x.value=!1})},Rt),e("button",{class:"px-4 py-2 rounded bg-red-200 text-red-700 hoverEffect h-[42px] flex gap-1 items-center justify-center",onClick:t[21]||(t[21]=s=>q(l(a).characterData.character_id))},[Pt,d(T,{show:j.value,radius:"4"},null,8,["show"])])])])]),_:1},8,["show"])],64)}}};export{Yt as default};
