import{k as p,l as j,o as c,f as n,T as C,b as e,a as o,u as r,i as b,m as k,F as y,p as v,g as O,e as B,v as V,t as N,q as D}from"./app-XzJrbN61.js";import{_ as i}from"./TextInput-4EKI5Tar.js";import{M as A}from"./MiniLoader-lAIKpJ0N.js";import"./_plugin-vue_export-helper-x3n3nnut.js";const M=["value"],F={__name:"TextAreaInput",props:{modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup(_,{expose:u}){const s=p(null);return j(()=>{s.value.hasAttribute("autofocus")&&s.value.focus()}),u({focus:()=>s.value.focus()}),(f,h)=>(c(),n("textarea",{class:"transition-all duration-100 border-gray-300 rounded-md shadow-sm dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600",value:_.modelValue,onInput:h[0]||(h[0]=g=>f.$emit("update:modelValue",g.target.value)),ref_key:"input",ref:s},null,40,M))}},J={class:"w-full h-full p-4 pb-32"},T={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},q={class:"flex flex-col items-start p-4 bg-white rounded-lg shadow-md dark:bg-gray-800 col-span-full"},H=e("label",{for:"name"},"İsim",-1),L={class:"flex flex-col gap-6"},E={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},I=e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Aspects")],-1),K={class:"flex flex-col items-start"},R=e("label",{for:"high_concept"},"High Concept",-1),z={class:"flex flex-col items-start"},P=e("label",{for:"trouble"},"Trouble",-1),Z={class:"flex flex-col items-start"},G=e("label",{for:"relationship"},"Relationships",-1),Q={class:"flex flex-col items-start"},W=e("label",{for:"aspect"},"Serbest Aspect",-1),X={class:"flex flex-col items-start"},Y=e("label",{for:"aspect2"},"Serbest Aspect",-1),ee={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},se=e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Stunts")],-1),ae={class:"flex flex-col items-start"},te=e("label",{for:"aspect"},"Stuntlar",-1),le={class:"flex justify-between gap-2"},re={class:"flex flex-col-reverse items-center justify-between md:flex-row"},oe=["disabled"],de=e("label",{for:"refresh",class:"ml-2 text-3xl"},"Refresh",-1),ie={class:"flex flex-col items-center justify-between md:flex-row"},ce=e("label",{for:"fp",class:"mr-2 text-3xl"},"Fate Point",-1),ne=["disabled"],ue={class:"flex flex-col gap-6"},pe={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},he=e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Stress")],-1),fe={class:"flex flex-col items-start"},ge=e("label",null,"Fiziksel",-1),me={class:"flex justify-between w-full gap-2 sm:justify-start"},be=["disabled","id","onUpdate:modelValue"],_e=["for"],xe=e("i",{class:"text-2xl fa-solid fa-check"},null,-1),ke=[xe],ye={class:"flex flex-col items-start"},ve=e("label",null,"Zihinsel",-1),we={class:"flex justify-between w-full gap-2 sm:justify-start"},Ve=["disabled","id","onUpdate:modelValue"],De=["for"],$e=e("i",{class:"text-2xl fa-solid fa-check"},null,-1),Ue=[$e],Se=e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Consequences")],-1),je={class:"flex flex-col items-start"},Ce=e("label",{for:"mild"},"Hafif",-1),Oe={class:"flex w-full gap-1"},Be=e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"2",-1),Ne={class:"flex flex-col items-start"},Ae=e("label",{for:"moderate"},"Orta",-1),Me={class:"flex w-full gap-1"},Fe=e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"4",-1),Je={class:"flex flex-col items-start"},Te=e("label",{for:"severe"},"Ağır",-1),qe={class:"flex w-full gap-1"},He=e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"6",-1),Le={class:"flex flex-col items-start"},Ee=e("label",{for:"extreme"},"Kritik",-1),Ie={class:"flex w-full gap-1"},Ke=e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"8",-1),Re={class:"flex flex-col items-start opacity-50"},ze=e("label",{for:"mild2"},"Hafif",-1),Pe={class:"flex w-full gap-1"},Ze=e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"2",-1),Ge={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},Qe=e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Stunts")],-1),We={class:"flex flex-col items-stretch gap-4"},Xe=["disabled","onUpdate:modelValue"],Ye={key:0,class:"fixed left-0 w-full px-2 bottom-2"},es={class:"flex justify-between gap-2 p-4 bg-white border border-gray-300 rounded-lg dark:bg-opacity-10 dark:border-gray-800 backdrop-blur-md"},ss=e("div",null,null,-1),as={class:"w-1/3 text-green-600 bg-green-100 generalButton",type:"submit"},ts=e("span",null,"Kaydet",-1),is={__name:"Base",props:{character:{type:Object},skills:{type:Object}},setup(_){const u=_,s=C({characterData:u.character,skills:u.skills});console.log(s);const f=p([{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1}]),h=p([{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1}]);for(let t=0;t<s.characterData.physical_stress;t++)f.value[t].checked=!0;for(let t=0;t<s.characterData.mental_stress;t++)h.value[t].checked=!0;const g=p(!1),$=p([]);function w(){s.characterData.physical_stress=f.value.filter(t=>t.checked).length,s.characterData.mental_stress=h.value.filter(t=>t.checked).length,console.log(s.characterData)}const U=p(JSON.parse(u.skills.skills)),x=p(JSON.parse(u.skills.skills_data));console.log(JSON.parse(u.skills.skills));const S=async()=>{D.start(),g.value=!0,s.skills.skills_data=JSON.stringify(x.value),s.post("/character-update",{preserveScroll:!0,onSuccess:t=>{},onError:t=>{let l=Object.keys(t);for(let a=0;a<l.length;a++)$.value.push(t[l[a]])},onFinish:()=>{g.value=!1,D.done()}})};return(t,l)=>(c(),n("form",{onSubmit:B(S,["prevent"])},[e("div",J,[e("div",T,[e("div",q,[H,o(i,{disabled:!t.$page.props.auth.user,id:"name",modelValue:r(s).characterData.name,"onUpdate:modelValue":l[0]||(l[0]=a=>r(s).characterData.name=a),class:"w-full"},null,8,["disabled","modelValue"])]),e("div",L,[e("div",E,[I,e("div",K,[R,o(i,{disabled:!t.$page.props.auth.user,id:"high_concept",modelValue:r(s).characterData.high_concept,"onUpdate:modelValue":l[1]||(l[1]=a=>r(s).characterData.high_concept=a),class:"w-full"},null,8,["disabled","modelValue"])]),e("div",z,[P,o(i,{disabled:!t.$page.props.auth.user,id:"trouble",modelValue:r(s).characterData.trouble,"onUpdate:modelValue":l[2]||(l[2]=a=>r(s).characterData.trouble=a),class:"w-full"},null,8,["disabled","modelValue"])]),e("div",Z,[G,o(i,{disabled:!t.$page.props.auth.user,id:"relationship",modelValue:r(s).characterData.relationship,"onUpdate:modelValue":l[3]||(l[3]=a=>r(s).characterData.relationship=a),class:"w-full"},null,8,["disabled","modelValue"])]),e("div",Q,[W,o(i,{disabled:!t.$page.props.auth.user,id:"aspect",modelValue:r(s).characterData.aspect,"onUpdate:modelValue":l[4]||(l[4]=a=>r(s).characterData.aspect=a),class:"w-full"},null,8,["disabled","modelValue"])]),e("div",X,[Y,o(i,{disabled:!t.$page.props.auth.user,id:"aspect2",modelValue:r(s).characterData.aspect2,"onUpdate:modelValue":l[5]||(l[5]=a=>r(s).characterData.aspect2=a),class:"w-full"},null,8,["disabled","modelValue"])])]),e("div",ee,[se,e("div",ae,[te,o(F,{disabled:!t.$page.props.auth.user,modelValue:r(s).characterData.stunts,"onUpdate:modelValue":l[6]||(l[6]=a=>r(s).characterData.stunts=a),class:"w-full",rows:"15"},null,8,["disabled","modelValue"])]),e("div",le,[e("div",re,[b(e("input",{disabled:!t.$page.props.auth.user,type:"number",id:"refresh",max:"10","onUpdate:modelValue":l[7]||(l[7]=a=>r(s).characterData.refresh=a),class:"w-20 h-20 p-4 text-4xl bg-transparent border border-gray-300 rounded-full focus:ring-indigo-500 focus:border-indigo-500 dark:text-gray-300"},null,8,oe),[[k,r(s).characterData.refresh]]),de]),e("div",ie,[ce,b(e("input",{disabled:!t.$page.props.auth.user,type:"number",id:"fp",max:"10","onUpdate:modelValue":l[8]||(l[8]=a=>r(s).characterData.fate_point=a),class:"w-20 h-20 p-4 text-4xl bg-transparent border border-gray-300 rounded-full focus:ring-indigo-500 focus:border-indigo-500 dark:text-gray-300"},null,8,ne),[[k,r(s).characterData.fate_point]])])])])]),e("div",ue,[e("div",pe,[he,e("div",fe,[ge,e("div",me,[(c(!0),n(y,null,v(f.value,(a,d)=>(c(),n("div",{key:d},[b(e("input",{disabled:!t.$page.props.auth.user,id:"physical-"+(d+1),type:"checkbox","onUpdate:modelValue":m=>a.checked=m,onChange:w,class:"hidden peer"},null,40,be),[[V,a.checked]]),e("label",{for:"physical-"+(d+1),class:"inline-flex items-center justify-center w-10 h-10 text-transparent bg-white border-2 border-gray-300 rounded-lg cursor-pointer sm:w-12 sm:h-12 dark:bg-gray-800 dark:border-gray-700 peer-checked:border-pink-600 dark:peer-checked:text-pink-300 peer-checked:text-pink-600 hover:bg-gray-50 dark:hover:bg-gray-700"},ke,8,_e)]))),128))])]),e("div",ye,[ve,e("div",we,[(c(!0),n(y,null,v(h.value,(a,d)=>(c(),n("div",{key:d},[b(e("input",{disabled:!t.$page.props.auth.user,id:"mental-"+(d+1),type:"checkbox","onUpdate:modelValue":m=>a.checked=m,onChange:w,class:"hidden peer"},null,40,Ve),[[V,a.checked]]),e("label",{for:"mental-"+(d+1),class:"inline-flex items-center justify-center w-10 h-10 text-transparent bg-white border-2 border-gray-300 rounded-lg cursor-pointer sm:w-12 sm:h-12 dark:bg-gray-800 dark:border-gray-700 peer-checked:border-cyan-600 dark:peer-checked:text-cyan-300 peer-checked:text-cyan-600 hover:bg-gray-50 dark:hover:bg-gray-700"},Ue,8,De)]))),128))])]),Se,e("div",je,[Ce,e("div",Oe,[Be,o(i,{disabled:!t.$page.props.auth.user,id:"mild",modelValue:r(s).characterData.mild,"onUpdate:modelValue":l[9]||(l[9]=a=>r(s).characterData.mild=a),class:"w-full"},null,8,["disabled","modelValue"])])]),e("div",Ne,[Ae,e("div",Me,[Fe,o(i,{disabled:!t.$page.props.auth.user,id:"moderate",modelValue:r(s).characterData.moderate,"onUpdate:modelValue":l[10]||(l[10]=a=>r(s).characterData.moderate=a),class:"w-full"},null,8,["disabled","modelValue"])])]),e("div",Je,[Te,e("div",qe,[He,o(i,{disabled:!t.$page.props.auth.user,id:"severe",modelValue:r(s).characterData.severe,"onUpdate:modelValue":l[11]||(l[11]=a=>r(s).characterData.severe=a),class:"w-full"},null,8,["disabled","modelValue"])])]),e("div",Le,[Ee,e("div",Ie,[Ke,o(i,{disabled:!t.$page.props.auth.user,id:"extreme",modelValue:r(s).characterData.extreme,"onUpdate:modelValue":l[12]||(l[12]=a=>r(s).characterData.extreme=a),class:"w-full"},null,8,["disabled","modelValue"])])]),e("div",Re,[ze,e("div",Pe,[Ze,o(i,{disabled:!t.$page.props.auth.user,id:"mild2",modelValue:r(s).characterData.mild2,"onUpdate:modelValue":l[13]||(l[13]=a=>r(s).characterData.mild2=a),class:"w-full"},null,8,["disabled","modelValue"])])])]),e("div",Ge,[Qe,e("div",We,[(c(!0),n(y,null,v(U.value,(a,d)=>(c(),n("div",{key:d,class:"flex items-center gap-2 text-xl tracking-wide dark:text-gray-100"},[b(e("input",{disabled:!t.$page.props.auth.user,type:"number","onUpdate:modelValue":m=>x.value[d]=m,class:"w-16 h-16 p-2 text-center bg-transparent border border-gray-300 rounded-full dark:border-gray-600"},null,8,Xe),[[k,x.value[d]]]),e("span",null,N(t.$t(`skills.${a}`)),1)]))),128))])])])])]),t.$page.props.auth.user?(c(),n("div",Ye,[e("div",es,[ss,e("button",as,[ts,o(A,{show:g.value,radius:"4"},null,8,["show"])])])])):O("",!0)],32))}};export{is as default};
