import{k as c,A as K,o as a,f as o,r as P,t as d,O as Q,F as y,q as w,Q as Z,T as E,a as l,u as _,w as C,Z as G,b as e,n as J,i as T,s as U,d as F,g as V,e as H,l as k}from"./app-DpU2WwMd.js";import{_ as R}from"./AuthenticatedLayout-C2yPmHsP.js";import"./toast-BbSBLLPP.js";import{_ as I}from"./Modal-CJK4Eq1d.js";import{_ as z}from"./TextInput-CPpy-q3D.js";import{_ as M,M as N}from"./MiniLoader-CGu1g4N_.js";import{_ as W}from"./TextAreaInput-DbW1veXi.js";import{_ as X}from"./Roll-CJ8j6dCJ.js";import{_ as Y}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-BIgyiqc9.js";const ee=["value"],te={key:1,class:"px-3 py-2 transition-all duration-100 border min-h-[42px] border-gray-300 rounded-md shadow-sm dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600"},se={__name:"SelectInput",props:{modelValue:{type:String,required:!1},auth:{type:Boolean,default:!0},options:{type:Array,required:!1}},emits:["update:modelValue"],setup(n,{expose:i}){const b=c(null);return K(()=>{}),i({focus:()=>b.value.focus()}),(m,v)=>n.auth?(a(),o("select",{key:0,class:"transition-all duration-100 border-gray-300 rounded-md shadow-sm dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600",value:n.modelValue,onInput:v[0]||(v[0]=f=>m.$emit("update:modelValue",f.target.value)),ref_key:"input",ref:b},[P(m.$slots,"default")],40,ee)):(a(),o("div",te,d(n.modelValue),1))}},ae={props:{links:Array},methods:{goTo(n){Q.visit(n)}}},oe={class:"flex gap-6"},le=["onClick","disabled","innerHTML"];function de(n,i,b,m,v,f){return a(),o("div",oe,[(a(!0),o(y,null,w(b.links,u=>(a(),o("button",{class:"px-3 py-0.5 rounded-full bg-indigo-50 hover:cursor-pointer",key:u.url,onClick:g=>f.goTo(u.url),disabled:!u.url,innerHTML:u.label},null,8,le))),128))])}const O=Y(ae,[["render",de]]),ne=e("h2",{class:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200"},"Dashboard",-1),ie={class:"pt-12 space-y-6"},re={class:"-mb-4"},ce={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},ue={class:"flex flex-col gap-2"},he=e("span",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"}," Filters ",-1),_e={class:"flex gap-2"},ge=["onClick"],pe={class:"mt-2"},me={class:""},fe={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},xe={class:"p-4 overflow-hidden bg-white shadow-sm sm:p-6 dark:bg-gray-800 sm:rounded-lg"},ve={class:"mb-4 text-xl font-semibold text-gray-900 dark:text-gray-100"},ye={class:"text-blue-600 dark:text-blue-400"},be={class:"w-full"},ke={class:"w-full text-left table-fixed"},we=e("thead",{class:"dark:text-gray-300"},[e("tr",{class:"bg-gray-100 dark:bg-gray-700"},[e("th",{class:"px-3 py-1.5 rounded-l w-10"},"ID"),e("th",{class:"px-3 py-1.5"},"Name"),e("th",{class:"px-3 py-1.5 rounded-r"},"High Concept")])],-1),Ce={class:"dark:text-gray-100"},$e=["onClick"],Ve={class:"px-3 py-1.5"},Se={class:"px-3 py-1.5 whitespace-nowrap overflow-hidden text-ellipsis"},De={class:"px-3 py-1.5"},je={class:"overflow-hidden text-ellipsis whitespace-nowrap"},Ee={class:"mt-4"},Fe={class:""},Me={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},Ne={class:"p-4 overflow-hidden bg-white shadow-sm sm:p-6 dark:bg-gray-800 sm:rounded-lg"},Oe={class:"mb-4 text-xl font-semibold text-gray-900 dark:text-gray-100"},Le={class:"text-blue-600 dark:text-blue-400"},Te={class:"w-full"},Ue={class:"w-full text-left table-fixed"},He=e("thead",{class:"dark:text-gray-300"},[e("tr",{class:"bg-gray-100 dark:bg-gray-700"},[e("th",{class:"px-3 py-1.5 rounded-l w-10"},"ID"),e("th",{class:"px-3 py-1.5"},"Name"),e("th",{class:"px-3 py-1.5"},"Class")])],-1),Ie={class:"dark:text-gray-100"},ze=["onClick"],Ae={class:"px-3 py-1.5"},Be={class:"px-3 py-1.5 whitespace-nowrap overflow-hidden text-ellipsis"},qe={class:"px-3 py-1.5"},Ke={class:"mt-4"},Pe={class:"pt-12 pb-12"},Qe={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},Ze={class:"p-4 bg-white shadow-sm sm:p-6 dark:bg-gray-800 sm:rounded-lg"},Ge={class:"pb-12"},Je={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},Re={class:"p-4 overflow-hidden bg-white shadow-sm sm:p-6 dark:bg-gray-800 sm:rounded-lg"},We={class:"mb-4 text-xl font-semibold text-gray-900 dark:text-gray-100"},Xe={class:"text-blue-600 dark:text-blue-400"},Ye={class:"w-full"},et={class:"w-full text-left table-fixed"},tt=e("thead",{class:"dark:text-gray-300"},[e("tr",{class:"bg-gray-100 dark:bg-gray-700"},[e("th",{class:"px-3 py-1.5 rounded-l w-10"},"ID"),e("th",{class:"px-3 py-1.5"},"User"),e("th",{class:"px-3 py-1.5"},"Name"),e("th",{class:"px-3 py-1.5 rounded-r"},"High Concept")])],-1),st={class:"dark:text-gray-100"},at=["onClick"],ot={class:"px-3 py-1.5"},lt={class:"px-3 py-1.5 whitespace-nowrap"},dt={class:"px-3 py-1.5 whitespace-nowrap overflow-hidden text-ellipsis"},nt={class:"px-3 py-1.5"},it={class:"overflow-hidden text-ellipsis whitespace-nowrap"},rt={class:"mt-4"},ct={class:"p-6"},ut=e("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," Create Character ",-1),ht=e("i",{class:"text-sm fa-solid fa-x"},null,-1),_t=[ht],gt={key:0,class:"flex w-full gap-1"},pt={class:"flex flex-col"},mt=e("label",{for:"system",class:"dark:text-gray-200"},"System",-1),ft=e("option",{value:"all",disabled:""},"Choose",-1),xt=e("option",{value:"fate"},"Fate",-1),vt=e("option",{value:"d&d"},"D&D",-1),yt={class:"flex flex-col"},bt=e("label",{for:"name",class:"dark:text-gray-200"},"Name:",-1),kt={class:"flex flex-col"},wt=e("label",{for:"high_concept",class:"dark:text-gray-200"},"High Concept:",-1),Ct=["disabled"],$t=e("span",null,"Create",-1),Vt={key:0,class:"text-green-500 fa-solid fa-check-circle"},St={class:"flex flex-col"},Dt=e("label",{for:"name",class:"dark:text-gray-200"},"Name:",-1),jt=["disabled"],Et=e("span",null,"Create",-1),Ft={key:0,class:"text-green-500 fa-solid fa-check-circle"},Mt={class:"p-6"},Nt={class:"relative mb-2"},Ot=e("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," Karakteri Sil ",-1),Lt=e("i",{class:"text-sm fa-solid fa-x"},null,-1),Tt=[Lt],Ut={class:"my-6 dark:text-gray-200"},Ht={class:"flex items-center justify-between"},It=e("span",null,"Vazgeç",-1),zt=[It],At=e("span",null,"Sil",-1),Yt={__name:"Dashboard",props:{characters:{type:Object},dndCharacters:{type:Object},allCharacters:{type:Object}},setup(n){Z();const i=c("all"),b=c(["All","Fate","D&D"]),m=c(null),v=c(!1),f=c(!1),u=c(!1),g=c([]),p=c(!1),x=E({name:"",high_concept:""}),$=E({name:""}),A=async()=>{k.start(),p.value=!0,g.value=[],x.post("/character-create",{preserveScroll:!0,onSuccess:r=>{D()},onError:r=>{let s=Object.keys(r);for(let t=0;t<s.length;t++)g.value.push(r[s[t]])},onFinish:()=>{p.value=!1,k.done()}})},B=async()=>{k.start(),p.value=!0,g.value=[],$.post("dnd/character-create",{preserveScroll:!0,onSuccess:r=>{D()},onError:r=>{let s=Object.keys(r);for(let t=0;t<s.length;t++)g.value.push(r[s[t]])},onFinish:()=>{p.value=!1,k.done()}})},L=E({id:""}),S=c(!1);c(!1);function q(r){k.start(),S.value=!0,L.id=r,L.post("/character-delete",{preserveScroll:!0,onSuccess:s=>{f.value=!1},onError:s=>{let t=Object.keys(s);for(let h=0;h<t.length;h++)g.value.push(s[t[h]])},onFinish:()=>{S.value=!1,k.done()}})}function D(){x.reset(),p.value=!1,g.value=[],u.value=!1,v.value=!1}function j(r,s){let t="";switch(s){case"fate":t="/character-detail/"+r;break;case"d&d":t="/dnd/character-detail/"+r;break;default:t="/";break}window.location.href=t}return(r,s)=>(a(),o(y,null,[l(_(G),{title:"Dashboard"}),l(R,null,{header:C(()=>[ne]),default:C(()=>[e("div",ie,[e("div",re,[e("div",ce,[e("div",ue,[he,e("div",_e,[(a(!0),o(y,null,w(b.value,(t,h)=>(a(),o("button",{key:h,class:J(["px-4 py-2.5 leading-none text-indigo-700 rounded-full hoverEffect",i.value==t.toLowerCase()?"bg-indigo-200":"bg-stone-100"]),onClick:Bt=>i.value=t.toLowerCase()},d(t),11,ge))),128))]),e("div",pe,[e("button",{type:"button",class:"px-4 py-2 rounded bg-sky-200 text-sky-700 hoverEffect",onClick:s[0]||(s[0]=t=>v.value=!0)}," Create ")])])])]),T(e("div",me,[e("div",fe,[e("div",xe,[e("div",ve,[F("My Fate Characters "),e("span",ye,"("+d(n.characters.total)+")",1)]),e("div",be,[e("table",ke,[we,e("tbody",Ce,[(a(!0),o(y,null,w(n.characters.data,t=>(a(),o("tr",{key:t.id,onClick:h=>j(t.id,"fate"),class:"hover:cursor-pointer hover:bg-gray-100/50 dark:hover:bg-gray-700/20"},[e("td",Ve,d(t.id),1),e("td",Se,d(t.name),1),e("td",De,[e("div",je,d(t.high_concept),1)])],8,$e))),128))])]),e("div",Ee,[l(O,{links:n.allCharacters.links},null,8,["links"])])])])])],512),[[U,i.value=="all"||i.value=="fate"]]),T(e("div",Fe,[e("div",Me,[e("div",Ne,[e("div",Oe,[F("My D&D Characters "),e("span",Le,"("+d(n.characters.total)+")",1)]),e("div",Te,[e("table",Ue,[He,e("tbody",Ie,[(a(!0),o(y,null,w(n.dndCharacters.data,t=>(a(),o("tr",{key:t.id,onClick:h=>j(t.id,"d&d"),class:"hover:cursor-pointer hover:bg-gray-100/50 dark:hover:bg-gray-700/20"},[e("td",Ae,d(t.id),1),e("td",Be,d(t.name),1),e("td",qe,d(t.class??"Unknown"),1)],8,ze))),128))])]),e("div",Ke,[l(O,{links:n.allCharacters.links},null,8,["links"])])])])])],512),[[U,i.value=="all"||i.value=="d&d"]])]),e("div",Pe,[e("div",Qe,[e("div",Ze,[l(X)])])]),e("div",Ge,[e("div",Je,[e("div",Re,[e("div",We,[F("Other Characters "),e("span",Xe,"("+d(n.allCharacters.total)+")",1)]),e("div",Ye,[e("table",et,[tt,e("tbody",st,[(a(!0),o(y,null,w(n.allCharacters.data,t=>(a(),o("tr",{key:t.id,onClick:h=>j(t.id),class:"hover:cursor-pointer hover:bg-gray-100/50 dark:hover:bg-gray-700/20"},[e("td",ot,d(t.id),1),e("td",lt,d(t.user.name),1),e("td",dt,d(t.name),1),e("td",nt,[e("div",it,d(t.high_concept),1)])],8,at))),128))])]),e("div",rt,[l(O,{links:n.allCharacters.links},null,8,["links"])])])])])])]),_:1}),l(I,{show:v.value},{default:C(()=>[e("div",ct,[e("div",{class:"relative mb-2"},[ut,e("button",{class:"absolute top-0 right-0 flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full dark:bg-gray-900 dark:text-white hoverEffect",onClick:D},_t)]),g.value.length>0?(a(),o("div",gt,[(a(!0),o(y,null,w(g.value,(t,h)=>(a(),o("div",{key:h,class:"px-3 py-1 text-red-500 border border-red-300 rounded bg-red-50 full"},d(t),1))),128))])):V("",!0),e("div",pt,[mt,l(se,{id:"system",modelValue:i.value,"onUpdate:modelValue":s[1]||(s[1]=t=>i.value=t)},{default:C(()=>[ft,xt,vt]),_:1},8,["modelValue"])]),i.value=="fate"?(a(),o("form",{key:1,onSubmit:H(A,["prevent"]),class:"grid justify-between grid-cols-1 mt-4 md:items-end"},[e("div",yt,[bt,l(z,{maxlength:"100",id:"name",modelValue:_(x).name,"onUpdate:modelValue":s[2]||(s[2]=t=>_(x).name=t)},null,8,["modelValue"]),l(M,{maxlength:"100",value:_(x).name.length.toString()},null,8,["value"])]),e("div",kt,[wt,l(W,{maxlength:"300",rows:"2",id:"high_concept",modelValue:_(x).high_concept,"onUpdate:modelValue":s[3]||(s[3]=t=>_(x).high_concept=t)},null,8,["modelValue"]),l(M,{maxlength:"300",value:_(x).high_concept.length.toString()},null,8,["value"])]),e("button",{class:"px-4 py-2 rounded bg-indigo-200 text-indigo-700 hoverEffect h-[42px] flex gap-1 items-center justify-center",type:"submit",disabled:p.value||u.value},[$t,l(N,{show:p.value,radius:"4"},null,8,["show"]),u.value?(a(),o("i",Vt)):V("",!0)],8,Ct)],32)):i.value=="d&d"?(a(),o("form",{key:2,onSubmit:H(B,["prevent"]),class:"grid justify-between grid-cols-1 gap-5 mt-4 md:items-end"},[e("div",St,[Dt,l(z,{maxlength:"100",id:"name",modelValue:_($).name,"onUpdate:modelValue":s[4]||(s[4]=t=>_($).name=t)},null,8,["modelValue"]),l(M,{maxlength:"100",value:_($).name.length.toString()},null,8,["value"])]),e("button",{class:"px-4 py-2 rounded bg-indigo-200 text-indigo-700 hoverEffect h-[42px] flex gap-1 items-center justify-center",type:"submit",disabled:p.value||u.value},[Et,l(N,{show:p.value,radius:"4"},null,8,["show"]),u.value?(a(),o("i",Ft)):V("",!0)],8,jt)],32)):V("",!0)])]),_:1},8,["show"]),l(I,{show:f.value},{default:C(()=>[e("div",Mt,[e("div",Nt,[Ot,e("button",{class:"absolute top-0 right-0 flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full dark:bg-gray-900 dark:text-white hoverEffect",onClick:s[5]||(s[5]=t=>{m.value=null,f.value=!1})},Tt)]),e("div",Ut,' "'+d(m.value.name)+'" karakterini silmek istediğinize emin misiniz? ',1),e("div",Ht,[e("button",{class:"px-4 py-2 rounded bg-sky-200 text-sky-700 hoverEffect h-[42px] flex gap-1 items-center justify-center",onClick:s[6]||(s[6]=t=>{m.value=null,f.value=!1})},zt),e("button",{class:"px-4 py-2 rounded bg-red-200 text-red-700 hoverEffect h-[42px] flex gap-1 items-center justify-center",onClick:s[7]||(s[7]=t=>q(m.value.id))},[At,l(N,{show:S.value,radius:"4"},null,8,["show"])])])])]),_:1},8,["show"])],64))}};export{Yt as default};
