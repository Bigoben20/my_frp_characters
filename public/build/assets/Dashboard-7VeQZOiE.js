import{Q as L,k as o,T as V,f as r,a as l,u as f,w as g,F as b,o as n,Z as O,b as e,d as z,t as u,q as j,g as S,e as B,y as m}from"./app--ItQHSRx.js";import{a as K}from"./AuthenticatedLayout-wGtw_UZa.js";import{_ as E}from"./Modal-NzHJeIsu.js";import{_ as $}from"./TextInput-oV6DJfM3.js";import{M as F}from"./MiniLoader-XewuyV6P.js";import"./ApplicationLogo-6yjAD-Vp.js";import"./_plugin-vue_export-helper-x3n3nnut.js";const T=e("h2",{class:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200"},"Dashboard",-1),H={class:"py-12"},U={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},q={class:"p-4 overflow-hidden bg-white shadow-sm sm:p-6 dark:bg-gray-800 sm:rounded-lg"},I={class:"mb-4 text-lg font-semibold text-gray-900 dark:text-gray-100"},Q={class:"mb-2"},Z={class:"w-full"},A={class:"w-full text-left table-fixed"},G=e("thead",{class:"dark:text-gray-300"},[e("tr",{class:"bg-gray-100 dark:bg-gray-700"},[e("th",{class:"px-3 py-1.5 rounded-l w-10"},"ID"),e("th",{class:"px-3 py-1.5"},"Name"),e("th",{class:"px-3 py-1.5 rounded-r"},"High Concept")])],-1),J={class:"dark:text-gray-100"},P=["onClick"],R={class:"px-3 py-1.5"},W={class:"px-3 py-1.5 whitespace-nowrap"},X={class:"px-3 py-1.5"},Y={class:"overflow-hidden text-ellipsis whitespace-nowrap"},ee={class:"p-6"},te=e("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," Create Character ",-1),se=e("i",{class:"text-sm fa-solid fa-x"},null,-1),ae=[se],oe={key:0,class:"flex w-full gap-1"},le={class:"flex flex-col"},re=e("label",{for:"name",class:"dark:text-gray-200"},"İsim:",-1),ne={class:"flex flex-col"},ie=e("label",{for:"high_concept",class:"dark:text-gray-200"},"High Concept:",-1),de=["disabled"],ce=e("span",null,"Kaydet",-1),ue={key:0,class:"text-green-500 fa-solid fa-check-circle"},he={class:"p-6"},fe={class:"relative mb-2"},_e=e("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," Karakteri Sil ",-1),pe=e("i",{class:"text-sm fa-solid fa-x"},null,-1),ge=[pe],me={class:"my-6 dark:text-gray-200"},xe={class:"flex items-center justify-between"},ve=e("span",null,"Vazgeç",-1),ye=[ve],be=e("span",null,"Sil",-1),$e={__name:"Dashboard",props:{characters:{type:Object}},setup(k){L();const _=o(null),x=o(!1),p=o(!1),v=o(!1),i=o([]),h=o(!1),d=V({name:"",high_concept:""}),M=async()=>{m.start(),h.value=!0,i.value=[],d.post("/character-create",{preserveScroll:!0,onSuccess:a=>{C()},onError:a=>{let s=Object.keys(a);for(let t=0;t<s.length;t++)i.value.push(a[s[t]])},onFinish:()=>{h.value=!1,m.done()}})},w=V({id:""}),y=o(!1);o(!1);function D(a){m.start(),y.value=!0,w.id=a,w.post("/character-delete",{preserveScroll:!0,onSuccess:s=>{p.value=!1},onError:s=>{let t=Object.keys(s);for(let c=0;c<t.length;c++)i.value.push(s[t[c]])},onFinish:()=>{y.value=!1,m.done()}})}function C(){d.reset(),h.value=!1,i.value=[],v.value=!1,x.value=!1}function N(a){window.location.href="/character-detail/"+a}return(a,s)=>(n(),r(b,null,[l(f(O),{title:"Dashboard"}),l(K,null,{header:g(()=>[T]),default:g(()=>[e("div",H,[e("div",U,[e("div",q,[e("div",I,[z("Karakterler "),e("span",null,"("+u(k.characters.length)+")",1)]),e("div",Q,[e("button",{type:"button",class:"px-4 py-2 rounded bg-sky-200 text-sky-700 hoverEffect",onClick:s[0]||(s[0]=t=>x.value=!0)}," Oluştur ")]),e("div",Z,[e("table",A,[G,e("tbody",J,[(n(!0),r(b,null,j(k.characters,t=>(n(),r("tr",{key:t.id,onClick:c=>N(t.id),class:"hover:cursor-pointer hover:bg-gray-100/50 dark:hover:bg-gray-700/20"},[e("td",R,u(t.id),1),e("td",W,u(t.name),1),e("td",X,[e("div",Y,u(t.high_concept),1)])],8,P))),128))])])])])])])]),_:1}),l(E,{show:x.value},{default:g(()=>[e("div",ee,[e("div",{class:"relative mb-2"},[te,e("button",{class:"absolute top-0 right-0 flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full dark:bg-gray-900 dark:text-white hoverEffect",onClick:C},ae)]),i.value.length>0?(n(),r("div",oe,[(n(!0),r(b,null,j(i.value,(t,c)=>(n(),r("div",{key:c,class:"px-3 py-1 text-red-500 border border-red-300 rounded bg-red-50 full"},u(t),1))),128))])):S("",!0),e("form",{onSubmit:B(M,["prevent"]),class:"grid justify-between grid-cols-1 gap-5 mt-4 md:grid-cols-3 md:items-end"},[e("div",le,[re,l($,{id:"name",modelValue:f(d).name,"onUpdate:modelValue":s[1]||(s[1]=t=>f(d).name=t)},null,8,["modelValue"])]),e("div",ne,[ie,l($,{id:"high_concept",modelValue:f(d).high_concept,"onUpdate:modelValue":s[2]||(s[2]=t=>f(d).high_concept=t)},null,8,["modelValue"])]),e("button",{class:"px-4 py-2 rounded bg-indigo-200 text-indigo-700 hoverEffect h-[42px] flex gap-1 items-center justify-center",type:"submit",disabled:h.value||v.value},[ce,l(F,{show:h.value,radius:"4"},null,8,["show"]),v.value?(n(),r("i",ue)):S("",!0)],8,de)],32)])]),_:1},8,["show"]),l(E,{show:p.value},{default:g(()=>[e("div",he,[e("div",fe,[_e,e("button",{class:"absolute top-0 right-0 flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full dark:bg-gray-900 dark:text-white hoverEffect",onClick:s[3]||(s[3]=t=>{_.value=null,p.value=!1})},ge)]),e("div",me,' "'+u(_.value.name)+'" karakterini silmek istediğinize emin misiniz? ',1),e("div",xe,[e("button",{class:"px-4 py-2 rounded bg-sky-200 text-sky-700 hoverEffect h-[42px] flex gap-1 items-center justify-center",onClick:s[4]||(s[4]=t=>{_.value=null,p.value=!1})},ye),e("button",{class:"px-4 py-2 rounded bg-red-200 text-red-700 hoverEffect h-[42px] flex gap-1 items-center justify-center",onClick:s[5]||(s[5]=t=>D(_.value.id))},[be,l(F,{show:y.value,radius:"4"},null,8,["show"])])])])]),_:1},8,["show"])],64))}};export{$e as default};
