import{k as n,l as K,o as c,f as u,t as D,Q as I,T as N,m as R,b as e,a as d,u as l,i as m,p as C,F as w,q as $,g as P,e as F,s as z,w as A,x as Q,v as E,y as V,O as Z}from"./app--ItQHSRx.js";import{_ as h}from"./TextInput-oV6DJfM3.js";import{M as T}from"./MiniLoader-XewuyV6P.js";import{_ as G}from"./Modal-NzHJeIsu.js";import"./_plugin-vue_export-helper-x3n3nnut.js";const W=["value"],X={key:1,class:"px-3 py-2 transition-all duration-100 border border-gray-300 rounded-md shadow-sm min-h-60 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600"},L={__name:"TextAreaInput",props:{modelValue:{type:String,required:!0},auth:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(b,{expose:p}){const _=n(null);return K(()=>{_.value.hasAttribute("autofocus")&&_.value.focus()}),p({focus:()=>_.value.focus()}),(o,s)=>b.auth?(c(),u("textarea",{key:0,class:"transition-all duration-100 border-gray-300 rounded-md shadow-sm dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600",value:b.modelValue,onInput:s[0]||(s[0]=x=>o.$emit("update:modelValue",x.target.value)),ref_key:"input",ref:_},null,40,W)):(c(),u("div",X,D(b.modelValue),1))}},Y={class:"w-full h-full p-4 pb-32"},ee={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},te={class:"flex flex-col items-start p-4 bg-white rounded-lg shadow-md dark:bg-gray-800 col-span-full"},ae=e("label",{for:"name"},"İsim",-1),se={class:"flex flex-col gap-6"},le={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},oe=e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Aspects")],-1),re={class:"flex flex-col items-start"},de=e("label",{for:"high_concept"},"High Concept",-1),ie={class:"flex flex-col items-start"},ne=e("label",{for:"trouble"},"Trouble",-1),ce={class:"flex flex-col items-start"},ue=e("label",{for:"relationship"},"Relationships",-1),he={class:"flex flex-col items-start"},fe=e("label",{for:"aspect"},"Serbest Aspect",-1),pe={class:"flex flex-col items-start"},me=e("label",{for:"aspect2"},"Serbest Aspect",-1),_e={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},ge=e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Stunts")],-1),be={class:"flex flex-col items-start"},xe=e("label",{for:"aspect"},"Stuntlar",-1),ve={class:"flex justify-between gap-2"},ke={class:"flex flex-col-reverse items-center justify-between md:flex-row"},ye=["disabled"],we=e("label",{for:"refresh",class:"ml-2 text-3xl"},"Refresh",-1),Ve={class:"flex flex-col items-center justify-between md:flex-row"},De=e("label",{for:"fp",class:"mr-2 text-3xl"},"Fate Point",-1),Ue=["disabled"],Se={class:"flex flex-col gap-6"},je={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},Ce=e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Stress")],-1),$e={class:"flex flex-col items-start"},Be=e("label",null,"Fiziksel",-1),Oe={class:"flex justify-between w-full gap-2 sm:justify-start"},Me=["disabled","id","onUpdate:modelValue"],Ne=["for"],Fe=e("i",{class:"text-2xl fa-solid fa-check"},null,-1),ze=[Fe],Ae={class:"flex flex-col items-start"},Ee=e("label",null,"Zihinsel",-1),Te={class:"flex justify-between w-full gap-2 sm:justify-start"},Le=["disabled","id","onUpdate:modelValue"],qe=["for"],He=e("i",{class:"text-2xl fa-solid fa-check"},null,-1),Je=[He],Ke=e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Consequences")],-1),Ie={class:"flex flex-col items-start"},Re=e("label",{for:"mild"},"Hafif",-1),Pe={class:"flex w-full gap-1"},Qe=e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"2",-1),Ze={class:"flex flex-col items-start"},Ge=e("label",{for:"moderate"},"Orta",-1),We={class:"flex w-full gap-1"},Xe=e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"4",-1),Ye={class:"flex flex-col items-start"},et=e("label",{for:"severe"},"Ağır",-1),tt={class:"flex w-full gap-1"},at=e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"6",-1),st={class:"flex flex-col items-start"},lt=e("label",{for:"extreme"},"Kritik",-1),ot={class:"flex w-full gap-1"},rt=e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"8",-1),dt={class:"flex flex-col items-start opacity-50"},it=e("label",{for:"mild2"},"Hafif",-1),nt={class:"flex w-full gap-1"},ct=e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"2",-1),ut={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},ht=e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Skills")],-1),ft={class:"flex flex-col items-stretch gap-4"},pt=["onUpdate:modelValue"],mt={key:1,class:"flex items-center justify-center w-16 h-16 p-2 text-center bg-transparent border border-gray-300 rounded-full dark:border-gray-600"},_t={key:0,class:"fixed left-0 z-40 w-full px-2 bottom-2"},gt={class:"flex justify-between gap-2 p-4 bg-white border border-gray-300 rounded-lg dark:bg-opacity-10 dark:border-gray-800 backdrop-blur-md"},bt={class:"flex gap-2"},xt=e("span",null,"Notlar",-1),vt=e("svg",{class:"ms-2 -me-0.5 h-4 w-4 rotate-90",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),kt=[xt,vt],yt=e("span",null,"Sil",-1),wt=e("i",{class:"text-xs fa-solid fa-trash"},null,-1),Vt=[yt,wt],Dt={class:"w-1/3 text-green-600 bg-green-100 generalButton",type:"submit"},Ut=e("span",null,"Kaydet",-1),St={class:"absolute top-0 right-0 w-4/5 h-full transition-all duration-300 ease-in bg-white shadow-xl dark:bg-gray-800 lg:w-1/3"},jt={class:"h-full p-4"},Ct=e("i",{class:"text-[11px] fa-solid fa-x"},null,-1),$t=[Ct],Bt={class:"mt-4"},Ot=e("label",{for:"notes",class:""},"Notes",-1),Mt={class:"p-6"},Nt={class:"relative mb-2"},Ft=e("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," Karakteri Sil ",-1),zt=e("i",{class:"text-sm fa-solid fa-x"},null,-1),At=[zt],Et={class:"my-6 dark:text-gray-200"},Tt={class:"flex items-center justify-between"},Lt=e("span",null,"Vazgeç",-1),qt=[Lt],Ht=e("span",null,"Sil",-1),Qt={__name:"Base",props:{character:{type:Object},skills:{type:Object}},setup(b){const p=b,_=I(),o=n(_.props.auth.user.id==p.character.user_id),s=N({characterData:p.character,skills:p.skills}),x=n([{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1}]),U=n([{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1}]);if(s.characterData.physical_stress!=null)for(let r=0;r<s.characterData.physical_stress;r++)x.value[r].checked=!0;if(s.characterData.mental_stress!=null)for(let r=0;r<s.characterData.mental_stress;r++)U.value[r].checked=!0;const S=n(!1),B=n([]);function O(){s.characterData.physical_stress=x.value.filter(r=>r.checked).length,s.characterData.mental_stress=U.value.filter(r=>r.checked).length,console.log(s.characterData)}const q=n(JSON.parse(p.skills.skills)),y=n(JSON.parse(p.skills.skills_data)),H=async()=>{V.start(),S.value=!0,s.skills.skills_data=JSON.stringify(y.value),s.post("/character-update",{preserveScroll:!0,onSuccess:r=>{},onError:r=>{let t=Object.keys(r);for(let f=0;f<t.length;f++)B.value.push(r[t[f]])},onFinish:()=>{S.value=!1,V.done()}})},g=n(!1),v=n(!1),M=N({id:""}),j=n(!1);n(!1);function J(r){V.start(),j.value=!0,M.id=r,M.post("/character-delete",{preserveScroll:!0,onSuccess:t=>{v.value=!1,setTimeout(()=>{Z.visit("/dashboard")},100)},onError:t=>{let f=Object.keys(t);for(let a=0;a<f.length;a++)B.value.push(t[f[a]])},onFinish:()=>{j.value=!1,V.done()}})}return(r,t)=>{const f=R("mask");return c(),u(w,null,[e("form",{onSubmit:F(H,["prevent"])},[e("div",Y,[e("div",ee,[e("div",te,[ae,d(h,{auth:o.value,id:"name",modelValue:l(s).characterData.name,"onUpdate:modelValue":t[0]||(t[0]=a=>l(s).characterData.name=a),class:"w-full"},null,8,["auth","modelValue"])]),e("div",se,[e("div",le,[oe,e("div",re,[de,d(h,{auth:o.value,id:"high_concept",modelValue:l(s).characterData.high_concept,"onUpdate:modelValue":t[1]||(t[1]=a=>l(s).characterData.high_concept=a),class:"w-full"},null,8,["auth","modelValue"])]),e("div",ie,[ne,d(h,{auth:o.value,id:"trouble",modelValue:l(s).characterData.trouble,"onUpdate:modelValue":t[2]||(t[2]=a=>l(s).characterData.trouble=a),class:"w-full"},null,8,["auth","modelValue"])]),e("div",ce,[ue,d(h,{auth:o.value,id:"relationship",modelValue:l(s).characterData.relationship,"onUpdate:modelValue":t[3]||(t[3]=a=>l(s).characterData.relationship=a),class:"w-full"},null,8,["auth","modelValue"])]),e("div",he,[fe,d(h,{auth:o.value,id:"aspect",modelValue:l(s).characterData.aspect,"onUpdate:modelValue":t[4]||(t[4]=a=>l(s).characterData.aspect=a),class:"w-full"},null,8,["auth","modelValue"])]),e("div",pe,[me,d(h,{auth:o.value,id:"aspect2",modelValue:l(s).characterData.aspect2,"onUpdate:modelValue":t[5]||(t[5]=a=>l(s).characterData.aspect2=a),class:"w-full"},null,8,["auth","modelValue"])])]),e("div",_e,[ge,e("div",be,[xe,d(L,{auth:o.value,modelValue:l(s).characterData.stunts,"onUpdate:modelValue":t[6]||(t[6]=a=>l(s).characterData.stunts=a),class:"w-full",rows:"15"},null,8,["auth","modelValue"])]),e("div",ve,[e("div",ke,[m(e("input",{disabled:!o.value,type:"number",id:"refresh","onUpdate:modelValue":t[7]||(t[7]=a=>l(s).characterData.refresh=a),class:"w-20 h-20 p-4 text-4xl bg-transparent border border-gray-300 rounded-full focus:ring-indigo-500 focus:border-indigo-500 dark:text-gray-300"},null,8,ye),[[f,"#"],[C,l(s).characterData.refresh]]),we]),e("div",Ve,[De,m(e("input",{disabled:!o.value,type:"number",id:"fp","onUpdate:modelValue":t[8]||(t[8]=a=>l(s).characterData.fate_point=a),class:"w-20 h-20 p-4 text-4xl bg-transparent border border-gray-300 rounded-full focus:ring-indigo-500 focus:border-indigo-500 dark:text-gray-300"},null,8,Ue),[[f,"#"],[C,l(s).characterData.fate_point]])])])])]),e("div",Se,[e("div",je,[Ce,e("div",$e,[Be,e("div",Oe,[(c(!0),u(w,null,$(x.value,(a,i)=>(c(),u("div",{key:i},[m(e("input",{disabled:!o.value,id:"physical-"+(i+1),type:"checkbox","onUpdate:modelValue":k=>a.checked=k,onChange:O,class:"hidden peer"},null,40,Me),[[E,a.checked]]),e("label",{for:"physical-"+(i+1),class:"inline-flex items-center justify-center w-10 h-10 text-transparent bg-white border-2 border-gray-300 rounded-lg cursor-pointer sm:w-12 sm:h-12 dark:bg-gray-800 dark:border-gray-700 peer-checked:border-pink-600 dark:peer-checked:text-pink-300 peer-checked:text-pink-600 hover:bg-gray-50 dark:hover:bg-gray-700"},ze,8,Ne)]))),128))])]),e("div",Ae,[Ee,e("div",Te,[(c(!0),u(w,null,$(U.value,(a,i)=>(c(),u("div",{key:i},[m(e("input",{disabled:!o.value,id:"mental-"+(i+1),type:"checkbox","onUpdate:modelValue":k=>a.checked=k,onChange:O,class:"hidden peer"},null,40,Le),[[E,a.checked]]),e("label",{for:"mental-"+(i+1),class:"inline-flex items-center justify-center w-10 h-10 text-transparent bg-white border-2 border-gray-300 rounded-lg cursor-pointer sm:w-12 sm:h-12 dark:bg-gray-800 dark:border-gray-700 peer-checked:border-cyan-600 dark:peer-checked:text-cyan-300 peer-checked:text-cyan-600 hover:bg-gray-50 dark:hover:bg-gray-700"},Je,8,qe)]))),128))])]),Ke,e("div",Ie,[Re,e("div",Pe,[Qe,d(h,{auth:o.value,id:"mild",modelValue:l(s).characterData.mild,"onUpdate:modelValue":t[9]||(t[9]=a=>l(s).characterData.mild=a),class:"w-full"},null,8,["auth","modelValue"])])]),e("div",Ze,[Ge,e("div",We,[Xe,d(h,{auth:o.value,id:"moderate",modelValue:l(s).characterData.moderate,"onUpdate:modelValue":t[10]||(t[10]=a=>l(s).characterData.moderate=a),class:"w-full"},null,8,["auth","modelValue"])])]),e("div",Ye,[et,e("div",tt,[at,d(h,{auth:o.value,id:"severe",modelValue:l(s).characterData.severe,"onUpdate:modelValue":t[11]||(t[11]=a=>l(s).characterData.severe=a),class:"w-full"},null,8,["auth","modelValue"])])]),e("div",st,[lt,e("div",ot,[rt,d(h,{auth:o.value,id:"extreme",modelValue:l(s).characterData.extreme,"onUpdate:modelValue":t[12]||(t[12]=a=>l(s).characterData.extreme=a),class:"w-full"},null,8,["auth","modelValue"])])]),e("div",dt,[it,e("div",nt,[ct,d(h,{auth:o.value,id:"mild2",modelValue:l(s).characterData.mild2,"onUpdate:modelValue":t[13]||(t[13]=a=>l(s).characterData.mild2=a),class:"w-full"},null,8,["auth","modelValue"])])])]),e("div",ut,[ht,e("div",ft,[(c(!0),u(w,null,$(q.value,(a,i)=>(c(),u("div",{key:i,class:"flex items-center gap-2 text-xl tracking-wide dark:text-gray-100"},[o.value?m((c(),u("input",{key:0,type:"number",min:"0","onUpdate:modelValue":k=>y.value[i]=k,class:"w-16 h-16 p-2 text-center bg-transparent border border-gray-300 rounded-full dark:border-gray-600"},null,8,pt)),[[f,"#"],[C,y.value[i]]]):(c(),u("div",mt,D(y.value[i]),1)),e("span",null,D(r.$t(`skills.${a}`)),1)]))),128))])])])])]),o.value?(c(),u("div",_t,[e("div",gt,[e("div",bt,[e("button",{type:"button",class:"text-amber-600 bg-amber-100 generalButton",onClick:t[14]||(t[14]=a=>g.value=!g.value)},kt),e("button",{type:"button",class:"text-red-600 bg-red-100 generalButton",onClick:t[15]||(t[15]=a=>{v.value=!0})},Vt)]),e("button",Dt,[Ut,d(T,{show:S.value,radius:"4"},null,8,["show"])])])])):P("",!0)],32),m(e("div",{class:"fixed top-0 left-0 w-full h-full bg-gray-800/30 dark:bg-gray-900/50",onClick:t[18]||(t[18]=F(a=>g.value=!1,["self"]))},[d(Q,{name:"slide-fade"},{default:A(()=>[m(e("div",St,[e("div",jt,[e("button",{type:"button",class:"absolute flex items-center justify-center w-6 h-6 rounded-full text-sky-600 bg-sky-100 right-2 top-2",onClick:t[16]||(t[16]=a=>g.value=!1)},$t),e("div",Bt,[Ot,d(L,{id:"notes",auth:o.value,modelValue:l(s).characterData.notes,"onUpdate:modelValue":t[17]||(t[17]=a=>l(s).characterData.notes=a),class:"w-full",rows:"15"},null,8,["auth","modelValue"])])])],512),[[z,g.value]])]),_:1})],512),[[z,g.value]]),d(G,{show:v.value},{default:A(()=>[e("div",Mt,[e("div",Nt,[Ft,e("button",{class:"absolute top-0 right-0 flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full dark:bg-gray-900 dark:text-white hoverEffect",onClick:t[19]||(t[19]=a=>{v.value=!1})},At)]),e("div",Et,' "'+D(l(s).characterData.name)+'" karakterini silmek istediğinize emin misiniz? ',1),e("div",Tt,[e("button",{class:"px-4 py-2 rounded bg-sky-200 text-sky-700 hoverEffect h-[42px] flex gap-1 items-center justify-center",onClick:t[20]||(t[20]=a=>{v.value=!1})},qt),e("button",{class:"px-4 py-2 rounded bg-red-200 text-red-700 hoverEffect h-[42px] flex gap-1 items-center justify-center",onClick:t[21]||(t[21]=a=>J(l(s).characterData.character_id))},[Ht,d(T,{show:j.value,radius:"4"},null,8,["show"])])])])]),_:1},8,["show"])],64)}}};export{Qt as default};
