import{k as p,l as C,o as c,f as n,T as O,m as B,b as e,a as o,u as r,i as _,p as v,F as y,q as w,g as N,e as A,v as D,t as M,s as $}from"./app-H8IIXeh6.js";import{_ as i}from"./TextInput-p4yS_38m.js";import{M as F}from"./MiniLoader-N7blBmfG.js";import"./_plugin-vue_export-helper-x3n3nnut.js";const J=["value"],T={__name:"TextAreaInput",props:{modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup(x,{expose:u}){const s=p(null);return C(()=>{s.value.hasAttribute("autofocus")&&s.value.focus()}),u({focus:()=>s.value.focus()}),(g,h)=>(c(),n("textarea",{class:"transition-all duration-100 border-gray-300 rounded-md shadow-sm dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600",value:x.modelValue,onInput:h[0]||(h[0]=m=>g.$emit("update:modelValue",m.target.value)),ref_key:"input",ref:s},null,40,J))}},q={class:"w-full h-full p-4 pb-32"},H={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},L={class:"flex flex-col items-start p-4 bg-white rounded-lg shadow-md dark:bg-gray-800 col-span-full"},E=e("label",{for:"name"},"İsim",-1),I={class:"flex flex-col gap-6"},K={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},R=e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Aspects")],-1),z={class:"flex flex-col items-start"},P=e("label",{for:"high_concept"},"High Concept",-1),Z={class:"flex flex-col items-start"},G=e("label",{for:"trouble"},"Trouble",-1),Q={class:"flex flex-col items-start"},W=e("label",{for:"relationship"},"Relationships",-1),X={class:"flex flex-col items-start"},Y=e("label",{for:"aspect"},"Serbest Aspect",-1),ee={class:"flex flex-col items-start"},se=e("label",{for:"aspect2"},"Serbest Aspect",-1),ae={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},te=e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Stunts")],-1),le={class:"flex flex-col items-start"},re=e("label",{for:"aspect"},"Stuntlar",-1),oe={class:"flex justify-between gap-2"},de={class:"flex flex-col-reverse items-center justify-between md:flex-row"},ie=["disabled"],ce=e("label",{for:"refresh",class:"ml-2 text-3xl"},"Refresh",-1),ne={class:"flex flex-col items-center justify-between md:flex-row"},ue=e("label",{for:"fp",class:"mr-2 text-3xl"},"Fate Point",-1),pe=["disabled"],he={class:"flex flex-col gap-6"},fe={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},ge=e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Stress")],-1),me={class:"flex flex-col items-start"},be=e("label",null,"Fiziksel",-1),_e={class:"flex justify-between w-full gap-2 sm:justify-start"},xe=["disabled","id","onUpdate:modelValue"],ke=["for"],ve=e("i",{class:"text-2xl fa-solid fa-check"},null,-1),ye=[ve],we={class:"flex flex-col items-start"},Ve=e("label",null,"Zihinsel",-1),De={class:"flex justify-between w-full gap-2 sm:justify-start"},$e=["disabled","id","onUpdate:modelValue"],Ue=["for"],Se=e("i",{class:"text-2xl fa-solid fa-check"},null,-1),je=[Se],Ce=e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Consequences")],-1),Oe={class:"flex flex-col items-start"},Be=e("label",{for:"mild"},"Hafif",-1),Ne={class:"flex w-full gap-1"},Ae=e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"2",-1),Me={class:"flex flex-col items-start"},Fe=e("label",{for:"moderate"},"Orta",-1),Je={class:"flex w-full gap-1"},Te=e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"4",-1),qe={class:"flex flex-col items-start"},He=e("label",{for:"severe"},"Ağır",-1),Le={class:"flex w-full gap-1"},Ee=e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"6",-1),Ie={class:"flex flex-col items-start"},Ke=e("label",{for:"extreme"},"Kritik",-1),Re={class:"flex w-full gap-1"},ze=e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"8",-1),Pe={class:"flex flex-col items-start opacity-50"},Ze=e("label",{for:"mild2"},"Hafif",-1),Ge={class:"flex w-full gap-1"},Qe=e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"2",-1),We={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},Xe=e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Stunts")],-1),Ye={class:"flex flex-col items-stretch gap-4"},es=["disabled","onUpdate:modelValue"],ss={key:0,class:"fixed left-0 w-full px-2 bottom-2"},as={class:"flex justify-between gap-2 p-4 bg-white border border-gray-300 rounded-lg dark:bg-opacity-10 dark:border-gray-800 backdrop-blur-md"},ts=e("div",null,null,-1),ls={class:"w-1/3 text-green-600 bg-green-100 generalButton",type:"submit"},rs=e("span",null,"Kaydet",-1),ns={__name:"Base",props:{character:{type:Object},skills:{type:Object}},setup(x){const u=x,s=O({characterData:u.character,skills:u.skills});console.log(s);const g=p([{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1}]),h=p([{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1}]);for(let a=0;a<s.characterData.physical_stress;a++)g.value[a].checked=!0;for(let a=0;a<s.characterData.mental_stress;a++)h.value[a].checked=!0;const m=p(!1),U=p([]);function V(){s.characterData.physical_stress=g.value.filter(a=>a.checked).length,s.characterData.mental_stress=h.value.filter(a=>a.checked).length,console.log(s.characterData)}const S=p(JSON.parse(u.skills.skills)),k=p(JSON.parse(u.skills.skills_data));console.log(JSON.parse(u.skills.skills));const j=async()=>{$.start(),m.value=!0,s.skills.skills_data=JSON.stringify(k.value),s.post("/character-update",{preserveScroll:!0,onSuccess:a=>{},onError:a=>{let l=Object.keys(a);for(let f=0;f<l.length;f++)U.value.push(a[l[f]])},onFinish:()=>{m.value=!1,$.done()}})};return(a,l)=>{const f=B("mask");return c(),n("form",{onSubmit:A(j,["prevent"])},[e("div",q,[e("div",H,[e("div",L,[E,o(i,{disabled:!a.$page.props.auth.user,id:"name",modelValue:r(s).characterData.name,"onUpdate:modelValue":l[0]||(l[0]=t=>r(s).characterData.name=t),class:"w-full"},null,8,["disabled","modelValue"])]),e("div",I,[e("div",K,[R,e("div",z,[P,o(i,{disabled:!a.$page.props.auth.user,id:"high_concept",modelValue:r(s).characterData.high_concept,"onUpdate:modelValue":l[1]||(l[1]=t=>r(s).characterData.high_concept=t),class:"w-full"},null,8,["disabled","modelValue"])]),e("div",Z,[G,o(i,{disabled:!a.$page.props.auth.user,id:"trouble",modelValue:r(s).characterData.trouble,"onUpdate:modelValue":l[2]||(l[2]=t=>r(s).characterData.trouble=t),class:"w-full"},null,8,["disabled","modelValue"])]),e("div",Q,[W,o(i,{disabled:!a.$page.props.auth.user,id:"relationship",modelValue:r(s).characterData.relationship,"onUpdate:modelValue":l[3]||(l[3]=t=>r(s).characterData.relationship=t),class:"w-full"},null,8,["disabled","modelValue"])]),e("div",X,[Y,o(i,{disabled:!a.$page.props.auth.user,id:"aspect",modelValue:r(s).characterData.aspect,"onUpdate:modelValue":l[4]||(l[4]=t=>r(s).characterData.aspect=t),class:"w-full"},null,8,["disabled","modelValue"])]),e("div",ee,[se,o(i,{disabled:!a.$page.props.auth.user,id:"aspect2",modelValue:r(s).characterData.aspect2,"onUpdate:modelValue":l[5]||(l[5]=t=>r(s).characterData.aspect2=t),class:"w-full"},null,8,["disabled","modelValue"])])]),e("div",ae,[te,e("div",le,[re,o(T,{disabled:!a.$page.props.auth.user,modelValue:r(s).characterData.stunts,"onUpdate:modelValue":l[6]||(l[6]=t=>r(s).characterData.stunts=t),class:"w-full",rows:"15"},null,8,["disabled","modelValue"])]),e("div",oe,[e("div",de,[_(e("input",{disabled:!a.$page.props.auth.user,type:"tel",id:"refresh","onUpdate:modelValue":l[7]||(l[7]=t=>r(s).characterData.refresh=t),class:"w-20 h-20 p-4 text-4xl bg-transparent border border-gray-300 rounded-full focus:ring-indigo-500 focus:border-indigo-500 dark:text-gray-300"},null,8,ie),[[f,"#"],[v,r(s).characterData.refresh]]),ce]),e("div",ne,[ue,_(e("input",{disabled:!a.$page.props.auth.user,type:"number",id:"fp","onUpdate:modelValue":l[8]||(l[8]=t=>r(s).characterData.fate_point=t),class:"w-20 h-20 p-4 text-4xl bg-transparent border border-gray-300 rounded-full focus:ring-indigo-500 focus:border-indigo-500 dark:text-gray-300"},null,8,pe),[[f,"#"],[v,r(s).characterData.fate_point]])])])])]),e("div",he,[e("div",fe,[ge,e("div",me,[be,e("div",_e,[(c(!0),n(y,null,w(g.value,(t,d)=>(c(),n("div",{key:d},[_(e("input",{disabled:!a.$page.props.auth.user,id:"physical-"+(d+1),type:"checkbox","onUpdate:modelValue":b=>t.checked=b,onChange:V,class:"hidden peer"},null,40,xe),[[D,t.checked]]),e("label",{for:"physical-"+(d+1),class:"inline-flex items-center justify-center w-10 h-10 text-transparent bg-white border-2 border-gray-300 rounded-lg cursor-pointer sm:w-12 sm:h-12 dark:bg-gray-800 dark:border-gray-700 peer-checked:border-pink-600 dark:peer-checked:text-pink-300 peer-checked:text-pink-600 hover:bg-gray-50 dark:hover:bg-gray-700"},ye,8,ke)]))),128))])]),e("div",we,[Ve,e("div",De,[(c(!0),n(y,null,w(h.value,(t,d)=>(c(),n("div",{key:d},[_(e("input",{disabled:!a.$page.props.auth.user,id:"mental-"+(d+1),type:"checkbox","onUpdate:modelValue":b=>t.checked=b,onChange:V,class:"hidden peer"},null,40,$e),[[D,t.checked]]),e("label",{for:"mental-"+(d+1),class:"inline-flex items-center justify-center w-10 h-10 text-transparent bg-white border-2 border-gray-300 rounded-lg cursor-pointer sm:w-12 sm:h-12 dark:bg-gray-800 dark:border-gray-700 peer-checked:border-cyan-600 dark:peer-checked:text-cyan-300 peer-checked:text-cyan-600 hover:bg-gray-50 dark:hover:bg-gray-700"},je,8,Ue)]))),128))])]),Ce,e("div",Oe,[Be,e("div",Ne,[Ae,o(i,{disabled:!a.$page.props.auth.user,id:"mild",modelValue:r(s).characterData.mild,"onUpdate:modelValue":l[9]||(l[9]=t=>r(s).characterData.mild=t),class:"w-full"},null,8,["disabled","modelValue"])])]),e("div",Me,[Fe,e("div",Je,[Te,o(i,{disabled:!a.$page.props.auth.user,id:"moderate",modelValue:r(s).characterData.moderate,"onUpdate:modelValue":l[10]||(l[10]=t=>r(s).characterData.moderate=t),class:"w-full"},null,8,["disabled","modelValue"])])]),e("div",qe,[He,e("div",Le,[Ee,o(i,{disabled:!a.$page.props.auth.user,id:"severe",modelValue:r(s).characterData.severe,"onUpdate:modelValue":l[11]||(l[11]=t=>r(s).characterData.severe=t),class:"w-full"},null,8,["disabled","modelValue"])])]),e("div",Ie,[Ke,e("div",Re,[ze,o(i,{disabled:!a.$page.props.auth.user,id:"extreme",modelValue:r(s).characterData.extreme,"onUpdate:modelValue":l[12]||(l[12]=t=>r(s).characterData.extreme=t),class:"w-full"},null,8,["disabled","modelValue"])])]),e("div",Pe,[Ze,e("div",Ge,[Qe,o(i,{disabled:!a.$page.props.auth.user,id:"mild2",modelValue:r(s).characterData.mild2,"onUpdate:modelValue":l[13]||(l[13]=t=>r(s).characterData.mild2=t),class:"w-full"},null,8,["disabled","modelValue"])])])]),e("div",We,[Xe,e("div",Ye,[(c(!0),n(y,null,w(S.value,(t,d)=>(c(),n("div",{key:d,class:"flex items-center gap-2 text-xl tracking-wide dark:text-gray-100"},[_(e("input",{disabled:!a.$page.props.auth.user,type:"number","onUpdate:modelValue":b=>k.value[d]=b,class:"w-16 h-16 p-2 text-center bg-transparent border border-gray-300 rounded-full dark:border-gray-600"},null,8,es),[[v,k.value[d]]]),e("span",null,M(a.$t(`skills.${t}`)),1)]))),128))])])])])]),a.$page.props.auth.user?(c(),n("div",ss,[e("div",as,[ts,e("button",ls,[rs,o(F,{show:m.value,radius:"4"},null,8,["show"])])])])):N("",!0)],32)}}};export{ns as default};
