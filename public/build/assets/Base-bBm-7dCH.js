import{Q as ee,k as i,T as H,h as te,l as ae,f,b as e,a as c,u as o,c as x,g as _,i as p,m as T,F as $,p as z,t as B,q as U,e as Z,w as E,s as se,o as n,v as q,x as le,y as oe,z as O,O as re}from"./app-xCBzFJZn.js";import{_ as S}from"./TextInput-4HNFHFzW.js";import{_ as m,a as v,M as J}from"./MiniLoader-vkYbElzG.js";import{_ as P}from"./Modal-709FqC_D.js";import{_ as de}from"./Roll-0QDMdoRn.js";import{t as ce}from"./toast-TFXTKanz.js";import{_ as ne}from"./_plugin-vue_export-helper-x3n3nnut.js";const l=y=>(le("data-v-1780d37c"),y=y(),oe(),y),ie={class:"w-full h-full p-4 pb-32"},ue={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},he={class:"flex flex-col items-start p-4 bg-white rounded-lg shadow-md dark:bg-gray-800 col-span-full"},fe=l(()=>e("label",{for:"name"},"Name",-1)),pe={class:"flex flex-col gap-6"},_e={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},me=l(()=>e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Aspects")],-1)),ge={class:"flex flex-col items-start"},xe=l(()=>e("label",{for:"high_concept"},"High Concept",-1)),ve={class:"flex flex-col items-start"},be=l(()=>e("label",{for:"trouble"},"Trouble",-1)),ye={class:"flex flex-col items-start"},ke=l(()=>e("label",{for:"relationship"},"Relationships",-1)),we={class:"flex flex-col items-start"},Ve=l(()=>e("label",{for:"aspect"},"Serbest Aspect",-1)),De={class:"flex flex-col items-start"},Ue=l(()=>e("label",{for:"aspect2"},"Serbest Aspect",-1)),Se={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},je=l(()=>e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Stunts")],-1)),Ce={class:"flex flex-col items-start"},$e=l(()=>e("label",{for:"aspect"},"Stuntlar",-1)),Be={class:"flex justify-between gap-2"},Oe={class:"flex flex-col-reverse items-center justify-between md:flex-row"},Fe=["disabled"],Le=l(()=>e("label",{for:"refresh",class:"ml-2 text-3xl"},"Refresh",-1)),Me={class:"flex flex-col items-center justify-between md:flex-row"},Ne=l(()=>e("label",{for:"fp",class:"mr-2 text-3xl"},"Fate Point",-1)),Te=["disabled"],ze={class:"flex flex-col gap-6"},Ee={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},Ae=l(()=>e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Stress")],-1)),Ie={class:"flex flex-col items-start"},Ke=l(()=>e("label",null,"Fiziksel",-1)),He={class:"flex justify-between w-full gap-2 sm:justify-start"},Ze=["disabled","id","onUpdate:modelValue"],qe=["for"],Je=l(()=>e("i",{class:"text-2xl fa-solid fa-check"},null,-1)),Pe=[Je],Re={class:"flex flex-col items-start"},Qe=l(()=>e("label",null,"Zihinsel",-1)),Ge={class:"flex justify-between w-full gap-2 sm:justify-start"},We=["disabled","id","onUpdate:modelValue"],Xe=["for"],Ye=l(()=>e("i",{class:"text-2xl fa-solid fa-check"},null,-1)),et=[Ye],tt=l(()=>e("div",{class:"-mb-4"},[e("span",{class:"header dark:text-gray-200"},"Consequences")],-1)),at={class:"flex flex-col items-start"},st=l(()=>e("label",{for:"mild"},"Hafif",-1)),lt={class:"flex w-full gap-1"},ot=l(()=>e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"2",-1)),rt={class:"flex flex-col items-start"},dt=l(()=>e("label",{for:"moderate"},"Orta",-1)),ct={class:"flex w-full gap-1"},nt=l(()=>e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"4",-1)),it={class:"flex flex-col items-start"},ut=l(()=>e("label",{for:"severe"},"Ağır",-1)),ht={class:"flex w-full gap-1"},ft=l(()=>e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"6",-1)),pt={class:"flex flex-col items-start"},_t=l(()=>e("label",{for:"extreme"},"Kritik",-1)),mt={class:"flex w-full gap-1"},gt=l(()=>e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"8",-1)),xt={class:"flex flex-col items-start opacity-50"},vt=l(()=>e("label",{for:"mild2"},"Hafif",-1)),bt={class:"flex w-full gap-1"},yt=l(()=>e("div",{class:"h-[42px] max-w-[42px] w-full text-center p-2 border border-gray-300 dark:border-gray-700 rounded font-semibold text-gray-400"},"2",-1)),kt={class:"flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800"},wt={class:"dark:text-gray-200"},Vt=l(()=>e("span",{class:"header"},"Skills",-1)),Dt=l(()=>e("span",{class:""},"Total: ",-1)),Ut={class:"font-semibold text-pink-600 dark:text-pink-300"},St={class:"grid grid-cols-1 sm:grid-cols-3 md:grid-cols-2 xl:grid-cols-3 gap-y-4 gap-x-2"},jt=["onUpdate:modelValue"],Ct={key:1,class:"flex items-center justify-center w-16 h-16 p-2 text-center bg-transparent border border-gray-300 rounded-full dark:border-gray-600"},$t={key:0,class:"fixed left-0 z-40 w-full px-2 bottom-2"},Bt={class:"flex gap-2 p-4 bg-white bg-opacity-50 border border-gray-300 rounded-lg dark:bg-opacity-10 dark:border-gray-800 backdrop-blur-md"},Ot={class:"grid w-full grid-cols-6 gap-2 sm:grid-cols-12"},Ft=l(()=>e("i",{class:"text-xs fa-solid fa-trash"},null,-1)),Lt=l(()=>e("span",{class:"hidden sm:block"},"Sil",-1)),Mt=[Ft,Lt],Nt=l(()=>e("i",{class:"fa-solid fa-note-sticky"},null,-1)),Tt=l(()=>e("span",{class:"hidden sm:block"},"Notlar",-1)),zt=[Nt,Tt],Et=l(()=>e("i",{class:"text-xs fa-solid fa-dice"},null,-1)),At=l(()=>e("span",{class:"hidden sm:block"},"Zar",-1)),It=[Et,At],Kt={class:"text-xs fa-solid fa-share"},Ht={class:"text-xs fa-solid fa-check"},Zt={class:"w-full col-span-6 col-start-1 row-start-1 text-green-600 bg-green-100 sm:col-start-9 sm:col-span-4 generalButton",type:"submit"},qt={class:"fa-solid fa-save"},Jt=l(()=>e("span",{class:"hidden sm:block"},"Kaydet",-1)),Pt={class:"absolute top-0 right-0 w-4/5 h-full overflow-scroll transition-all duration-300 ease-in bg-white shadow-xl dark:bg-gray-800 lg:w-1/3"},Rt={class:"h-full p-4"},Qt=l(()=>e("i",{class:"text-[11px] fa-solid fa-x"},null,-1)),Gt=[Qt],Wt={class:"h-full mt-4"},Xt=l(()=>e("label",{for:"notes",class:""},"Notes",-1)),Yt={class:"p-6"},ea={class:"relative mb-2"},ta=l(()=>e("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," Karakteri Sil ",-1)),aa=l(()=>e("i",{class:"text-sm fa-solid fa-x"},null,-1)),sa=[aa],la={class:"my-6 dark:text-gray-200"},oa={class:"flex items-center justify-between"},ra=l(()=>e("span",null,"Vazgeç",-1)),da=[ra],ca=l(()=>e("span",null,"Sil",-1)),na={class:"p-6"},ia={class:"relative mb-2"},ua=l(()=>e("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," Zar At ",-1)),ha=l(()=>e("i",{class:"text-sm fa-solid fa-x"},null,-1)),fa=[ha],pa={class:"my-6 dark:text-gray-200"},_a={__name:"Base",props:{character:{type:Object},skills:{type:Object},skillLabels:{type:Array}},setup(y){const k=y,R=ee(),d=i(R.props.auth.user.id==k.character.user_id),s=H({characterData:k.character,skills:k.skills}),F=i([{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1}]),L=i([{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1},{checked:!1}]);if(s.characterData.physical_stress!=null)for(let r=0;r<s.characterData.physical_stress;r++)F.value[r].checked=!0;if(s.characterData.mental_stress!=null)for(let r=0;r<s.characterData.mental_stress;r++)L.value[r].checked=!0;const j=i(!1),A=i([]);function I(){s.characterData.physical_stress=F.value.filter(r=>r.checked).length,s.characterData.mental_stress=L.value.filter(r=>r.checked).length,console.log(s.characterData)}const w=i(JSON.parse(k.skills.skills_data)),Q=i(k.skillLabels),G=te(()=>w.value.reduce((r,t)=>r+t,0)),W=async()=>{O.start(),j.value=!0,s.skills.skills_data=JSON.stringify(w.value),s.post("/character-update",{preserveScroll:!0,onSuccess:r=>{},onError:r=>{let t=Object.keys(r);for(let h=0;h<t.length;h++)A.value.push(r[t[h]])},onFinish:()=>{j.value=!1,O.done()}})},b=i(!1),M=i(!1),V=i(!1),K=H({id:""}),N=i(!1);i(!1);function X(r){O.start(),N.value=!0,K.id=r,K.post("/character-delete",{preserveScroll:!0,onSuccess:t=>{V.value=!1,setTimeout(()=>{re.visit("/dashboard")},100)},onError:t=>{let h=Object.keys(t);for(let a=0;a<h.length;a++)A.value.push(t[h[a]])},onFinish:()=>{N.value=!1,O.done()}})}function g(r){return r==null?0:r.length}const C=i(!1),Y=async()=>{try{const r=window.location.href;await navigator.clipboard.writeText(r),C.value=!0,ce.add({type:"success",message:"Panoya Kopyalandı!"}),setTimeout(()=>{C.value=!1},2e3)}catch(r){console.error("Failed to copy: ",r)}};return(r,t)=>{const h=ae("mask");return n(),f($,null,[e("form",{onSubmit:Z(W,["prevent"])},[e("div",ie,[e("div",ue,[e("div",he,[fe,c(m,{maxlength:"300",rows:"2",auth:d.value,id:"name",modelValue:o(s).characterData.name,"onUpdate:modelValue":t[0]||(t[0]=a=>o(s).characterData.name=a),class:"w-full"},null,8,["auth","modelValue"]),d.value?(n(),x(v,{key:0,maxlength:"300",value:g(o(s).characterData.name)},null,8,["value"])):_("",!0)]),e("div",pe,[e("div",_e,[me,e("div",ge,[xe,c(m,{maxlength:"300",rows:"2",auth:d.value,id:"high_concept",modelValue:o(s).characterData.high_concept,"onUpdate:modelValue":t[1]||(t[1]=a=>o(s).characterData.high_concept=a),class:"w-full"},null,8,["auth","modelValue"]),d.value?(n(),x(v,{key:0,maxlength:"300",value:g(o(s).characterData.high_concept)},null,8,["value"])):_("",!0)]),e("div",ve,[be,c(m,{maxlength:"300",rows:"2",auth:d.value,id:"trouble",modelValue:o(s).characterData.trouble,"onUpdate:modelValue":t[2]||(t[2]=a=>o(s).characterData.trouble=a),class:"w-full"},null,8,["auth","modelValue"]),d.value?(n(),x(v,{key:0,maxlength:"300",value:g(o(s).characterData.trouble)},null,8,["value"])):_("",!0)]),e("div",ye,[ke,c(m,{maxlength:"300",rows:"2",auth:d.value,id:"relationship",modelValue:o(s).characterData.relationship,"onUpdate:modelValue":t[3]||(t[3]=a=>o(s).characterData.relationship=a),class:"w-full"},null,8,["auth","modelValue"]),d.value?(n(),x(v,{key:0,maxlength:"300",value:g(o(s).characterData.relationship)},null,8,["value"])):_("",!0)]),e("div",we,[Ve,c(m,{maxlength:"300",rows:"2",auth:d.value,id:"aspect",modelValue:o(s).characterData.aspect,"onUpdate:modelValue":t[4]||(t[4]=a=>o(s).characterData.aspect=a),class:"w-full"},null,8,["auth","modelValue"]),d.value?(n(),x(v,{key:0,maxlength:"300",value:g(o(s).characterData.aspect)},null,8,["value"])):_("",!0)]),e("div",De,[Ue,c(m,{maxlength:"300",rows:"2",auth:d.value,id:"aspect2",modelValue:o(s).characterData.aspect2,"onUpdate:modelValue":t[5]||(t[5]=a=>o(s).characterData.aspect2=a),class:"w-full"},null,8,["auth","modelValue"]),d.value?(n(),x(v,{key:0,maxlength:"300",value:g(o(s).characterData.aspect2)},null,8,["value"])):_("",!0)])]),e("div",Se,[je,e("div",Ce,[$e,c(m,{maxlength:"2000",auth:d.value,modelValue:o(s).characterData.stunts,"onUpdate:modelValue":t[6]||(t[6]=a=>o(s).characterData.stunts=a),class:"w-full",rows:"15"},null,8,["auth","modelValue"]),d.value?(n(),x(v,{key:0,maxlength:"2000",value:g(o(s).characterData.stunts)},null,8,["value"])):_("",!0)]),e("div",Be,[e("div",Oe,[p(e("input",{disabled:!d.value,type:"number",id:"refresh","onUpdate:modelValue":t[7]||(t[7]=a=>o(s).characterData.refresh=a),class:"w-20 h-20 p-4 text-4xl bg-transparent border border-gray-300 rounded-full focus:ring-indigo-500 focus:border-indigo-500 dark:text-gray-300"},null,8,Fe),[[h,"#"],[T,o(s).characterData.refresh]]),Le]),e("div",Me,[Ne,p(e("input",{disabled:!d.value,type:"number",id:"fp","onUpdate:modelValue":t[8]||(t[8]=a=>o(s).characterData.fate_point=a),class:"w-20 h-20 p-4 text-4xl bg-transparent border border-gray-300 rounded-full focus:ring-indigo-500 focus:border-indigo-500 dark:text-gray-300"},null,8,Te),[[h,"#"],[T,o(s).characterData.fate_point]])])])])]),e("div",ze,[e("div",Ee,[Ae,e("div",Ie,[Ke,e("div",He,[(n(!0),f($,null,z(F.value,(a,u)=>(n(),f("div",{key:u},[p(e("input",{disabled:!d.value,id:"physical-"+(u+1),type:"checkbox","onUpdate:modelValue":D=>a.checked=D,onChange:I,class:"hidden peer"},null,40,Ze),[[q,a.checked]]),e("label",{for:"physical-"+(u+1),class:"inline-flex items-center justify-center w-10 h-10 text-transparent bg-white border-2 border-gray-300 rounded-lg cursor-pointer sm:w-12 sm:h-12 dark:bg-gray-800 dark:border-gray-700 peer-checked:border-pink-600 dark:peer-checked:text-pink-300 peer-checked:text-pink-600 hover:bg-gray-50 dark:hover:bg-gray-700"},Pe,8,qe)]))),128))])]),e("div",Re,[Qe,e("div",Ge,[(n(!0),f($,null,z(L.value,(a,u)=>(n(),f("div",{key:u},[p(e("input",{disabled:!d.value,id:"mental-"+(u+1),type:"checkbox","onUpdate:modelValue":D=>a.checked=D,onChange:I,class:"hidden peer"},null,40,We),[[q,a.checked]]),e("label",{for:"mental-"+(u+1),class:"inline-flex items-center justify-center w-10 h-10 text-transparent bg-white border-2 border-gray-300 rounded-lg cursor-pointer sm:w-12 sm:h-12 dark:bg-gray-800 dark:border-gray-700 peer-checked:border-cyan-600 dark:peer-checked:text-cyan-300 peer-checked:text-cyan-600 hover:bg-gray-50 dark:hover:bg-gray-700"},et,8,Xe)]))),128))])]),tt,e("div",at,[st,e("div",lt,[ot,c(S,{auth:d.value,maxlength:"200",id:"mild",modelValue:o(s).characterData.mild,"onUpdate:modelValue":t[9]||(t[9]=a=>o(s).characterData.mild=a),class:"w-full"},null,8,["auth","modelValue"])])]),e("div",rt,[dt,e("div",ct,[nt,c(S,{auth:d.value,maxlength:"200",id:"moderate",modelValue:o(s).characterData.moderate,"onUpdate:modelValue":t[10]||(t[10]=a=>o(s).characterData.moderate=a),class:"w-full"},null,8,["auth","modelValue"])])]),e("div",it,[ut,e("div",ht,[ft,c(S,{auth:d.value,maxlength:"200",id:"severe",modelValue:o(s).characterData.severe,"onUpdate:modelValue":t[11]||(t[11]=a=>o(s).characterData.severe=a),class:"w-full"},null,8,["auth","modelValue"])])]),e("div",pt,[_t,e("div",mt,[gt,c(S,{auth:d.value,maxlength:"200",id:"extreme",modelValue:o(s).characterData.extreme,"onUpdate:modelValue":t[12]||(t[12]=a=>o(s).characterData.extreme=a),class:"w-full"},null,8,["auth","modelValue"])])]),e("div",xt,[vt,e("div",bt,[yt,c(S,{auth:d.value,maxlength:"200",id:"mild2",modelValue:o(s).characterData.mild2,"onUpdate:modelValue":t[13]||(t[13]=a=>o(s).characterData.mild2=a),class:"w-full"},null,8,["auth","modelValue"])])])]),e("div",kt,[e("div",wt,[Vt,e("div",null,[Dt,e("span",Ut,B(G.value),1)])]),e("div",St,[(n(!0),f($,null,z(Q.value,(a,u)=>(n(),f("div",{key:u,class:"flex items-center gap-2 text-xl tracking-wide dark:text-gray-100"},[d.value?p((n(),f("input",{key:0,type:"number",min:"0","onUpdate:modelValue":D=>w.value[u]=D,class:"w-16 h-16 p-2 text-center bg-transparent border border-gray-300 rounded-full dark:border-gray-600"},null,8,jt)),[[h,"##"],[T,w.value[u]]]):(n(),f("div",Ct,B(w.value[u]),1)),e("span",null,B(a)+" ",1)]))),128))])])])])]),d.value?(n(),f("div",$t,[e("div",Bt,[e("div",Ot,[e("button",{type:"button",class:"text-red-600 bg-red-100 generalButton",onClick:t[14]||(t[14]=a=>{V.value=!0})},Mt),e("button",{type:"button",class:"col-span-2 col-start-3 text-amber-600 bg-amber-100 generalButton",onClick:t[15]||(t[15]=a=>b.value=!b.value)},zt),e("button",{type:"button",class:"col-span-2 col-start-5 text-indigo-600 bg-indigo-100 generalButton",onClick:t[16]||(t[16]=a=>{M.value=!0})},It),e("button",{type:"button",class:"col-start-2 row-start-2 sm:row-start-1 sm:col-start-8 text-neutral-600 bg-neutral-100 generalButton",onClick:Y},[p(e("i",Kt,null,512),[[U,!C.value]]),p(e("i",Ht,null,512),[[U,C.value]])]),e("button",Zt,[c(J,{show:j.value,radius:"4"},null,8,["show"]),p(e("i",qt,null,512),[[U,!j.value]]),Jt])])])])):_("",!0)],32),p(e("div",{class:"fixed top-0 left-0 w-full h-full bg-gray-800/30 dark:bg-gray-900/50",onClick:t[19]||(t[19]=Z(a=>b.value=!1,["self"]))},[c(se,{name:"slide-fade"},{default:E(()=>[p(e("div",Pt,[e("div",Rt,[e("button",{type:"button",class:"absolute flex items-center justify-center w-6 h-6 rounded-full text-sky-600 bg-sky-100 right-2 top-2",onClick:t[17]||(t[17]=a=>b.value=!1)},Gt),e("div",Wt,[Xt,c(m,{id:"notes",auth:d.value,modelValue:o(s).characterData.notes,"onUpdate:modelValue":t[18]||(t[18]=a=>o(s).characterData.notes=a),class:"w-full h-[calc(100%-124px)]",rows:"15"},null,8,["auth","modelValue"])])])],512),[[U,b.value]])]),_:1})],512),[[U,b.value]]),c(P,{show:V.value},{default:E(()=>[e("div",Yt,[e("div",ea,[ta,e("button",{class:"absolute top-0 right-0 flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full dark:bg-gray-900 dark:text-white hoverEffect",onClick:t[20]||(t[20]=a=>{V.value=!1})},sa)]),e("div",la,' "'+B(o(s).characterData.name)+'" karakterini silmek istediğinize emin misiniz? ',1),e("div",oa,[e("button",{class:"px-4 py-2 rounded bg-sky-200 text-sky-700 hoverEffect h-[42px] flex gap-1 items-center justify-center",onClick:t[21]||(t[21]=a=>{V.value=!1})},da),e("button",{class:"px-4 py-2 rounded bg-red-200 text-red-700 hoverEffect h-[42px] flex gap-1 items-center justify-center",onClick:t[22]||(t[22]=a=>X(o(s).characterData.character_id))},[ca,c(J,{show:N.value,radius:"4"},null,8,["show"])])])])]),_:1},8,["show"]),c(P,{show:M.value},{default:E(()=>[e("div",na,[e("div",ia,[ua,e("button",{class:"absolute top-0 right-0 flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full dark:bg-gray-900 dark:text-white hoverEffect",onClick:t[23]||(t[23]=a=>{M.value=!1})},fa)]),e("div",pa,[c(de,{type:"2"})])])]),_:1},8,["show"])],64)}}},wa=ne(_a,[["__scopeId","data-v-1780d37c"]]);export{wa as default};
